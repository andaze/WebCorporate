(()=>{var jS=Object.create;var V0=Object.defineProperty;var qS=Object.getOwnPropertyDescriptor;var YS=Object.getOwnPropertyNames;var XS=Object.getPrototypeOf,JS=Object.prototype.hasOwnProperty;var Mt=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var ZS=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of YS(e))!JS.call(r,i)&&i!==t&&V0(r,i,{get:()=>e[i],enumerable:!(n=qS(e,i))||n.enumerable});return r};var no=(r,e,t)=>(t=r!=null?jS(XS(r)):{},ZS(e||!r||!r.__esModule?V0(t,"default",{value:r,enumerable:!0}):t,r));var G0=Mt((BD,W0)=>{var KS=9;typeof Element<"u"&&!Element.prototype.matches&&(as=Element.prototype,as.matches=as.matchesSelector||as.mozMatchesSelector||as.msMatchesSelector||as.oMatchesSelector||as.webkitMatchesSelector);var as;function QS(r,e){for(;r&&r.nodeType!==KS;){if(typeof r.matches=="function"&&r.matches(e))return r;r=r.parentNode}}W0.exports=QS});var j0=Mt((UD,$0)=>{var eM=G0();function tM(r,e,t,n,i){var s=nM.apply(this,arguments);return r.addEventListener(t,s,i),{destroy:function(){r.removeEventListener(t,s,i)}}}function nM(r,e,t,n){return function(i){i.delegateTarget=eM(i.target,e),i.delegateTarget&&n.call(r,i)}}$0.exports=tM});var q0=Mt(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});var iM=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function rM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var sM=Zl.Cache=function(){function r(){rM(this,r),this.pages={},this.last=null}return iM(r,[{key:"cacheUrl",value:function(t){t.url in this.pages||(this.pages[t.url]=t),this.last=this.pages[t.url],this.swup.log("Cache ("+Object.keys(this.pages).length+")",this.pages)}},{key:"getPage",value:function(t){return this.pages[t]}},{key:"getCurrentPage",value:function(){return this.getPage(window.location.pathname+window.location.search)}},{key:"exists",value:function(t){return t in this.pages}},{key:"empty",value:function(){this.pages={},this.last=null,this.swup.log("Cache cleared")}},{key:"remove",value:function(t){delete this.pages[t]}}]),r}();Zl.default=sM});var Y0=Mt(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});var oM=function(e){var t=e.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return t[0]==="/"&&(t=t.splice(1)),t===""&&(t="homepage"),t};Lf.default=oM});var X0=Mt(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});var aM=function(e){window.history.pushState({url:e||window.location.href.split(window.location.hostname)[1],random:Math.random(),source:"swup"},document.getElementsByTagName("title")[0].innerText,e||window.location.href.split(window.location.hostname)[1])};Rf.default=aM});var io=Mt(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});var GD=Kl.query=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof e!="string"?e:t.querySelector(e)},$D=Kl.queryAll=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof e!="string"?e:Array.prototype.slice.call(t.querySelectorAll(e))}});var J0=Mt(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});var lM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nf=io(),cM=function(e,t){var n=document.createElement("html");n.innerHTML=e;for(var i=[],s=function(u){if(n.querySelector(t[u])==null)return{v:null};(0,Nf.queryAll)(t[u]).forEach(function(h,f){(0,Nf.queryAll)(t[u],n)[f].setAttribute("data-swup",i.length),i.push((0,Nf.queryAll)(t[u],n)[f].outerHTML)})},o=0;o<t.length;o++){var a=s(o);if((typeof a>"u"?"undefined":lM(a))==="object")return a.v}var l={title:n.querySelector("title").innerText,pageClass:n.querySelector("body").className,originalContent:e,blocks:i};return n.innerHTML="",n=null,l};zf.default=cM});var Z0=Mt(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});var uM=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},fM=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n={url:window.location.pathname+window.location.search,method:"GET",data:null,headers:{}},i=uM({},n,e),s=new XMLHttpRequest;return s.onreadystatechange=function(){s.readyState===4&&(s.status,t(s))},s.open(i.method,i.url,!0),Object.keys(i.headers).forEach(function(o){s.setRequestHeader(o,i.headers[o])}),s.send(i.data),s};Ff.default=fM});var K0=Mt(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});var hM=function(){var e=document.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==void 0)return t[n];return!1};Bf.default=hM});var Q0=Mt(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});var dM=function(){return window.location.pathname+window.location.search};Uf.default=dM});var t_=Mt(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});var e_=io(),pM=function(e,t){for(var n=0,i=function(a){e.querySelector(t[a])==null?console.warn("Element "+t[a]+" is not in current page."):(0,e_.queryAll)(t[a]).forEach(function(l,c){(0,e_.queryAll)(t[a],e)[c].setAttribute("data-swup",n),n++})},s=0;s<t.length;s++)i(s)};Hf.default=pM});var n_=Mt(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});var mM=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function gM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var vM=function(){function r(e){gM(this,r),e instanceof Element||e instanceof SVGElement?this.link=e:(this.link=document.createElement("a"),this.link.href=e)}return mM(r,[{key:"getPath",value:function(){var t=this.link.pathname;return t[0]!=="/"&&(t="/"+t),t}},{key:"getAddress",value:function(){var t=this.link.pathname+this.link.search;return this.link.getAttribute("xlink:href")&&(t=this.link.getAttribute("xlink:href")),t[0]!=="/"&&(t="/"+t),t}},{key:"getHash",value:function(){return this.link.hash}}]),r}();Vf.default=vM});var ro=Mt(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.Link=nn.markSwupElements=nn.getCurrentUrl=nn.transitionEnd=nn.fetch=nn.getDataFromHtml=nn.createHistoryRecord=nn.classify=void 0;var _M=Y0(),yM=Sr(_M),bM=X0(),xM=Sr(bM),wM=J0(),SM=Sr(wM),MM=Z0(),TM=Sr(MM),EM=K0(),CM=Sr(EM),AM=Q0(),PM=Sr(AM),OM=t_(),kM=Sr(OM),DM=n_(),IM=Sr(DM);function Sr(r){return r&&r.__esModule?r:{default:r}}var QD=nn.classify=yM.default,eI=nn.createHistoryRecord=xM.default,tI=nn.getDataFromHtml=SM.default,nI=nn.fetch=TM.default,iI=nn.transitionEnd=CM.default,rI=nn.getCurrentUrl=PM.default,sI=nn.markSwupElements=kM.default,oI=nn.Link=IM.default});var i_=Mt(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});var LM=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ql=ro(),RM=function(e,t){var n=this,i=[],s=void 0,o=function(){if(n.triggerEvent("animationOutStart"),document.documentElement.classList.add("is-changing"),document.documentElement.classList.add("is-leaving"),document.documentElement.classList.add("is-animating"),t&&document.documentElement.classList.add("is-popstate"),document.documentElement.classList.add("to-"+(0,Ql.classify)(e.url)),i=n.getAnimationPromises("out"),Promise.all(i).then(function(){n.triggerEvent("animationOutDone")}),!t){var l=void 0;n.scrollToElement!=null?l=e.url+n.scrollToElement:l=e.url,(0,Ql.createHistoryRecord)(l)}};this.triggerEvent("transitionStart",t),e.customTransition!=null?(this.updateTransition(window.location.pathname,e.url,e.customTransition),document.documentElement.classList.add("to-"+(0,Ql.classify)(e.customTransition))):this.updateTransition(window.location.pathname,e.url),!t||this.options.animateHistoryBrowsing?o():this.triggerEvent("animationSkipped"),this.cache.exists(e.url)?(s=new Promise(function(a){a()}),this.triggerEvent("pageRetrievedFromCache")):!this.preloadPromise||this.preloadPromise.route!=e.url?s=new Promise(function(a,l){(0,Ql.fetch)(LM({},e,{headers:n.options.requestHeaders}),function(c){if(c.status===500){n.triggerEvent("serverError"),l(e.url);return}else{var u=n.getPageData(c);if(u!=null)u.url=e.url;else{l(e.url);return}n.cache.cacheUrl(u),n.triggerEvent("pageLoaded")}a()})}):s=this.preloadPromise,Promise.all(i.concat([s])).then(function(){n.renderPage(n.cache.getPage(e.url),t),n.preloadPromise=null}).catch(function(a){n.options.skipPopStateHandling=function(){return window.location=a,!0},window.history.go(-1)})};Wf.default=RM});var r_=Mt(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});var NM=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},cI=io(),zM=ro(),FM=function(e,t){var n=this;document.documentElement.classList.remove("is-leaving");var i=new zM.Link(e.responseURL);window.location.pathname!==i.getPath()&&(window.history.replaceState({url:i.getPath(),random:Math.random(),source:"swup"},document.title,i.getPath()),this.cache.cacheUrl(NM({},e,{url:i.getPath()}))),(!t||this.options.animateHistoryBrowsing)&&document.documentElement.classList.add("is-rendering"),this.triggerEvent("willReplaceContent",t);for(var s=0;s<e.blocks.length;s++)document.body.querySelector('[data-swup="'+s+'"]').outerHTML=e.blocks[s];if(document.title=e.title,this.triggerEvent("contentReplaced",t),this.triggerEvent("pageView",t),this.options.cache||this.cache.empty(),setTimeout(function(){(!t||n.options.animateHistoryBrowsing)&&(n.triggerEvent("animationInStart"),document.documentElement.classList.remove("is-animating"))},10),!t||this.options.animateHistoryBrowsing){var o=this.getAnimationPromises("in");Promise.all(o).then(function(){n.triggerEvent("animationInDone"),n.triggerEvent("transitionEnd",t),document.documentElement.className.split(" ").forEach(function(a){(new RegExp("^to-").test(a)||a==="is-changing"||a==="is-rendering"||a==="is-popstate")&&document.documentElement.classList.remove(a)})})}else this.triggerEvent("transitionEnd",t);this.scrollToElement=null};Gf.default=FM});var s_=Mt($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var BM=function(e,t){this._handlers[e].forEach(function(i){try{i(t)}catch(s){console.error(s)}});var n=new CustomEvent("swup:"+e,{detail:e});document.dispatchEvent(n)};$f.default=BM});var o_=Mt(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});var UM=function(e,t){this._handlers[e]?this._handlers[e].push(t):console.warn("Unsupported event "+e+".")};jf.default=UM});var a_=Mt(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});var HM=function(e,t){var n=this;if(e!=null)if(t!=null)if(this._handlers[e]&&this._handlers[e].filter(function(o){return o===t}).length){var i=this._handlers[e].filter(function(o){return o===t})[0],s=this._handlers[e].indexOf(i);s>-1&&this._handlers[e].splice(s,1)}else console.warn("Handler for event '"+e+"' no found.");else this._handlers[e]=[];else Object.keys(this._handlers).forEach(function(o){n._handlers[o]=[]})};qf.default=HM});var l_=Mt(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});var VM=function(e,t,n){this.transition={from:e,to:t,custom:n}};Yf.default=VM});var c_=Mt(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});var WM=io(),GM=ro(),$M=function(){var e=[],t=(0,WM.queryAll)(this.options.animationSelector);return t.forEach(function(n){var i=new Promise(function(s){n.addEventListener((0,GM.transitionEnd)(),function(o){n==o.target&&s()})});e.push(i)}),e};Xf.default=$M});var u_=Mt(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});var jM=ro(),qM=function(e){var t=e.responseText,n=(0,jM.getDataFromHtml)(t,this.options.containers);if(n)n.responseURL=e.responseURL?e.responseURL:window.location.href;else return console.warn("Received page is invalid."),null;return n};Jf.default=qM});var f_=Mt(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});var vI=Da.use=function(e){if(!e.isSwupPlugin){console.warn("Not swup plugin instance "+e+".");return}return this.plugins.push(e),e.swup=this,typeof e._beforeMount=="function"&&e._beforeMount(),e.mount(),this.plugins},_I=Da.unuse=function(e){var t=void 0;if(typeof e=="string"?t=this.plugins.find(function(i){return e===i.name}):t=e,!t){console.warn("No such plugin.");return}t.unmount(),typeof t._afterUnmount=="function"&&t._afterUnmount();var n=this.plugins.indexOf(t);return this.plugins.splice(n,1),this.plugins},yI=Da.findPlugin=function(e){return this.plugins.find(function(t){return e===t.name})}});var h_=Mt(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});var YM=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},XM=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),JM=j0(),ZM=Wi(JM),KM=q0(),QM=Wi(KM),eT=i_(),tT=Wi(eT),nT=r_(),iT=Wi(nT),rT=s_(),sT=Wi(rT),oT=o_(),aT=Wi(oT),lT=a_(),cT=Wi(lT),uT=l_(),fT=Wi(uT),hT=c_(),dT=Wi(hT),pT=u_(),mT=Wi(pT),Zf=f_(),gT=io(),so=ro();function Wi(r){return r&&r.__esModule?r:{default:r}}function vT(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var _T=function(){function r(e){vT(this,r);var t={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',linkSelector:'a[href^="'+window.location.origin+'"]:not([data-no-swup]), a[href^="/"]:not([data-no-swup]), a[href^="#"]:not([data-no-swup])',cache:!0,containers:["#swup"],requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},plugins:[],skipPopStateHandling:function(s){return!(s.state&&s.state.source==="swup")}},n=YM({},t,e);this._handlers={animationInDone:[],animationInStart:[],animationOutDone:[],animationOutStart:[],animationSkipped:[],clickLink:[],contentReplaced:[],disabled:[],enabled:[],openPageInNewTab:[],pageLoaded:[],pageRetrievedFromCache:[],pageView:[],popState:[],samePage:[],samePageWithHash:[],serverError:[],transitionStart:[],transitionEnd:[],willReplaceContent:[]},this.scrollToElement=null,this.preloadPromise=null,this.options=n,this.plugins=[],this.transition={},this.delegatedListeners={},this.boundPopStateHandler=this.popStateHandler.bind(this),this.cache=new QM.default,this.cache.swup=this,this.loadPage=tT.default,this.renderPage=iT.default,this.triggerEvent=sT.default,this.on=aT.default,this.off=cT.default,this.updateTransition=fT.default,this.getAnimationPromises=dT.default,this.getPageData=mT.default,this.log=function(){},this.use=Zf.use,this.unuse=Zf.unuse,this.findPlugin=Zf.findPlugin,this.enable()}return XM(r,[{key:"enable",value:function(){var t=this;if(typeof Promise>"u"){console.warn("Promise is not supported");return}this.delegatedListeners.click=(0,ZM.default)(document,this.options.linkSelector,"click",this.linkClickHandler.bind(this)),window.addEventListener("popstate",this.boundPopStateHandler);var n=(0,so.getDataFromHtml)(document.documentElement.outerHTML,this.options.containers);n.url=n.responseURL=(0,so.getCurrentUrl)(),this.options.cache&&this.cache.cacheUrl(n),(0,so.markSwupElements)(document.documentElement,this.options.containers),this.options.plugins.forEach(function(i){t.use(i)}),window.history.replaceState(Object.assign({},window.history.state,{url:window.location.href,random:Math.random(),source:"swup"}),document.title,window.location.href),this.triggerEvent("enabled"),document.documentElement.classList.add("swup-enabled"),this.triggerEvent("pageView")}},{key:"destroy",value:function(){var t=this;this.delegatedListeners.click.destroy(),window.removeEventListener("popstate",this.boundPopStateHandler),this.cache.empty(),this.options.plugins.forEach(function(n){t.unuse(n)}),(0,gT.queryAll)("[data-swup]").forEach(function(n){n.removeAttribute("data-swup")}),this.off(),this.triggerEvent("disabled"),document.documentElement.classList.remove("swup-enabled")}},{key:"linkClickHandler",value:function(t){if(!t.metaKey&&!t.ctrlKey&&!t.shiftKey&&!t.altKey){if(t.button===0){this.triggerEvent("clickLink",t),t.preventDefault();var n=new so.Link(t.delegateTarget);if(n.getAddress()==(0,so.getCurrentUrl)()||n.getAddress()=="")if(n.getHash()!=""){this.triggerEvent("samePageWithHash",t);var i=document.querySelector(n.getHash());i!=null?history.replaceState({url:n.getAddress()+n.getHash(),random:Math.random(),source:"swup"},document.title,n.getAddress()+n.getHash()):console.warn("Element for offset not found ("+n.getHash()+")")}else this.triggerEvent("samePage",t);else{n.getHash()!=""&&(this.scrollToElement=n.getHash());var s=t.delegateTarget.getAttribute("data-swup-transition");this.loadPage({url:n.getAddress(),customTransition:s},!1)}}}else this.triggerEvent("openPageInNewTab",t)}},{key:"popStateHandler",value:function(t){if(!this.options.skipPopStateHandling(t)){var n=new so.Link(t.state?t.state.url:window.location.pathname);n.getHash()!==""?this.scrollToElement=n.getHash():t.preventDefault(),this.triggerEvent("popState",t),this.loadPage({url:n.getAddress()},t)}}}]),r}();Kf.default=_T});var oo=Mt(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});var yT=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function bT(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var xT=function(){function r(){bT(this,r),this.isSwupPlugin=!0}return yT(r,[{key:"mount",value:function(){}},{key:"unmount",value:function(){}},{key:"_beforeMount",value:function(){}},{key:"_afterUnmount",value:function(){}}]),r}();Qf.default=xT});var d_=Mt(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});var wT=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ST=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),MT=oo(),TT=ET(MT);function ET(r){return r&&r.__esModule?r:{default:r}}function CT(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function AT(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function PT(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var OT=function(r){PT(e,r);function e(t){CT(this,e);var n=AT(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.name="BodyClassPlugin";var i={prefix:""};return n.options=wT({},i,t),n}return ST(e,[{key:"mount",value:function(){var n=this;this.swup.on("contentReplaced",function(){var i=n.swup.cache.getCurrentPage();document.body.className.split(" ").forEach(function(s){n.isValidClassName(s)&&document.body.classList.remove(s)}),i.pageClass!==""&&i.pageClass.split(" ").forEach(function(s){n.isValidClassName(s)&&document.body.classList.add(s)})})}},{key:"isValidClassName",value:function(n){return n!==""&&n.indexOf(this.options.prefix)!==-1}}]),e}(TT.default);eh.default=OT});var p_=Mt(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});var kT=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},DT=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),IT=oo(),LT=RT(IT);function RT(r){return r&&r.__esModule?r:{default:r}}function NT(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zT(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function FT(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var BT=function(r){FT(e,r);function e(t){NT(this,e);var n=zT(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="HeadPlugin",n.defaultOptions={persistTags:!1,persistAssets:!1},n.getHeadAndReplace=function(){var i=n.getHeadChildren(),s=n.getNextHeadChildren();n.replaceTags(i,s)},n.getHeadChildren=function(){return document.head.children},n.getNextHeadChildren=function(){var i=n.swup.cache.getCurrentPage().originalContent.replace("<head",'<div id="swupHead"').replace("</head>","</div>"),s=document.createElement("div");s.innerHTML=i;var o=s.querySelector("#swupHead").children;return s.innerHTML="",s=null,o},n.replaceTags=function(i,s){var o=document.head,a=Boolean(document.querySelector("[data-swup-theme]")),l=n.getTagsToAdd(i,s,a),c=n.getTagsToRemove(i,s,a);c.reverse().forEach(function(u){o.removeChild(u.tag)}),l.forEach(function(u){o.insertBefore(u.tag,o.children[u.index])}),n.swup.log("Removed "+c.length+" / added "+l.length+" tags in head")},n.compareTags=function(i,s){var o=i.outerHTML,a=s.outerHTML;return o===a},n.getTagsToRemove=function(i,s){for(var o=[],a=0;a<i.length;a++){for(var l=null,c=0;c<s.length;c++)if(n.compareTags(i[a],s[c])){l=c;break}l==null&&i[a].getAttribute("data-swup-theme")===null&&!n.isPersistentTag(i[a])&&o.push({tag:i[a]})}return o},n.getTagsToAdd=function(i,s,o){for(var a=[],l=0;l<s.length;l++){for(var c=null,u=0;u<i.length;u++)if(n.compareTags(i[u],s[l])){c=u;break}c==null&&a.push({index:o?l+1:l,tag:s[l]})}return a},n.isPersistentTag=function(i){var s=n.options.persistTags;return typeof s=="function"?s(i):typeof s=="string"?i.matches(s):Boolean(s)},n.updateHtmlLangAttribute=function(){var i=document.documentElement,s=new DOMParser().parseFromString(n.swup.cache.getCurrentPage().originalContent,"text/html"),o=s.documentElement.lang;i.lang!==o&&(n.swup.log("Updated lang attribute: "+i.lang+" > "+o),i.lang=o)},n.options=kT({},n.defaultOptions,t),n.options.persistAssets&&!n.options.persistTags&&(n.options.persistTags="link[rel=stylesheet], script[src], style"),n}return DT(e,[{key:"mount",value:function(){this.swup.on("contentReplaced",this.getHeadAndReplace),this.swup.on("contentReplaced",this.updateHtmlLangAttribute)}},{key:"unmount",value:function(){this.swup.off("contentReplaced",this.getHeadAndReplace),this.swup.off("contentReplaced",this.updateHtmlLangAttribute)}}]),e}(LT.default);th.default=BT});var m_=Mt(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var UT=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},HT=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),VT=oo(),WT=GT(VT);function GT(r){return r&&r.__esModule?r:{default:r}}function $T(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function jT(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function qT(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var YT=function(r){qT(e,r);function e(t){$T(this,e);var n=jT(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.name="HtmlLangPlugin";var i={};return n.options=UT({},i,t),n.parser=new DOMParser,n}return HT(e,[{key:"mount",value:function(){var n=this;this.swup.on("contentReplaced",function(){var i=n.swup.cache.getCurrentPage(),s=i.originalContent,o=n.parser.parseFromString(s,"text/html"),a=o.documentElement.getAttribute("lang");document.documentElement.getAttribute("lang")!==a&&document.documentElement.setAttribute("lang",a)})}},{key:"unmount",value:function(){}}]),e}(WT.default);nh.default=YT});var g_=Mt(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});var XT=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r};function JT(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var ZT=function r(e){var t=this;JT(this,r),this._raf=null,this._positionY=0,this._velocityY=0,this._targetPositionY=0,this._targetPositionYWithOffset=0,this._direction=0,this.scrollTo=function(i){if(i&&i.nodeType)t._targetPositionY=Math.round(i.getBoundingClientRect().top+window.pageYOffset);else if(parseInt(t._targetPositionY)===t._targetPositionY)t._targetPositionY=Math.round(i);else{console.error("Argument must be a number or an element.");return}t._targetPositionY>document.documentElement.scrollHeight-window.innerHeight&&(t._targetPositionY=document.documentElement.scrollHeight-window.innerHeight),t._positionY=document.body.scrollTop||document.documentElement.scrollTop,t._direction=t._positionY>t._targetPositionY?-1:1,t._targetPositionYWithOffset=t._targetPositionY+t._direction,t._velocityY=0,t._positionY!==t._targetPositionY?(t.options.onStart(),t._animate()):t.options.onAlreadyAtPositions()},this._animate=function(){var i=t._update();t._render(),t._direction===1&&t._targetPositionY>t._positionY||t._direction===-1&&t._targetPositionY<t._positionY?(t._raf=requestAnimationFrame(t._animate),t.options.onTick()):(t._positionY=t._targetPositionY,t._render(),t._raf=null,t.options.onTick(),t.options.onEnd())},this._update=function(){var i=t._targetPositionYWithOffset-t._positionY,s=i*t.options.acceleration;return t._velocityY+=s,t._velocityY*=t.options.friction,t._positionY+=t._velocityY,Math.abs(i)},this._render=function(){window.scrollTo(0,t._positionY)};var n={onAlreadyAtPositions:function(){},onCancel:function(){},onEnd:function(){},onStart:function(){},onTick:function(){},friction:.7,acceleration:.04};this.options=XT({},n,e),e&&e.friction&&(this.options.friction=1-e.friction),window.addEventListener("mousewheel",function(i){t._raf&&(t.options.onCancel(),cancelAnimationFrame(t._raf),t._raf=null)},{passive:!0})};ih.default=ZT});var __=Mt(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});var KT=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},QT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eE=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),tE=oo(),nE=v_(tE),iE=g_(),rE=v_(iE);function v_(r){return r&&r.__esModule?r:{default:r}}function sE(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function oE(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function aE(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var lE=function(r){aE(e,r);function e(t){sE(this,e);var n=oE(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.name="ScrollPlugin",n.getOffset=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;switch(QT(n.options.offset)){case"number":return n.options.offset;case"function":return parseInt(n.options.offset(s),10);default:return parseInt(n.options.offset,10)}},n.onSamePage=function(){n.swup.scrollTo(0)},n.onSamePageWithHash=function(s){var o=s.delegateTarget,a=document.querySelector(o.hash),l=a.getBoundingClientRect().top+window.pageYOffset-n.getOffset(a);n.swup.scrollTo(l)},n.onTransitionStart=function(s){n.options.doScrollingRightAway&&!n.swup.scrollToElement&&n.doScrolling(s)},n.onContentReplaced=function(s){(!n.options.doScrollingRightAway||n.swup.scrollToElement)&&n.doScrolling(s)},n.doScrolling=function(s){var o=n.swup;if(!s||o.options.animateHistoryBrowsing)if(o.scrollToElement!=null){var a=document.querySelector(o.scrollToElement);if(a!=null){var l=a.getBoundingClientRect().top+window.pageYOffset-n.getOffset(a);o.scrollTo(l)}else console.warn("Element "+o.scrollToElement+" not found");o.scrollToElement=null}else o.scrollTo(0)};var i={doScrollingRightAway:!1,animateScroll:!0,scrollFriction:.3,scrollAcceleration:.04,offset:0};return n.options=KT({},i,t),n}return eE(e,[{key:"mount",value:function(){var n=this,i=this.swup;i._handlers.scrollDone=[],i._handlers.scrollStart=[],this.scrl=new rE.default({onStart:function(){return i.triggerEvent("scrollStart")},onEnd:function(){return i.triggerEvent("scrollDone")},onCancel:function(){return i.triggerEvent("scrollDone")},friction:this.options.scrollFriction,acceleration:this.options.scrollAcceleration}),i.scrollTo=function(s){n.options.animateScroll?n.scrl.scrollTo(s):(i.triggerEvent("scrollStart"),window.scrollTo(0,s),i.triggerEvent("scrollDone"))},i.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),i.on("samePage",this.onSamePage),i.on("samePageWithHash",this.onSamePageWithHash),i.on("transitionStart",this.onTransitionStart),i.on("contentReplaced",this.onContentReplaced)}},{key:"unmount",value:function(){this.swup.scrollTo=null,delete this.scrl,this.scrl=null,this.swup.off("samePage",this.onSamePage),this.swup.off("samePageWithHash",this.onSamePageWithHash),this.swup.off("transitionStart",this.onTransitionStart),this.swup.off("contentReplaced",this.onContentReplaced),this.swup._handlers.scrollDone=null,this.swup._handlers.scrollStart=null,window.history.scrollRestoration="auto"}}]),e}(nE.default);rh.default=lE});var M_=Mt((AI,S_)=>{"use strict";var y_=11;function cE(r,e){var t=e.attributes,n,i,s,o,a;if(!(e.nodeType===y_||r.nodeType===y_)){for(var l=t.length-1;l>=0;l--)n=t[l],i=n.name,s=n.namespaceURI,o=n.value,s?(i=n.localName||i,a=r.getAttributeNS(s,i),a!==o&&(n.prefix==="xmlns"&&(i=n.name),r.setAttributeNS(s,i,o))):(a=r.getAttribute(i),a!==o&&r.setAttribute(i,o));for(var c=r.attributes,u=c.length-1;u>=0;u--)n=c[u],i=n.name,s=n.namespaceURI,s?(i=n.localName||i,e.hasAttributeNS(s,i)||r.removeAttributeNS(s,i)):e.hasAttribute(i)||r.removeAttribute(i)}}var ec,uE="http://www.w3.org/1999/xhtml",Fn=typeof document>"u"?void 0:document,fE=!!Fn&&"content"in Fn.createElement("template"),hE=!!Fn&&Fn.createRange&&"createContextualFragment"in Fn.createRange();function dE(r){var e=Fn.createElement("template");return e.innerHTML=r,e.content.childNodes[0]}function pE(r){ec||(ec=Fn.createRange(),ec.selectNode(Fn.body));var e=ec.createContextualFragment(r);return e.childNodes[0]}function mE(r){var e=Fn.createElement("body");return e.innerHTML=r,e.childNodes[0]}function gE(r){return r=r.trim(),fE?dE(r):hE?pE(r):mE(r)}function tc(r,e){var t=r.nodeName,n=e.nodeName,i,s;return t===n?!0:(i=t.charCodeAt(0),s=n.charCodeAt(0),i<=90&&s>=97?t===n.toUpperCase():s<=90&&i>=97?n===t.toUpperCase():!1)}function vE(r,e){return!e||e===uE?Fn.createElement(r):Fn.createElementNS(e,r)}function _E(r,e){for(var t=r.firstChild;t;){var n=t.nextSibling;e.appendChild(t),t=n}return e}function sh(r,e,t){r[t]!==e[t]&&(r[t]=e[t],r[t]?r.setAttribute(t,""):r.removeAttribute(t))}var b_={OPTION:function(r,e){var t=r.parentNode;if(t){var n=t.nodeName.toUpperCase();n==="OPTGROUP"&&(t=t.parentNode,n=t&&t.nodeName.toUpperCase()),n==="SELECT"&&!t.hasAttribute("multiple")&&(r.hasAttribute("selected")&&!e.selected&&(r.setAttribute("selected","selected"),r.removeAttribute("selected")),t.selectedIndex=-1)}sh(r,e,"selected")},INPUT:function(r,e){sh(r,e,"checked"),sh(r,e,"disabled"),r.value!==e.value&&(r.value=e.value),e.hasAttribute("value")||r.removeAttribute("value")},TEXTAREA:function(r,e){var t=e.value;r.value!==t&&(r.value=t);var n=r.firstChild;if(n){var i=n.nodeValue;if(i==t||!t&&i==r.placeholder)return;n.nodeValue=t}},SELECT:function(r,e){if(!e.hasAttribute("multiple")){for(var t=-1,n=0,i=r.firstChild,s,o;i;)if(o=i.nodeName&&i.nodeName.toUpperCase(),o==="OPTGROUP")s=i,i=s.firstChild;else{if(o==="OPTION"){if(i.hasAttribute("selected")){t=n;break}n++}i=i.nextSibling,!i&&s&&(i=s.nextSibling,s=null)}r.selectedIndex=t}}},Ia=1,yE=11,x_=3,w_=8;function ls(){}function bE(r){if(r)return r.getAttribute&&r.getAttribute("id")||r.id}function xE(r){return function(t,n,i){if(i||(i={}),typeof n=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var s=n;n=Fn.createElement("html"),n.innerHTML=s}else n=gE(n);var o=i.getNodeKey||bE,a=i.onBeforeNodeAdded||ls,l=i.onNodeAdded||ls,c=i.onBeforeElUpdated||ls,u=i.onElUpdated||ls,h=i.onBeforeNodeDiscarded||ls,f=i.onNodeDiscarded||ls,y=i.onBeforeElChildrenUpdated||ls,w=i.childrenOnly===!0,_=Object.create(null),v=[];function S(W){v.push(W)}function C(W,G){if(W.nodeType===Ia)for(var N=W.firstChild;N;){var $=void 0;G&&($=o(N))?S($):(f(N),N.firstChild&&C(N,G)),N=N.nextSibling}}function T(W,G,N){h(W)!==!1&&(G&&G.removeChild(W),f(W),C(W,N))}function E(W){if(W.nodeType===Ia||W.nodeType===yE)for(var G=W.firstChild;G;){var N=o(G);N&&(_[N]=G),E(G),G=G.nextSibling}}E(t);function k(W){l(W);for(var G=W.firstChild;G;){var N=G.nextSibling,$=o(G);if($){var q=_[$];q&&tc(G,q)?(G.parentNode.replaceChild(q,G),R(q,G)):k(G)}else k(G);G=N}}function O(W,G,N){for(;G;){var $=G.nextSibling;(N=o(G))?S(N):T(G,W,!0),G=$}}function R(W,G,N){var $=o(G);$&&delete _[$],!(!N&&(c(W,G)===!1||(r(W,G),u(W),y(W,G)===!1)))&&(W.nodeName!=="TEXTAREA"?P(W,G):b_.TEXTAREA(W,G))}function P(W,G){var N=G.firstChild,$=W.firstChild,q,J,re,te,pe;e:for(;N;){for(te=N.nextSibling,q=o(N);$;){if(re=$.nextSibling,N.isSameNode&&N.isSameNode($)){N=te,$=re;continue e}J=o($);var ye=$.nodeType,Ae=void 0;if(ye===N.nodeType&&(ye===Ia?(q?q!==J&&((pe=_[q])?re===pe?Ae=!1:(W.insertBefore(pe,$),J?S(J):T($,W,!0),$=pe):Ae=!1):J&&(Ae=!1),Ae=Ae!==!1&&tc($,N),Ae&&R($,N)):(ye===x_||ye==w_)&&(Ae=!0,$.nodeValue!==N.nodeValue&&($.nodeValue=N.nodeValue))),Ae){N=te,$=re;continue e}J?S(J):T($,W,!0),$=re}if(q&&(pe=_[q])&&tc(pe,N))W.appendChild(pe),R(pe,N);else{var ae=a(N);ae!==!1&&(ae&&(N=ae),N.actualize&&(N=N.actualize(W.ownerDocument||Fn)),W.appendChild(N),k(N))}N=te,$=re}O(W,$,J);var je=b_[W.nodeName];je&&je(W,G)}var D=t,z=D.nodeType,I=n.nodeType;if(!w){if(z===Ia)I===Ia?tc(t,n)||(f(t),D=_E(t,vE(n.nodeName,n.namespaceURI))):D=n;else if(z===x_||z===w_){if(I===z)return D.nodeValue!==n.nodeValue&&(D.nodeValue=n.nodeValue),D;D=n}}if(D===n)f(t);else{if(n.isSameNode&&n.isSameNode(D))return;if(R(D,n,w),v)for(var F=0,j=v.length;F<j;F++){var U=_[v[F]];U&&T(U,U.parentNode,!1)}}return!w&&D!==t&&t.parentNode&&(D.actualize&&(D=D.actualize(t.ownerDocument||Fn)),t.parentNode.replaceChild(D,t)),D}}var wE=xE(cE);S_.exports=wE});var T_=Mt(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.shouldMorphCallbacks=ir.isTextInput=ir.isMutableElement=void 0;var SE=M_(),ME=TE(SE);function TE(r){return r&&r.__esModule?r:{default:r}}function EE(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var CE={INPUT:!0,TEXTAREA:!0,SELECT:!0},AE={INPUT:!0,TEXTAREA:!0,OPTION:!0},PE={"datetime-local":!0,"select-multiple":!0,"select-one":!0,color:!0,date:!0,datetime:!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,textarea:!0,time:!0,url:!0,week:!0},OE="data-morph-persist",kE=ir.isMutableElement=function(e){return AE[e.tagName]},DE=ir.isTextInput=function(e){return CE[e.tagName]&&PE[e.type]},IE=function(e,t){return!(!kE(e)&&e.isEqualNode(t))},LE=function(e,t){var n=e.closest("["+OE+"]");if(!n&&DE(e)&&e===document.activeElement){var i={value:!0};return Array.from(t.attributes).forEach(function(s){i[s.name]||e.setAttribute(s.name,s.value)}),!1}return!n},RE=ir.shouldMorphCallbacks=[IE,LE],NE=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=n.map(function(s){return typeof s=="function"?s(e,t):!0});return!i.includes(!1)},zE=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=[].concat(RE,EE(n));(0,ME.default)(e,t,{onBeforeElUpdated:function(o,a){return NE(o,a,i)}})};ir.default=zE});var C_=Mt(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});var FE=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},BE=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),UE=oo(),HE=E_(UE),VE=T_(),WE=E_(VE);function E_(r){return r&&r.__esModule?r:{default:r}}function GE(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $E(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function jE(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var qE=function(r){jE(e,r);function e(t){GE(this,e);var n=$E(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.name="SwupMorphPlugin";var i={containers:[],updateCallbacks:[]};return n.options=FE({},i,t),n.contentReplacedHandler=n.morphContainers.bind(n),n}return BE(e,[{key:"mount",value:function(){this.swup.on("contentReplaced",this.contentReplacedHandler)}},{key:"unmount",value:function(){this.swup.off("contentReplaced",this.contentReplacedHandler)}},{key:"getContainers",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return this.options.containers.map(function(i){var s=n.querySelector(i);return{element:s,selector:i}})}},{key:"getNewContainers",value:function(){var n=this.getNewDocument();return this.getContainers(n)}},{key:"getNewDocument",value:function(){var n=this.swup.cache.getCurrentPage().originalContent,i=document.createElement("div");return i.innerHTML=n,i}},{key:"morphContainers",value:function(){var n=this.getContainers(),i=this.getNewContainers(),s=this.options.updateCallbacks||[];n.forEach(function(o,a){var l=o.element,c=i[a].element;l&&c&&(0,WE.default)(l,c,s)})}}]),e}(HE.default);oh.default=qE});(function(r){var e={};function t(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=r,t.c=e,t.d=function(n,i,s){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:s})},t.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){if(1&i&&(n=t(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var o in n)t.d(s,o,function(a){return n[a]}.bind(null,o));return s},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},t.p="",t(t.s=193)})([function(r,e,t){(function(n){function i(s){return s&&s.Math==Math&&s}r.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof n=="object"&&n)||function(){return this}()||Function("return this")()}).call(this,t(154))},function(r,e,n){var n=n(60),i=Function.prototype,s=i.bind,o=i.call,a=n&&s.bind(o,o);r.exports=n?function(l){return l&&a(l)}:function(l){return l&&function(){return o.apply(l,arguments)}}},function(r,e){r.exports=function(t){try{return!!t()}catch{return!0}}},function(r,e,t){var n=t(0),i=t(42).f,s=t(45),o=t(37),a=t(98),l=t(126),c=t(81);r.exports=function(u,h){var f,y,w,_=u.target,v=u.global,S=u.stat,C=v?n:S?n[_]||a(_,{}):(n[_]||{}).prototype;if(C)for(f in h){if(y=h[f],w=u.noTargetGet?(w=i(C,f))&&w.value:C[f],!c(v?f:_+(S?".":"#")+f,u.forced)&&w!==void 0){if(typeof y==typeof w)continue;l(y,w)}(u.sham||w&&w.sham)&&s(y,"sham",!0),o(C,f,y,u)}}},function(r,e,s){var n=s(105),i=s(37),s=s(158);n||i(Object.prototype,"toString",s,{unsafe:!0})},function(r,e,c){"use strict";var n=c(30),i=c(89),s=c(68),y=c(49),o=c(22).f,a=c(109),l=c(54),c=c(17),u="Array Iterator",h=y.set,f=y.getterFor(u),y=(r.exports=a(Array,"Array",function(w,_){h(this,{type:u,target:n(w),index:0,kind:_})},function(){var w=f(this),_=w.target,v=w.kind,S=w.index++;return!_||S>=_.length?{value:w.target=void 0,done:!0}:v=="keys"?{value:S,done:!1}:v=="values"?{value:_[S],done:!1}:{value:[S,_[S]],done:!1}},"values"),s.Arguments=s.Array);if(i("keys"),i("values"),i("entries"),!l&&c&&y.name!=="values")try{o(y,"name",{value:"values"})}catch{}},function(r,e,o){"use strict";var n=o(137).charAt,i=o(23),s=o(49),o=o(109),a="String Iterator",l=s.set,c=s.getterFor(a);o(String,"String",function(u){l(this,{type:a,string:i(u),index:0})},function(){var u=c(this),h=u.string,f=u.index;return f>=h.length?{value:void 0,done:!0}:(h=n(h,f),u.index+=h.length,{value:h,done:!1})})},function(r,e,Le){"use strict";function n(ce,Me){var Ue=Re[ce]=G(V);return ht(Ue,{type:bt,tag:ce,description:Me}),S||(Ue.description=Me),Ue}function i(ce,Me,Ue){return ce===It&&i(Z,Me,Ue),z(ce),Me=j(Me),z(Ue),E(Re,Me)?(Ue.enumerable?(E(ce,Je)&&ce[Je][Me]&&(ce[Je][Me]=!1),Ue=G(Ue,{enumerable:W(0,!1)})):(E(ce,Je)||Ze(ce,Je,W(1,{})),ce[Je][Me]=!0),et(ce,Me,Ue)):Ze(ce,Me,Ue)}function s(ce,qe){z(ce);var Ue=F(qe),qe=N(Ue).concat(c(Ue));return ut(qe,function(pt){S&&!w(o,Ue,pt)||i(ce,pt,Ue[pt])}),ce}function o(Me){var Me=j(Me),Ue=w(Ge,this,Me);return!(this===It&&E(Re,Me)&&!E(Z,Me))&&(!(Ue||!E(this,Me)||!E(Re,Me)||E(this,Je)&&this[Je][Me])||Ue)}function a(qe,pt){var Ue,qe=F(qe),pt=j(pt);if(qe!==It||!E(Re,pt)||E(Z,pt))return!(Ue=Pe(qe,pt))||!E(Re,pt)||E(qe,Je)&&qe[Je][pt]||(Ue.enumerable=!0),Ue}function l(Me){var Me=he(F(Me)),Ue=[];return ut(Me,function(qe){E(Re,qe)||E(oe,qe)||Fe(Ue,qe)}),Ue}function c(Ue){var Me=Ue===It,Ue=he(Me?Z:F(Ue)),qe=[];return ut(Ue,function(pt){!E(Re,pt)||Me&&!E(It,pt)||Fe(qe,Re[pt])}),qe}var u,h=Le(3),Ke=Le(0),f=Le(43),y=Le(84),w=Le(21),_=Le(1),v=Le(54),S=Le(17),C=Le(96),T=Le(2),E=Le(20),k=Le(86),O=Le(14),R=Le(19),P=Le(44),D=Le(73),z=Le(18),I=Le(36),F=Le(30),j=Le(72),U=Le(23),W=Le(61),G=Le(50),N=Le(66),$=Le(55),q=Le(107),J=Le(103),re=Le(42),te=Le(22),pe=Le(132),ye=Le(70),Ae=Le(106),ae=Le(37),je=Le(77),Ct=Le(79),oe=Le(63),Ee=Le(78),ve=Le(12),st=Le(133),Ve=Le(134),He=Le(87),be=Le(49),ut=Le(56).forEach,Je=Ct("hidden"),bt="Symbol",Le="prototype",Ct=ve("toPrimitive"),ht=be.set,pn=be.getterFor(bt),It=Object[Le],X=Ke.Symbol,V=X&&X[Le],fe=Ke.TypeError,be=Ke.QObject,Te=f("JSON","stringify"),Pe=re.f,Ze=te.f,he=q.f,Ge=ye.f,Fe=_([].push),Re=je("symbols"),Z=je("op-symbols"),ke=je("string-to-symbol-registry"),De=je("symbol-to-string-registry"),Ke=je("wks"),Be=!be||!be[Le]||!be[Le].findChild,et=S&&T(function(){return G(Ze({},"a",{get:function(){return Ze(this,"a",{value:7}).a}})).a!=7})?function(ce,Me,Ue){var qe=Pe(It,Me);qe&&delete It[Me],Ze(ce,Me,Ue),qe&&ce!==It&&Ze(It,Me,qe)}:Ze;C||(ae(V=(X=function(){if(P(V,this))throw fe("Symbol is not a constructor");var ce=arguments.length&&arguments[0]!==void 0?U(arguments[0]):void 0,Me=Ee(ce),Ue=function(qe){this===It&&w(Ue,Z,qe),E(this,Je)&&E(this[Je],Me)&&(this[Je][Me]=!1),et(this,Me,W(1,qe))};return S&&Be&&et(It,Me,{configurable:!0,set:Ue}),n(Me,ce)})[Le],"toString",function(){return pn(this).tag}),ae(X,"withoutSetter",function(ce){return n(Ee(ce),ce)}),ye.f=o,te.f=i,pe.f=s,re.f=a,$.f=q.f=l,J.f=c,st.f=function(ce){return n(ve(ce),ce)},S&&(Ze(V,"description",{configurable:!0,get:function(){return pn(this).description}}),v||ae(It,"propertyIsEnumerable",o,{unsafe:!0}))),h({global:!0,wrap:!0,forced:!C,sham:!C},{Symbol:X}),ut(N(Ke),function(ce){Ve(ce)}),h({target:bt,stat:!0,forced:!C},{for:function(ce){if(ce=U(ce),E(ke,ce))return ke[ce];var Me=X(ce);return ke[ce]=Me,De[Me]=ce,Me},keyFor:function(ce){if(!D(ce))throw fe(ce+" is not a symbol");if(E(De,ce))return De[ce]},useSetter:function(){Be=!0},useSimple:function(){Be=!1}}),h({target:"Object",stat:!0,forced:!C,sham:!S},{create:function(ce,Me){return Me===void 0?G(ce):s(G(ce),Me)},defineProperty:i,defineProperties:s,getOwnPropertyDescriptor:a}),h({target:"Object",stat:!0,forced:!C},{getOwnPropertyNames:l,getOwnPropertySymbols:c}),h({target:"Object",stat:!0,forced:T(function(){J.f(1)})},{getOwnPropertySymbols:function(ce){return J.f(I(ce))}}),Te&&h({target:"JSON",stat:!0,forced:!C||T(function(){var ce=X();return Te([ce])!="[null]"||Te({a:ce})!="{}"||Te(Object(ce))!="{}"})},{stringify:function(ce,Me,Ue){var qe=Ae(arguments),pt=Me;if((R(Me)||ce!==void 0)&&!D(ce))return k(Me)||(Me=function(wn,Bi){if(O(pt)&&(Bi=w(pt,this,wn,Bi)),!D(Bi))return Bi}),qe[1]=Me,y(Te,null,qe)}}),V[Ct]||(u=V.valueOf,ae(V,Ct,function(ce){return w(u,this)})),He(X,bt),oe[Je]=!0},function(r,e,u){function n(w,_){if(w){if(w[h]!==y)try{c(w,h,y)}catch{w[h]=y}if(w[f]||c(w,f,_),o[_]){for(var v in l)if(w[v]!==l[v])try{c(w,v,l[v])}catch{w[v]=l[v]}}}}var i,s=u(0),o=u(138),a=u(139),l=u(5),c=u(45),u=u(12),h=u("iterator"),f=u("toStringTag"),y=l.values;for(i in o)n(s[i]&&s[i].prototype,i);n(a,"DOMTokenList")},function(r,e,t){function n(u){if(u&&u.forEach!==l)try{c(u,"forEach",l)}catch{u.forEach=l}}var i,s=t(0),o=t(138),a=t(139),l=t(168),c=t(45);for(i in o)o[i]&&n(s[i]&&s[i].prototype);n(a)},function(r,e,T){"use strict";var n,i,s,o,a,l,c,u=T(3),h=T(17),f=T(0),y=T(1),w=T(20),_=T(14),v=T(44),S=T(23),C=T(22).f,T=T(126),E=f.Symbol,k=E&&E.prototype;!h||!_(E)||"description"in k&&E().description===void 0||(n={},T(f=function(){var O=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),R=v(k,this)?new E(O):O===void 0?E():E(O);return O===""&&(n[R]=!0),R},E),(f.prototype=k).constructor=f,i=String(E("test"))=="Symbol(test)",s=y(k.toString),o=y(k.valueOf),a=/^Symbol\((.*)\)[^)]+$/,l=y("".replace),c=y("".slice),C(k,"description",{configurable:!0,get:function(){var O=o(this),R=s(O);return w(n,O)?"":(O=i?c(R,7,-1):l(R,a,"$1"),O===""?void 0:O)}}),u({global:!0,forced:!0},{Symbol:f}))},function(r,e,t){t(134)("iterator")},function(r,e,t){var n=t(0),i=t(77),s=t(20),o=t(78),a=t(96),l=t(123),c=i("wks"),u=n.Symbol,h=u&&u.for,f=l?u:u&&u.withoutSetter||o;r.exports=function(y){var w;return s(c,y)&&(a||typeof c[y]=="string")||(w="Symbol."+y,a&&s(u,y)?c[y]=u[y]:c[y]=(l&&h?h:f)(w)),c[y]}},function(r,e,t){var n=t(3),i=t(36),s=t(66);n({target:"Object",stat:!0,forced:t(2)(function(){s(1)})},{keys:function(o){return s(i(o))}})},function(r,e){r.exports=function(t){return typeof t=="function"}},function(r,e,t){"use strict";var n=t(3),i=t(56).filter;n({target:"Array",proto:!0,forced:!t(94)("filter")},{filter:function(s){return i(this,s,1<arguments.length?arguments[1]:void 0)}})},function(r,e,i){"use strict";var n=i(3),i=i(90);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(r,e,t){t=t(2),r.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(r,e,t){var n=t(0),i=t(19),s=n.String,o=n.TypeError;r.exports=function(a){if(i(a))return a;throw o(s(a)+" is not an object")}},function(r,e,t){var n=t(14);r.exports=function(i){return typeof i=="object"?i!==null:n(i)}},function(r,e,t){var n=t(1),i=t(36),s=n({}.hasOwnProperty);r.exports=Object.hasOwn||function(o,a){return s(i(o),a)}},function(r,e,n){var n=n(60),i=Function.prototype.call;r.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},function(r,e,t){var n=t(0),i=t(17),s=t(124),o=t(125),a=t(18),l=t(72),c=n.TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f="enumerable",y="configurable",w="writable";e.f=i?o?function(_,v,S){var C;return a(_),v=l(v),a(S),typeof _=="function"&&v==="prototype"&&"value"in S&&w in S&&!S[w]&&(C=h(_,v))&&C[w]&&(_[v]=S.value,S={configurable:(y in S?S:C)[y],enumerable:(f in S?S:C)[f],writable:!1}),u(_,v,S)}:u:function(_,v,S){if(a(_),v=l(v),a(S),s)try{return u(_,v,S)}catch{}if("get"in S||"set"in S)throw c("Accessors not supported");return"value"in S&&(_[v]=S.value),_}},function(r,e,t){var n=t(0),i=t(83),s=n.String;r.exports=function(o){if(i(o)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return s(o)}},function(r,e,o){var n=o(3),a=o(2),i=o(30),s=o(42).f,o=o(17),a=a(function(){s(1)});n({target:"Object",stat:!0,forced:!o||a,sham:!o},{getOwnPropertyDescriptor:function(l,c){return s(i(l),c)}})},function(r,e,t){var n=t(3),i=t(17),s=t(127),o=t(30),a=t(42),l=t(67);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(c){for(var u,h,f=o(c),y=a.f,w=s(f),_={},v=0;w.length>v;)(h=y(f,u=w[v++]))!==void 0&&l(_,u,h);return _}})},function(r,e,f){"use strict";var n=f(3),C=f(0),i=f(2),s=f(86),o=f(19),a=f(36),l=f(46),c=f(67),u=f(135),h=f(94),S=f(12),f=f(74),y=S("isConcatSpreadable"),w=9007199254740991,_="Maximum allowed index exceeded",v=C.TypeError,S=51<=f||!i(function(){var T=[];return T[y]=!1,T.concat()[0]!==T}),C=h("concat");n({target:"Array",proto:!0,forced:!S||!C},{concat:function(T){for(var E,k,O,R=a(this),P=u(R,0),D=0,z=-1,I=arguments.length;z<I;z++)if(function(F){if(!o(F))return!1;var j=F[y];return j!==void 0?!!j:s(F)}(O=z===-1?R:arguments[z])){if(k=l(O),w<D+k)throw v(_);for(E=0;E<k;E++,D++)E in O&&c(P,D,O[E])}else{if(w<=D)throw v(_);c(P,D++,O)}return P.length=D,P}})},function(r,e,_){"use strict";var n=_(3),i=_(0),s=_(86),o=_(85),a=_(19),l=_(101),c=_(46),u=_(30),h=_(67),f=_(12),y=_(94),w=_(106),_=y("slice"),v=f("species"),S=i.Array,C=Math.max;n({target:"Array",proto:!0,forced:!_},{slice:function(T,E){var k,O,R,P=u(this),D=c(P),z=l(T,D),I=l(E===void 0?D:E,D);if(s(P)&&(k=P.constructor,(k=o(k)&&(k===S||s(k.prototype))||a(k)&&(k=k[v])===null?void 0:k)===S||k===void 0))return w(P,z,I);for(O=new(k===void 0?S:k)(C(I-z,0)),R=0;z<I;z++,R++)z in P&&h(O,R,P[z]);return O.length=R,O}})},function(r,e,s){"use strict";var n=s(3),i=s(56).find,s=s(89),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n({target:"Array",proto:!0,forced:a},{find:function(l){return i(this,l,1<arguments.length?arguments[1]:void 0)}}),s(o)},function(r,e,t){t(3)({target:"Object",stat:!0},{setPrototypeOf:t(104)})},function(r,e,t){var n=t(71),i=t(39);r.exports=function(s){return n(i(s))}},function(r,e,a){var n=a(3),i=a(2),s=a(36),o=a(82),a=a(130);n({target:"Object",stat:!0,forced:i(function(){o(1)}),sham:!a},{getPrototypeOf:function(l){return o(s(l))}})},function(r,e,u){var n=u(3),v=u(43),i=u(84),s=u(159),o=u(131),a=u(18),l=u(19),c=u(50),u=u(2),h=v("Reflect","construct"),f=Object.prototype,y=[].push,w=u(function(){function S(){}return!(h(function(){},[],S)instanceof S)}),_=!u(function(){h(function(){})}),v=w||_;n({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(S,C){o(S),a(C);var T=arguments.length<3?S:o(arguments[2]);if(_&&!w)return h(S,C,T);if(S==T){switch(C.length){case 0:return new S;case 1:return new S(C[0]);case 2:return new S(C[0],C[1]);case 3:return new S(C[0],C[1],C[2]);case 4:return new S(C[0],C[1],C[2],C[3])}var E=[null];return i(y,E,C),new(i(s,S,E))}return E=T.prototype,T=c(l(E)?E:f),E=i(S,T,C),l(E)?E:T}})},function(r,e,s){"use strict";var n=s(3),i=s(129).includes,s=s(89);n({target:"Array",proto:!0},{includes:function(o){return i(this,o,1<arguments.length?arguments[1]:void 0)}}),s("includes")},function(r,e,T){"use strict";var n=T(17),i=T(0),s=T(1),o=T(81),a=T(37),l=T(20),c=T(117),u=T(44),h=T(73),f=T(122),y=T(2),w=T(55).f,_=T(42).f,v=T(22).f,S=T(167),C=T(92).trim,T="Number",E=i[T],k=E.prototype,O=i.TypeError,R=s("".slice),P=s("".charCodeAt),D=function(U){var W,G,N,$,q,J,re,te=f(U,"number");if(h(te))throw O("Cannot convert a Symbol value to a number");if(typeof te=="string"&&2<te.length){if(te=C(te),(U=P(te,0))===43||U===45){if((W=P(te,2))===88||W===120)return NaN}else if(U===48){switch(P(te,1)){case 66:case 98:G=2,N=49;break;case 79:case 111:G=8,N=55;break;default:return+te}for(q=($=R(te,2)).length,J=0;J<q;J++)if((re=P($,J))<48||N<re)return NaN;return parseInt($,G)}}return+te};if(o(T,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var z,I=function(W){var W=arguments.length<1?0:E(function(N){return N=f(N,"number"),typeof N=="bigint"?N:D(N)}(W)),G=this;return u(k,G)&&y(function(){S(G)})?c(Object(W),G,I):W},F=n?w(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),j=0;F.length>j;j++)l(E,z=F[j])&&!l(I,z)&&v(I,z,_(E,z));a(i,T,(I.prototype=k).constructor=I)}},function(r,e,t){var n=t(3),i=t(174);n({target:"Array",stat:!0,forced:!t(152)(function(s){Array.from(s)})},{from:i})},function(r,e,t){var n=t(0),i=t(39),s=n.Object;r.exports=function(o){return s(i(o))}},function(r,e,t){var n=t(0),i=t(14),s=t(20),o=t(45),a=t(98),l=t(100),c=t(49),u=t(64).CONFIGURABLE,h=c.get,f=c.enforce,y=String(String).split("String");(r.exports=function(w,_,v,O){var C,T=!!O&&!!O.unsafe,E=!!O&&!!O.enumerable,k=!!O&&!!O.noTargetGet,O=O&&O.name!==void 0?O.name:_;i(v)&&(String(O).slice(0,7)==="Symbol("&&(O="["+String(O).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(v,"name")||u&&v.name!==O)&&o(v,"name",O),(C=f(v)).source||(C.source=y.join(typeof O=="string"?O:""))),w===n?E?w[_]=v:a(_,v):(T?!k&&w[_]&&(E=!0):delete w[_],E?w[_]=v:o(w,_,v))})(Function.prototype,"toString",function(){return i(this)&&h(this).source||l(this)})},function(r,e,T){"use strict";var n=T(84),i=T(21),s=T(1),o=T(112),a=T(115),l=T(18),c=T(39),u=T(164),h=T(113),f=T(65),y=T(23),w=T(53),_=T(108),v=T(114),S=T(90),C=T(111),T=T(2),E=C.UNSUPPORTED_Y,k=4294967295,O=Math.min,R=[].push,P=s(/./.exec),D=s(R),z=s("".slice);o("split",function(I,F,j){var U="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(W,G){var N=y(c(this)),$=G===void 0?k:G>>>0;if($==0)return[];if(W===void 0)return[N];if(!a(W))return i(F,N,W,$);for(var q,J,re,te=[],G=(W.ignoreCase?"i":"")+(W.multiline?"m":"")+(W.unicode?"u":"")+(W.sticky?"y":""),pe=0,ye=new RegExp(W.source,G+"g");(q=i(S,ye,N))&&!(pe<(J=ye.lastIndex)&&(D(te,z(N,pe,q.index)),1<q.length&&q.index<N.length&&n(R,te,_(q,1)),re=q[0].length,pe=J,$<=te.length));)ye.lastIndex===q.index&&ye.lastIndex++;return pe===N.length?!re&&P(ye,"")||D(te,""):D(te,z(N,pe)),$<te.length?_(te,0,$):te}:"0".split(void 0,0).length?function(W,G){return W===void 0&&G===0?[]:i(F,this,W,G)}:F;return[function(W,G){var N=c(this),$=W==null?void 0:w(W,I);return $?i($,W,N,G):i(U,y(N),W,G)},function(q,G){var N=l(this),$=y(q),q=j(U,N,$,G,U!==F);if(q.done)return q.value;var q=u(N,RegExp),J=N.unicode,re=(N.ignoreCase?"i":"")+(N.multiline?"m":"")+(N.unicode?"u":"")+(E?"g":"y"),te=new q(E?"^(?:"+N.source+")":N,re),pe=G===void 0?k:G>>>0;if(pe==0)return[];if($.length===0)return v(te,$)===null?[$]:[];for(var ye=0,Ae=0,ae=[];Ae<$.length;){te.lastIndex=E?0:Ae;var je,oe=v(te,E?z($,Ae):$);if(oe===null||(je=O(f(te.lastIndex+(E?Ae:0)),$.length))===ye)Ae=h($,Ae,J);else{if(D(ae,z($,ye,Ae)),ae.length===pe)return ae;for(var Ee=1;Ee<=oe.length-1;Ee++)if(D(ae,oe[Ee]),ae.length===pe)return ae;Ae=ye=je}}return D(ae,z($,ye)),ae}]},!!T(function(){var F=/(?:)/,I=F.exec,F=(F.exec=function(){return I.apply(this,arguments)},"ab".split(F));return F.length!==2||F[0]!=="a"||F[1]!=="b"}),E)},function(r,e,t){var n=t(0).TypeError;r.exports=function(i){if(i==null)throw n("Can't call method on "+i);return i}},function(r,e,w){"use strict";var y=w(1),n=w(64).PROPER,i=w(37),s=w(18),o=w(44),a=w(23),l=w(2),w=w(110),c="toString",u=RegExp.prototype,h=u[c],f=y(w),y=l(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),w=n&&h.name!=c;(y||w)&&i(RegExp.prototype,c,function(){var _=s(this),v=a(_.source),S=_.flags;return"/"+v+"/"+a(S!==void 0||!o(u,_)||"flags"in u?S:f(_))},{unsafe:!0})},function(r,e,o){var n=o(17),i=o(64).EXISTS,s=o(1),o=o(22).f,a=Function.prototype,l=s(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=s(c.exec);n&&!i&&o(a,"name",{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch{return""}}})},function(r,e,t){var n=t(17),i=t(21),s=t(70),o=t(61),a=t(30),l=t(72),c=t(20),u=t(124),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(f,y){if(f=a(f),y=l(y),u)try{return h(f,y)}catch{}if(c(f,y))return o(!i(s.f,f,y),f[y])}},function(r,e,t){var n=t(0),i=t(14);r.exports=function(s,o){return arguments.length<2?(a=n[s],i(a)?a:void 0):n[s]&&n[s][o];var a}},function(r,e,t){t=t(1),r.exports=t({}.isPrototypeOf)},function(r,e,t){var n=t(17),i=t(22),s=t(61);r.exports=n?function(o,a,l){return i.f(o,a,s(1,l))}:function(o,a,l){return o[a]=l,o}},function(r,e,t){var n=t(65);r.exports=function(i){return n(i.length)}},function(r,e,D){"use strict";var n=D(84),i=D(21),s=D(1),o=D(112),a=D(2),l=D(18),c=D(14),u=D(80),h=D(65),f=D(23),y=D(39),w=D(113),_=D(53),v=D(173),S=D(114),C=D(12)("replace"),T=Math.max,E=Math.min,k=s([].concat),O=s([].push),R=s("".indexOf),P=s("".slice),D="a".replace(/./,"$0")==="$0",z=!!/./[C]&&/./[C]("a","$0")==="";o("replace",function(I,F,j){var U=z?"$":"$0";return[function(W,G){var N=y(this),$=W==null?void 0:_(W,C);return $?i($,W,N,G):i(F,f(N),W,G)},function(W,G){var N=l(this),$=f(W);if(typeof G=="string"&&R(G,U)===-1&&R(G,"$<")===-1&&(W=j(F,N,$,G),W.done))return W.value;for(var q,J=c(G),re=(J||(G=f(G)),N.global),te=(re&&(q=N.unicode,N.lastIndex=0),[]);(je=S(N,$))!==null&&(O(te,je),re);)f(je[0])===""&&(N.lastIndex=w($,h(N.lastIndex),q));for(var pe,ye="",Ae=0,ae=0;ae<te.length;ae++){for(var je,oe=f((je=te[ae])[0]),Ee=T(E(u(je.index),$.length),0),ve=[],st=1;st<je.length;st++)O(ve,(pe=je[st])===void 0?pe:String(pe));var Ve=je.groups,He=J?(He=k([oe],ve,Ee,$),Ve!==void 0&&O(He,Ve),f(n(G,void 0,He))):v(oe,$,Ee,ve,Ve,G);Ae<=Ee&&(ye+=P($,Ae,Ee)+He,Ae=Ee+oe.length)}return ye+P($,Ae)}]},!!a(function(){var I=/./;return I.exec=function(){var F=[];return F.groups={a:"7"},F},"".replace(I,"$<a>")!=="7"})||!D||z)},function(r,e,n){var n=n(1),i=n({}.toString),s=n("".slice);r.exports=function(o){return s(i(o),8,-1)}},function(r,e,C){var n,i,s,o,a,l,c,u,h=C(156),k=C(0),f=C(1),y=C(19),w=C(45),_=C(20),v=C(97),S=C(79),C=C(63),T="Object already initialized",E=k.TypeError,k=k.WeakMap;c=h||v.state?(n=v.state||(v.state=new k),i=f(n.get),s=f(n.has),o=f(n.set),a=function(O,R){if(s(n,O))throw new E(T);return R.facade=O,o(n,O,R),R},l=function(O){return i(n,O)||{}},function(O){return s(n,O)}):(C[u=S("state")]=!0,a=function(O,R){if(_(O,u))throw new E(T);return R.facade=O,w(O,u,R),R},l=function(O){return _(O,u)?O[u]:{}},function(O){return _(O,u)}),r.exports={set:a,get:l,has:c,enforce:function(O){return c(O)?l(O):a(O,{})},getterFor:function(O){return function(R){if(y(R)&&(R=l(R)).type===O)return R;throw E("Incompatible receiver, "+O+" required")}}}},function(r,e,f){function n(){}function i(C){C.write(v("")),C.close();var T=C.parentWindow.Object;return C=null,T}var s,o=f(18),a=f(132),l=f(102),c=f(63),u=f(160),h=f(99),f=f(79),y="prototype",w="script",_=f("IE_PROTO"),v=function(C){return"<"+w+">"+C+"</"+w+">"},S=function(){try{s=new ActiveXObject("htmlfile")}catch{}S=typeof document>"u"||document.domain&&s?i(s):(C=h("iframe"),T="java"+w+":",C.style.display="none",u.appendChild(C),C.src=String(T),(T=C.contentWindow.document).open(),T.write(v("document.F=Object")),T.close(),T.F);for(var C,T,E=l.length;E--;)delete S[y][l[E]];return S()};c[_]=!0,r.exports=Object.create||function(C,T){var E;return C!==null?(n[y]=o(C),E=new n,n[y]=null,E[_]=C):E=S(),T===void 0?E:a.f(E,T)}},function(r,e,l){"use strict";var n=l(3),i=l(1),s=l(142),o=l(39),a=l(23),l=l(143),c=i("".indexOf);n({target:"String",proto:!0,forced:!l("includes")},{includes:function(u){return!!~c(a(o(this)),a(s(u)),1<arguments.length?arguments[1]:void 0)}})},function(r,e,J){var n=J(17),i=J(0),s=J(1),o=J(81),a=J(117),l=J(45),c=J(22).f,u=J(55).f,h=J(44),f=J(115),y=J(23),w=J(110),_=J(111),v=J(37),S=J(2),C=J(20),T=J(49).enforce,E=J(144),pe=J(12),k=J(140),O=J(141),R=pe("match"),P=i.RegExp,D=P.prototype,z=i.SyntaxError,I=s(w),F=s(D.exec),j=s("".charAt),U=s("".replace),W=s("".indexOf),G=s("".slice),N=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,$=/a/g,q=/a/g,J=new P($)!==$,re=_.MISSED_STICKY,te=_.UNSUPPORTED_Y,pe=n&&(!J||re||k||O||S(function(){return q[R]=!1,P($)!=$||P(q)==q||P($,"i")!="/a/i"})),ye=function(Ee){for(var ve,st=Ee.length,Ve=0,He="",ut=!1;Ve<=st;Ve++)(ve=j(Ee,Ve))==="\\"?He+=ve+j(Ee,++Ve):ut||ve!=="."?(ve==="["?ut=!0:ve==="]"&&(ut=!1),He+=ve):He+="[\\s\\S]";return He},Ae=function(Ee){for(var ve,st=Ee.length,Ve=0,He="",ut=[],Je={},bt=!1,Le=!1,Ct=0,ht="";Ve<=st;Ve++){if((ve=j(Ee,Ve))==="\\")ve+=j(Ee,++Ve);else if(ve==="]")bt=!1;else if(!bt)switch(!0){case ve==="[":bt=!0;break;case ve==="(":F(N,G(Ee,Ve+1))&&(Ve+=2,Le=!0),He+=ve,Ct++;continue;case(ve===">"&&Le):if(ht===""||C(Je,ht))throw new z("Invalid capture group name");Je[ht]=!0,Le=!(ut[ut.length]=[ht,Ct]),ht="";continue}Le?ht+=ve:He+=ve}return[He,ut]};if(o("RegExp",pe)){for(var ae=function(Ee,ve){var st,Ve,He=h(D,this),ut=f(Ee),Je=ve===void 0,bt=[],Le=Ee;if(!He&&ut&&Je&&Ee.constructor===ae)return Ee;if((ut||h(D,Ee))&&(Ee=Ee.source,Je&&(ve="flags"in Le?Le.flags:I(Le))),Ee=Ee===void 0?"":y(Ee),ve=ve===void 0?"":y(ve),Le=Ee,ut=ve=k&&"dotAll"in $&&(st=!!ve&&-1<W(ve,"s"))?U(ve,/s/g,""):ve,re&&"sticky"in $&&(Ve=!!ve&&-1<W(ve,"y"))&&te&&(ve=U(ve,/y/g,"")),O&&(Ee=(Je=Ae(Ee))[0],bt=Je[1]),Je=a(P(Ee,ve),He?this:D,ae),(st||Ve||bt.length)&&(ve=T(Je),st&&(ve.dotAll=!0,ve.raw=ae(ye(Ee),ut)),Ve&&(ve.sticky=!0),bt.length&&(ve.groups=bt)),Ee!==Le)try{l(Je,"source",Le===""?"(?:)":Le)}catch{}return Je},je=u(P),oe=0;je.length>oe;)(function(Ee){Ee in ae||c(ae,Ee,{configurable:!0,get:function(){return P[Ee]},set:function(ve){P[Ee]=ve}})})(je[oe++]);(D.constructor=ae).prototype=D,v(i,"RegExp",ae)}E("RegExp")},function(r,e,t){var n=t(62);r.exports=function(i,s){return i=i[s],i==null?void 0:n(i)}},function(r,e){r.exports=!1},function(r,e,t){var n=t(128),i=t(102).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(s){return n(s,i)}},function(r,e,t){function n(h){var f=h==1,y=h==2,w=h==3,_=h==4,v=h==6,S=h==7,C=h==5||v;return function(T,E,k,O){for(var R,P,D=a(T),z=o(D),I=i(E,k),F=l(z),j=0,E=O||c,U=f?E(T,F):y||S?E(T,0):void 0;j<F;j++)if((C||j in z)&&(P=I(R=z[j],j,D),h))if(f)U[j]=P;else if(P)switch(h){case 3:return!0;case 5:return R;case 6:return j;case 2:u(U,R)}else switch(h){case 4:return!1;case 7:u(U,R)}return v?-1:w||_?_:U}}var i=t(88),s=t(1),o=t(71),a=t(36),l=t(46),c=t(135),u=s([].push);r.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterReject:n(7)}},function(r,e,u){"use strict";var n=u(3),w=u(1),i=u(42).f,s=u(65),o=u(23),a=u(142),l=u(39),c=u(143),u=u(54),h=w("".startsWith),f=w("".slice),y=Math.min,w=c("startsWith");n({target:"String",proto:!0,forced:!!(u||w||!(c=i(String.prototype,"startsWith"))||c.writable)&&!w},{startsWith:function(C){var v=o(l(this)),S=(a(C),s(y(1<arguments.length?arguments[1]:void 0,v.length))),C=o(C);return h?h(v,C,S):f(v,S,S+C.length)===C}})},function(r,e,t){"use strict";var n=t(3),i=t(56).map;n({target:"Array",proto:!0,forced:!t(94)("map")},{map:function(s){return i(this,s,1<arguments.length?arguments[1]:void 0)}})},function(r,e,t){var n=t(3),i=t(21),s=t(19),o=t(18),a=t(179),l=t(42),c=t(82);n({target:"Reflect",stat:!0},{get:function u(h,f){var y,w=arguments.length<3?h:arguments[2];return o(h)===w?h[f]:(y=l.f(h,f))?a(y)?y.value:y.get===void 0?void 0:i(y.get,w):s(y=c(h))?u(y,f,w):void 0}})},function(r,e,t){t=t(2),r.exports=!t(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},function(r,e){r.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(r,e,t){var n=t(0),i=t(14),s=t(76),o=n.TypeError;r.exports=function(a){if(i(a))return a;throw o(s(a)+" is not a function")}},function(r,e){r.exports={}},function(r,e,s){var a=s(17),s=s(20),n=Function.prototype,i=a&&Object.getOwnPropertyDescriptor,s=s(n,"name"),o=s&&function(){}.name==="something",a=s&&(!a||i(n,"name").configurable);r.exports={EXISTS:s,PROPER:o,CONFIGURABLE:a}},function(r,e,t){var n=t(80),i=Math.min;r.exports=function(s){return 0<s?i(n(s),9007199254740991):0}},function(r,e,t){var n=t(128),i=t(102);r.exports=Object.keys||function(s){return n(s,i)}},function(r,e,t){"use strict";var n=t(72),i=t(22),s=t(61);r.exports=function(o,a,l){a=n(a),a in o?i.f(o,a,s(0,l)):o[a]=l}},function(r,e){r.exports={}},function(r,e,t){"use strict";var n=t(21),i=t(112),s=t(18),o=t(65),a=t(23),l=t(39),c=t(53),u=t(113),h=t(114);i("match",function(f,y,w){return[function(_){var v=l(this),S=_==null?void 0:c(_,f);return S?n(S,_,v):new RegExp(_)[f](a(v))},function(C){var v=s(this),S=a(C),C=w(y,v,S);if(C.done)return C.value;if(!v.global)return h(v,S);for(var T=v.unicode,E=[],k=v.lastIndex=0;(O=h(v,S))!==null;){var O=a(O[0]);(E[k]=O)===""&&(v.lastIndex=u(S,o(v.lastIndex),T)),k++}return k===0?null:E}]})},function(r,e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!n.call({1:2},1);e.f=s?function(o){return o=i(this,o),!!o&&o.enumerable}:n},function(r,e,t){var n=t(0),i=t(1),s=t(2),o=t(48),a=n.Object,l=i("".split);r.exports=s(function(){return!a("z").propertyIsEnumerable(0)})?function(c){return o(c)=="String"?l(c,""):a(c)}:a},function(r,e,t){var n=t(122),i=t(73);r.exports=function(s){return s=n(s,"string"),i(s)?s:s+""}},function(r,e,a){var n=a(0),i=a(43),s=a(14),o=a(44),a=a(123),l=n.Object;r.exports=a?function(c){return typeof c=="symbol"}:function(c){var u=i("Symbol");return s(u)&&o(u.prototype,l(c))}},function(r,e,s){var n,i,a=s(0),s=s(75),o=a.process,a=a.Deno,o=o&&o.versions||a&&a.version,a=o&&o.v8;!(i=a?0<(n=a.split("."))[0]&&n[0]<4?1:+(n[0]+n[1]):i)&&s&&(!(n=s.match(/Edge\/(\d+)/))||74<=n[1])&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),r.exports=i},function(r,e,t){t=t(43),r.exports=t("navigator","userAgent")||""},function(r,e,t){var n=t(0).String;r.exports=function(i){try{return n(i)}catch{return"Object"}}},function(r,e,t){var n=t(54),i=t(97);(r.exports=function(s,o){return i[s]||(i[s]=o!==void 0?o:{})})("versions",[]).push({version:"3.21.1",mode:n?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(r,e,n){var n=n(1),i=0,s=Math.random(),o=n(1 .toString);r.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+o(++i+s,36)}},function(r,e,t){var n=t(77),i=t(78),s=n("keys");r.exports=function(o){return s[o]||(s[o]=i(o))}},function(r,e){var t=Math.ceil,n=Math.floor;r.exports=function(i){return i=+i,i!=i||i==0?0:(0<i?n:t)(i)}},function(r,e,t){function n(h,f){return(h=l[a(h)])==u||h!=c&&(s(f)?i(f):!!f)}var i=t(2),s=t(14),o=/#|\.prototype\./,a=n.normalize=function(h){return String(h).replace(o,".").toLowerCase()},l=n.data={},c=n.NATIVE="N",u=n.POLYFILL="P";r.exports=n},function(r,e,l){var n=l(0),i=l(20),s=l(14),o=l(36),a=l(79),l=l(130),c=a("IE_PROTO"),u=n.Object,h=u.prototype;r.exports=l?u.getPrototypeOf:function(f){if(f=o(f),i(f,c))return f[c];var y=f.constructor;return s(y)&&f instanceof y?y.prototype:f instanceof u?h:null}},function(r,e,t){var n=t(0),i=t(105),s=t(14),o=t(48),a=t(12)("toStringTag"),l=n.Object,c=o(function(){return arguments}())=="Arguments";r.exports=i?o:function(u){var h;return u===void 0?"Undefined":u===null?"Null":typeof(h=function(f,y){try{return f[y]}catch{}}(u=l(u),a))=="string"?h:c?o(u):(h=o(u))=="Object"&&s(u.callee)?"Arguments":h}},function(r,e,n){var n=n(60),i=Function.prototype,s=i.apply,o=i.call;r.exports=typeof Reflect=="object"&&Reflect.apply||(n?o.bind(s):function(){return o.apply(s,arguments)})},function(r,e,t){function n(){}function i(S){if(!l(S))return!1;try{return y(n,f,S),!0}catch{return!1}}function s(S){if(!l(S))return!1;switch(c(S)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!_(w,h(S))}catch{return!0}}var o=t(1),a=t(2),l=t(14),c=t(83),u=t(43),h=t(100),f=[],y=u("Reflect","construct"),w=/^\s*(?:class|function)\b/,_=o(w.exec),v=!w.exec(n);s.sham=!0,r.exports=!y||a(function(){var S;return i(i.call)||!i(Object)||!i(function(){S=!0})||S})?s:i},function(r,e,t){var n=t(48);r.exports=Array.isArray||function(i){return n(i)=="Array"}},function(r,e,t){var n=t(22).f,i=t(20),s=t(12)("toStringTag");r.exports=function(o,a,l){(o=o&&!l?o.prototype:o)&&!i(o,s)&&n(o,s,{configurable:!0,value:a})}},function(r,e,t){var n=t(1),i=t(62),s=t(60),o=n(n.bind);r.exports=function(a,l){return i(a),l===void 0?a:s?o(a,l):function(){return a.apply(l,arguments)}}},function(r,e,s){var n=s(12),i=s(50),s=s(22),o=n("unscopables"),a=Array.prototype;a[o]==null&&s.f(a,o,{configurable:!0,value:i(null)}),r.exports=function(l){a[o][l]=!0}},function(r,e,f){"use strict";var n=f(21),i=f(1),s=f(23),o=f(110),a=f(111),l=f(77),c=f(50),u=f(49).get,h=f(140),f=f(141),y=l("native-string-replace",String.prototype.replace),w=RegExp.prototype.exec,_=w,v=i("".charAt),S=i("".indexOf),C=i("".replace),T=i("".slice),E=(l=/b*/g,n(w,i=/a/,"a"),n(w,l,"a"),i.lastIndex!==0||l.lastIndex!==0),k=a.BROKEN_CARET,O=/()??/.exec("")[1]!==void 0;(E||O||k||h||f)&&(_=function(W){var P,D,z,I,F,j,U=this,q=u(U),W=s(W),N=q.raw;if(N)return N.lastIndex=U.lastIndex,$=n(_,N,W),U.lastIndex=N.lastIndex,$;var G=q.groups,N=k&&U.sticky,$=n(o,U),q=U.source,J=0,re=W;if(N&&($=C($,"y",""),S($,"g")===-1&&($+="g"),re=T(W,U.lastIndex),0<U.lastIndex&&(!U.multiline||U.multiline&&v(W,U.lastIndex-1)!==`
`)&&(q="(?: "+q+")",re=" "+re,J++),P=new RegExp("^(?:"+q+")",$)),O&&(P=new RegExp("^"+q+"$(?!\\s)",$)),E&&(D=U.lastIndex),z=n(w,N?P:U,re),N?z?(z.input=T(z.input,J),z[0]=T(z[0],J),z.index=U.lastIndex,U.lastIndex+=z[0].length):U.lastIndex=0:E&&z&&(U.lastIndex=U.global?z.index+z[0].length:D),O&&z&&1<z.length&&n(y,z[0],P,function(){for(I=1;I<arguments.length-2;I++)arguments[I]===void 0&&(z[I]=void 0)}),z&&G)for(z.groups=F=c(null),I=0;I<G.length;I++)F[(j=G[I])[0]]=z[j[1]];return z}),r.exports=_},function(r,e,t){"use strict";var n=t(3),i=t(92).trim;n({target:"String",proto:!0,forced:t(165)("trim")},{trim:function(){return i(this)}})},function(r,e,o){function n(h){return function(f){return f=s(i(f)),1&h&&(f=a(f,c,"")),f=2&h?a(f,u,""):f}}var l=o(1),i=o(39),s=o(23),o=o(93),a=l("".replace),l="["+o+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$");r.exports={start:n(1),end:n(2),trim:n(3)}},function(r,e){r.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(r,e,t){var n=t(2),i=t(12),s=t(74),o=i("species");r.exports=function(a){return 51<=s||!n(function(){var l=[];return(l.constructor={})[o]=function(){return{foo:1}},l[a](Boolean).foo!==1})}},function(r,e,s){"use strict";var n=s(3),a=s(1),l=s(71),i=s(30),s=s(118),o=a([].join),a=l!=Object,l=s("join",",");n({target:"Array",proto:!0,forced:a||!l},{join:function(c){return o(i(this),c===void 0?",":c)}})},function(r,e,i){var n=i(74),i=i(2);r.exports=!!Object.getOwnPropertySymbols&&!i(function(){var s=Symbol();return!String(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&n&&n<41})},function(r,e,n){var s=n(0),n=n(98),i="__core-js_shared__",s=s[i]||n(i,{});r.exports=s},function(r,e,t){var n=t(0),i=Object.defineProperty;r.exports=function(s,o){try{i(n,s,{value:o,configurable:!0,writable:!0})}catch{n[s]=o}return o}},function(r,e,i){var n=i(0),i=i(19),s=n.document,o=i(s)&&i(s.createElement);r.exports=function(a){return o?s.createElement(a):{}}},function(r,e,s){var n=s(1),i=s(14),s=s(97),o=n(Function.toString);i(s.inspectSource)||(s.inspectSource=function(a){return o(a)}),r.exports=s.inspectSource},function(r,e,t){var n=t(80),i=Math.max,s=Math.min;r.exports=function(o,a){return o=n(o),o<0?i(o+a,0):s(o,a)}},function(r,e){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(r,e){e.f=Object.getOwnPropertySymbols},function(r,e,t){var n=t(1),i=t(18),s=t(157);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,a=!1,l={};try{(o=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(l,[]),a=l instanceof Array}catch{}return function(c,u){return i(c),s(u),a?o(c,u):c.__proto__=u,c}}():void 0)},function(r,e,t){var n={};n[t(12)("toStringTag")]="z",r.exports=String(n)==="[object z]"},function(r,e,t){t=t(1),r.exports=t([].slice)},function(r,e,t){var n=t(48),i=t(30),s=t(55).f,o=t(108),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(l){if(!a||n(l)!="Window")return s(i(l));try{return s(l)}catch{return o(a)}}},function(r,e,t){var n=t(0),i=t(101),s=t(46),o=t(67),a=n.Array,l=Math.max;r.exports=function(c,u,h){for(var f=s(c),y=i(u,f),w=i(h===void 0?f:h,f),_=a(l(w-y,0)),v=0;y<w;y++,v++)o(_,v,c[y]);return _.length=v,_}},function(r,e,S){"use strict";function n(){return this}var i=S(3),s=S(21),o=S(54),a=S(64),l=S(14),c=S(163),u=S(82),h=S(104),f=S(87),y=S(45),w=S(37),_=S(12),v=S(68),S=S(136),C=a.PROPER,T=a.CONFIGURABLE,E=S.IteratorPrototype,k=S.BUGGY_SAFARI_ITERATORS,O=_("iterator"),R="values",P="entries";r.exports=function(D,z,I,q,j,U,W){c(I,z,q);function G(Ae){if(Ae===j&&pe)return pe;if(!k&&Ae in re)return re[Ae];switch(Ae){case"keys":case R:case P:return function(){return new I(this,Ae)}}return function(){return new I(this)}}var N,$,q=z+" Iterator",J=!1,re=D.prototype,te=re[O]||re["@@iterator"]||j&&re[j],pe=!k&&te||G(j),ye=z=="Array"&&re.entries||te;if(ye&&(ye=u(ye.call(new D)))!==Object.prototype&&ye.next&&(o||u(ye)===E||(h?h(ye,E):l(ye[O])||w(ye,O,n)),f(ye,q,!0,!0),o&&(v[q]=n)),C&&j==R&&te&&te.name!==R&&(!o&&T?y(re,"name",R):(J=!0,pe=function(){return s(te,this)})),j)if(N={values:G(R),keys:U?pe:G("keys"),entries:G(P)},W)for($ in N)!k&&!J&&$ in re||w(re,$,N[$]);else i({target:z,proto:!0,forced:k||J},N);return o&&!W||re[O]===pe||w(re,O,pe,{name:j}),v[z]=pe,N}},function(r,e,t){"use strict";var n=t(18);r.exports=function(){var i=n(this),s="";return i.global&&(s+="g"),i.ignoreCase&&(s+="i"),i.multiline&&(s+="m"),i.dotAll&&(s+="s"),i.unicode&&(s+="u"),i.sticky&&(s+="y"),s}},function(r,e,i){var o=i(2),n=i(0).RegExp,i=o(function(){var a=n("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),s=i||o(function(){return!n("a","y").sticky}),o=i||o(function(){var a=n("^r","gy");return a.lastIndex=2,a.exec("str")!=null});r.exports={BROKEN_CARET:o,MISSED_STICKY:s,UNSUPPORTED_Y:i}},function(r,e,t){"use strict";t(16);var n=t(1),i=t(37),s=t(90),o=t(2),a=t(12),l=t(45),c=a("species"),u=RegExp.prototype;r.exports=function(h,f,y,w){var _,v=a(h),S=!o(function(){var T={};return T[v]=function(){return 7},""[h](T)!=7}),C=S&&!o(function(){var T=!1,E=/a/;return h==="split"&&((E={constructor:{}}).constructor[c]=function(){return E},E.flags="",E[v]=/./[v]),E.exec=function(){return T=!0,null},E[v](""),!T});S&&C&&!y||(_=n(/./[v]),C=f(v,""[h],function(P,E,k,O,R){var P=n(P),D=E.exec;return D===s||D===u.exec?S&&!R?{done:!0,value:_(E,k,O)}:{done:!0,value:P(k,E,O)}:{done:!1}}),i(String.prototype,h,C[0]),i(u,v,C[1])),w&&l(u[v],"sham",!0)}},function(r,e,t){"use strict";var n=t(137).charAt;r.exports=function(i,s,o){return s+(o?n(i,s).length:1)}},function(r,e,t){var n=t(0),i=t(21),s=t(18),o=t(14),a=t(48),l=t(90),c=n.TypeError;r.exports=function(u,h){var f=u.exec;if(o(f))return(f=i(f,u,h))!==null&&s(f),f;if(a(u)==="RegExp")return i(l,u,h);throw c("RegExp#exec called on incompatible receiver")}},function(r,e,t){var n=t(19),i=t(48),s=t(12)("match");r.exports=function(o){var a;return n(o)&&((a=o[s])!==void 0?!!a:i(o)=="RegExp")}},function(r,e,i){var n=i(3),i=i(166);n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(r,e,t){var n=t(14),i=t(19),s=t(104);r.exports=function(o,a,l){return s&&n(a=a.constructor)&&a!==l&&i(a=a.prototype)&&a!==l.prototype&&s(o,a),o}},function(r,e,t){"use strict";var n=t(2);r.exports=function(i,s){var o=[][i];return!!o&&n(function(){o.call(null,s||function(){return 1},1)})}},function(r,e,t){"use strict";t(145)("Set",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},t(153))},function(r,e,t){var n=t(83),i=t(53),s=t(68),o=t(12)("iterator");r.exports=function(a){if(a!=null)return i(a,o)||i(a,"@@iterator")||s[n(a)]}},function(r,e,i){var n=i(3),i=i(178);n({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(r,e,c){var n=c(0),i=c(21),s=c(19),o=c(73),a=c(53),l=c(155),c=c(12),u=n.TypeError,h=c("toPrimitive");r.exports=function(f,y){if(!s(f)||o(f))return f;var w=a(f,h);if(w){if(w=i(w,f,y=y===void 0?"default":y),!s(w)||o(w))return w;throw u("Can't convert object to primitive value")}return l(f,y=y===void 0?"number":y)}},function(r,e,t){t=t(96),r.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(r,e,t){var n=t(17),i=t(2),s=t(99);r.exports=!n&&!i(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},function(r,e,i){var n=i(17),i=i(2);r.exports=n&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},function(r,e,t){var n=t(20),i=t(127),s=t(42),o=t(22);r.exports=function(a,l,c){for(var u=i(l),h=o.f,f=s.f,y=0;y<u.length;y++){var w=u[y];n(a,w)||c&&n(c,w)||h(a,w,f(l,w))}}},function(r,e,t){var n=t(43),i=t(1),s=t(55),o=t(103),a=t(18),l=i([].concat);r.exports=n("Reflect","ownKeys")||function(c){var u=s.f(a(c)),h=o.f;return h?l(u,h(c)):u}},function(r,e,t){var n=t(1),i=t(20),s=t(30),o=t(129).indexOf,a=t(63),l=n([].push);r.exports=function(c,u){var h,f=s(c),y=0,w=[];for(h in f)!i(a,h)&&i(f,h)&&l(w,h);for(;u.length>y;)!i(f,h=u[y++])||~o(w,h)||l(w,h);return w}},function(r,e,t){function n(a){return function(l,c,u){var h,f=i(l),y=o(f),w=s(u,y);if(a&&c!=c){for(;w<y;)if((h=f[w++])!=h)return!0}else for(;w<y;w++)if((a||w in f)&&f[w]===c)return a||w||0;return!a&&-1}}var i=t(30),s=t(101),o=t(46);r.exports={includes:n(!0),indexOf:n(!1)}},function(r,e,t){t=t(2),r.exports=!t(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},function(r,e,t){var n=t(0),i=t(85),s=t(76),o=n.TypeError;r.exports=function(a){if(i(a))return a;throw o(s(a)+" is not a constructor")}},function(r,e,t){var n=t(17),i=t(125),s=t(22),o=t(18),a=t(30),l=t(66);e.f=n&&!i?Object.defineProperties:function(c,u){o(c);for(var h,f=a(u),y=l(u),w=y.length,_=0;_<w;)s.f(c,h=y[_++],f[h]);return c}},function(r,e,t){t=t(12),e.f=t},function(r,e,t){var n=t(161),i=t(20),s=t(133),o=t(22).f;r.exports=function(a){var l=n.Symbol||(n.Symbol={});i(l,a)||o(l,a,{value:s.f(a)})}},function(r,e,t){var n=t(162);r.exports=function(i,s){return new(n(i))(s===0?0:s)}},function(r,e,u){"use strict";var n,i,s=u(2),o=u(14),a=u(50),l=u(82),c=u(37),f=u(12),u=u(54),h=f("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(l=l(l(i)))!==Object.prototype&&(n=l):f=!0),n==null||s(function(){var y={};return n[h].call(y)!==y})?n={}:u&&(n=a(n)),o(n[h])||c(n,h,function(){return this}),r.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},function(r,e,t){function n(h){return function(_,v){var w,_=o(a(_)),v=s(v),S=_.length;return v<0||S<=v?h?"":void 0:(w=c(_,v))<55296||56319<w||v+1===S||(S=c(_,v+1))<56320||57343<S?h?l(_,v):w:h?u(_,v,v+2):S-56320+(w-55296<<10)+65536}}var i=t(1),s=t(80),o=t(23),a=t(39),l=i("".charAt),c=i("".charCodeAt),u=i("".slice);r.exports={codeAt:n(!1),charAt:n(!0)}},function(r,e){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(r,e,t){t=t(99)("span").classList,t=t&&t.constructor&&t.constructor.prototype,r.exports=t===Object.prototype?void 0:t},function(r,e,t){var n=t(2),i=t(0).RegExp;r.exports=n(function(){var s=i(".","s");return!(s.dotAll&&s.exec(`
`)&&s.flags==="s")})},function(r,e,t){var n=t(2),i=t(0).RegExp;r.exports=n(function(){var s=i("(?<a>b)","g");return s.exec("b").groups.a!=="b"||"b".replace(s,"$<a>c")!=="bc"})},function(r,e,t){var n=t(0),i=t(115),s=n.TypeError;r.exports=function(o){if(i(o))throw s("The method doesn't accept regular expressions");return o}},function(r,e,t){var n=t(12)("match");r.exports=function(i){var s=/./;try{"/./"[i](s)}catch{try{return s[n]=!1,"/./"[i](s)}catch{}}return!1}},function(r,e,t){"use strict";var n=t(43),i=t(22),s=t(12),o=t(17),a=s("species");r.exports=function(c){var c=n(c),u=i.f;o&&c&&!c[a]&&u(c,a,{configurable:!0,get:function(){return this}})}},function(r,e,t){"use strict";var n=t(3),i=t(0),s=t(1),o=t(81),a=t(37),l=t(146),c=t(147),u=t(151),h=t(14),f=t(19),y=t(2),w=t(152),_=t(87),v=t(117);r.exports=function(S,C,T){function E(N){var $=s(U[N]);a(U,N,N=="add"?function(q){return $(this,q===0?0:q),this}:N=="delete"?function(q){return!(I&&!f(q))&&$(this,q===0?0:q)}:N=="get"?function(q){return I&&!f(q)?void 0:$(this,q===0?0:q)}:N=="has"?function(q){return!(I&&!f(q))&&$(this,q===0?0:q)}:function(q,J){return $(this,q===0?0:q,J),this})}var k,O,R,P,D,z=S.indexOf("Map")!==-1,I=S.indexOf("Weak")!==-1,F=z?"set":"add",j=i[S],U=j&&j.prototype,W=j,G={};return o(S,!h(j)||!(I||U.forEach&&!y(function(){new j().entries().next()})))?(W=T.getConstructor(C,S,z,F),l.enable()):o(S,!0)&&(O=(k=new W)[F](I?{}:-0,1)!=k,R=y(function(){k.has(1)}),P=w(function(N){new j(N)}),D=!I&&y(function(){for(var N=new j,$=5;$--;)N[F]($,$);return!N.has(-0)}),P||(((W=C(function(N,$){return u(N,U),N=v(new j,N,W),$!=null&&c($,N[F],{that:N,AS_ENTRIES:z}),N})).prototype=U).constructor=W),(R||D)&&(E("delete"),E("has"),z&&E("get")),(D||O)&&E(F),I&&U.clear&&delete U.clear),G[S]=W,n({global:!0,forced:W!=j},G),_(W,S),I||T.setStrong(W,S,z),W}},function(r,e,t){function n(T){c(T,v,{value:{objectID:"O"+S++,weakData:{}}})}var i=t(3),s=t(1),o=t(63),a=t(19),l=t(20),c=t(22).f,u=t(55),h=t(107),f=t(169),y=t(78),w=t(171),_=!1,v=y("meta"),S=0,C=r.exports={enable:function(){C.enable=function(){},_=!0;var T=u.f,E=s([].splice),k={};k[v]=1,T(k).length&&(u.f=function(O){for(var R=T(O),P=0,D=R.length;P<D;P++)if(R[P]===v){E(R,P,1);break}return R},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:h.f}))},fastKey:function(T,E){if(!a(T))return typeof T=="symbol"?T:(typeof T=="string"?"S":"P")+T;if(!l(T,v)){if(!f(T))return"F";if(!E)return"E";n(T)}return T[v].objectID},getWeakData:function(T,E){if(!l(T,v)){if(!f(T))return!0;if(!E)return!1;n(T)}return T[v].weakData},onFreeze:function(T){return w&&_&&f(T)&&!l(T,v)&&n(T),T}};o[v]=!0},function(r,e,t){function n(S,C){this.stopped=S,this.result=C}var i=t(0),s=t(88),o=t(21),a=t(18),l=t(76),c=t(148),u=t(46),h=t(44),f=t(149),y=t(120),w=t(150),_=i.TypeError,v=n.prototype;r.exports=function(S,C,T){function E(N){return O&&w(O,"normal",N),new n(!0,N)}function k(N){return j?(a(N),W?G(N[0],N[1],E):G(N[0],N[1])):W?G(N,E):G(N)}var O,R,P,D,z,I,F=T&&T.that,j=!(!T||!T.AS_ENTRIES),U=!(!T||!T.IS_ITERATOR),W=!(!T||!T.INTERRUPTED),G=s(C,F);if(U)O=S;else{if(!(T=y(S)))throw _(l(S)+" is not iterable");if(c(T)){for(R=0,P=u(S);R<P;R++)if((D=k(S[R]))&&h(v,D))return D;return new n(!1)}O=f(S,T)}for(z=O.next;!(I=o(z,O)).done;){try{D=k(I.value)}catch(N){w(O,"throw",N)}if(typeof D=="object"&&D&&h(v,D))return D}return new n(!1)}},function(r,e,t){var n=t(12),i=t(68),s=n("iterator"),o=Array.prototype;r.exports=function(a){return a!==void 0&&(i.Array===a||o[s]===a)}},function(r,e,t){var n=t(0),i=t(21),s=t(62),o=t(18),a=t(76),l=t(120),c=n.TypeError;r.exports=function(u,h){var f=arguments.length<2?l(u):h;if(s(f))return o(i(f,u));throw c(a(u)+" is not iterable")}},function(r,e,t){var n=t(21),i=t(18),s=t(53);r.exports=function(o,a,l){var c,u;i(o);try{if(!(c=s(o,"return"))){if(a==="throw")throw l;return l}c=n(c,o)}catch(h){u=!0,c=h}if(a==="throw")throw l;if(u)throw c;return i(c),l}},function(r,e,t){var n=t(0),i=t(44),s=n.TypeError;r.exports=function(o,a){if(i(a,o))return o;throw s("Incorrect invocation")}},function(r,e,t){var n=t(12)("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,function(){throw 2})}catch{}r.exports=function(a,l){if(!l&&!i)return!1;var c=!1;try{var u={};u[n]=function(){return{next:function(){return{done:c=!0}}}},a(u)}catch{}return c}},function(r,e,y){"use strict";var n=y(22).f,i=y(50),s=y(172),o=y(88),a=y(151),l=y(147),c=y(109),u=y(144),h=y(17),f=y(146).fastKey,y=y(49),w=y.set,_=y.getterFor;r.exports={getConstructor:function(O,S,C,T){function E(D,z,I){var F,j=P(D),U=k(D,z);return U?U.value=I:(j.last=U={index:F=f(z,!0),key:z,value:I,previous:z=j.last,next:void 0,removed:!1},j.first||(j.first=U),z&&(z.next=U),h?j.size++:D.size++,F!=="F"&&(j.index[F]=U)),D}function k(F,z){var I,F=P(F),j=f(z);if(j!=="F")return F.index[j];for(I=F.first;I;I=I.next)if(I.key==z)return I}var O=O(function(D,z){a(D,R),w(D,{type:S,index:i(null),first:void 0,last:void 0,size:0}),h||(D.size=0),z!=null&&l(z,D[T],{that:D,AS_ENTRIES:C})}),R=O.prototype,P=_(S);return s(R,{clear:function(){for(var D=P(this),z=D.index,I=D.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=void 0),delete z[I.index],I=I.next;D.first=D.last=void 0,h?D.size=0:this.size=0},delete:function(j){var z,I,F=P(this),j=k(this,j);return j&&(z=j.next,I=j.previous,delete F.index[j.index],j.removed=!0,I&&(I.next=z),z&&(z.previous=I),F.first==j&&(F.first=z),F.last==j&&(F.last=I),h?F.size--:this.size--),!!j},forEach:function(D){for(var z,I=P(this),F=o(D,1<arguments.length?arguments[1]:void 0);z=z?z.next:I.first;)for(F(z.value,z.key,this);z&&z.removed;)z=z.previous},has:function(D){return!!k(this,D)}}),s(R,C?{get:function(D){return D=k(this,D),D&&D.value},set:function(D,z){return E(this,D===0?0:D,z)}}:{add:function(D){return E(this,D=D===0?0:D,D)}}),h&&n(R,"size",{get:function(){return P(this).size}}),O},setStrong:function(v,S,C){var T=S+" Iterator",E=_(S),k=_(T);c(v,S,function(O,R){w(this,{type:T,target:O,state:E(O),kind:R,last:void 0})},function(){for(var O=k(this),R=O.kind,P=O.last;P&&P.removed;)P=P.previous;return O.target&&(O.last=P=P?P.next:O.state.first)?R=="keys"?{value:P.key,done:!1}:R=="values"?{value:P.value,done:!1}:{value:[P.key,P.value],done:!1}:{value:O.target=void 0,done:!0}},C?"entries":"values",!C,!0),u(S)}}},function(r,e){var t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}r.exports=t},function(r,e,t){var n=t(0),i=t(21),s=t(14),o=t(19),a=n.TypeError;r.exports=function(l,c){var u,h;if(c==="string"&&s(u=l.toString)&&!o(h=i(u,l))||s(u=l.valueOf)&&!o(h=i(u,l))||c!=="string"&&s(u=l.toString)&&!o(h=i(u,l)))return h;throw a("Can't convert object to primitive value")}},function(r,e,i){var s=i(0),n=i(14),i=i(100),s=s.WeakMap;r.exports=n(s)&&/native code/.test(i(s))},function(r,e,t){var n=t(0),i=t(14),s=n.String,o=n.TypeError;r.exports=function(a){if(typeof a=="object"||i(a))return a;throw o("Can't set "+s(a)+" as a prototype")}},function(r,e,t){"use strict";var n=t(105),i=t(83);r.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},function(r,e,c){"use strict";var n=c(0),i=c(1),s=c(62),o=c(19),a=c(20),l=c(106),c=c(60),u=n.Function,h=i([].concat),f=i([].join),y={};r.exports=c?u.bind:function(w){var _=s(this),v=_.prototype,S=l(arguments,1),C=function(){var T=h(S,l(arguments));if(this instanceof C){var E=_,k=T.length,O=T;if(!a(y,k)){for(var R=[],P=0;P<k;P++)R[P]="a["+P+"]";y[k]=u("C,a","return new C("+f(R,",")+")")}return y[k](E,O)}return _.apply(w,T)};return o(v)&&(C.prototype=v),C}},function(r,e,t){t=t(43),r.exports=t("document","documentElement")},function(r,e,t){t=t(0),r.exports=t},function(r,e,t){var n=t(0),i=t(86),s=t(85),o=t(19),a=t(12)("species"),l=n.Array;r.exports=function(c){var u;return i(c)&&(u=c.constructor,(s(u)&&(u===l||i(u.prototype))||o(u)&&(u=u[a])===null)&&(u=void 0)),u===void 0?l:u}},function(r,e,t){"use strict";function n(){return this}var i=t(136).IteratorPrototype,s=t(50),o=t(61),a=t(87),l=t(68);r.exports=function(c,u,h,f){return u+=" Iterator",c.prototype=s(i,{next:o(+!f,h)}),a(c,u,!1,!0),l[u]=n,c}},function(r,e,t){var n=t(18),i=t(131),s=t(12)("species");r.exports=function(l,a){var l=n(l).constructor;return l===void 0||(l=n(l)[s])==null?a:i(l)}},function(r,e,t){var n=t(64).PROPER,i=t(2),s=t(93);r.exports=function(o){return i(function(){return!!s[o]()||"\u200B\x85\u180E"[o]()!=="\u200B\x85\u180E"||n&&s[o].name!==o})}},function(r,e,o){var h=o(0),n=o(2),c=o(1),i=o(23),s=o(92).trim,o=o(93),a=c("".charAt),l=h.parseFloat,c=h.Symbol,u=c&&c.iterator,h=1/l(o+"-0")!=-1/0||u&&!n(function(){l(Object(u))});r.exports=h?function(y){var y=s(i(y)),w=l(y);return w===0&&a(y,0)=="-"?-0:w}:l},function(r,e,t){t=t(1),r.exports=t(1 .valueOf)},function(r,e,i){"use strict";var n=i(56).forEach,i=i(118)("forEach");r.exports=i?[].forEach:function(s){return n(this,s,1<arguments.length?arguments[1]:void 0)}},function(r,e,l){var n=l(2),i=l(19),s=l(48),o=l(170),a=Object.isExtensible,l=n(function(){a(1)});r.exports=l||o?function(c){return!!i(c)&&(!o||s(c)!="ArrayBuffer")&&(!a||a(c))}:a},function(r,e,t){t=t(2),r.exports=t(function(){var n;typeof ArrayBuffer=="function"&&(n=new ArrayBuffer(8),Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8}))})},function(r,e,t){t=t(2),r.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(r,e,t){var n=t(37);r.exports=function(i,s,o){for(var a in s)n(i,a,s[a],o);return i}},function(r,e,t){var n=t(1),i=t(36),s=Math.floor,o=n("".charAt),a=n("".replace),l=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;r.exports=function(h,f,y,w,_,v){var S=y+h.length,C=w.length,T=u;return _!==void 0&&(_=i(_),T=c),a(v,T,function(E,k){var O;switch(o(k,0)){case"$":return"$";case"&":return h;case"`":return l(f,0,y);case"'":return l(f,S);case"<":O=_[l(k,1,-1)];break;default:var R,P=+k;if(P==0)return E;if(C<P)return(R=s(P/10))!==0&&R<=C?w[R-1]===void 0?o(k,1):w[R-1]+o(k,1):E;O=w[P-1]}return O===void 0?"":O})}},function(r,e,t){"use strict";var n=t(0),i=t(88),s=t(21),o=t(36),a=t(175),l=t(148),c=t(85),u=t(46),h=t(67),f=t(149),y=t(120),w=n.Array;r.exports=function(R){var v,S,C,T,E,k,O=o(R),R=c(this),z=arguments.length,P=1<z?arguments[1]:void 0,D=P!==void 0,z=(D&&(P=i(P,2<z?arguments[2]:void 0)),y(O)),I=0;if(!z||this==w&&l(z))for(v=u(O),S=R?new this(v):w(v);I<v;I++)k=D?P(O[I],I):O[I],h(S,I,k);else for(E=(T=f(O,z)).next,S=R?new this:[];!(C=s(E,T)).done;I++)k=D?a(T,P,[C.value,I],!0):C.value,h(S,I,k);return S.length=I,S}},function(r,e,t){var n=t(18),i=t(150);r.exports=function(s,o,a,l){try{return l?o(n(a)[0],a[1]):o(a)}catch(c){i(s,"throw",c)}}},function(r,e,s){var n=s(3),i=s(2),s=s(107).f;n({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},function(r,e,t){"use strict";t(145)("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},t(153))},function(r,e,a){var f=a(0),n=a(2),i=a(1),s=a(23),o=a(92).trim,a=a(93),l=f.parseInt,f=f.Symbol,c=f&&f.iterator,u=/^[+-]?0x/i,h=i(u.exec),f=l(a+"08")!==8||l(a+"0x16")!==22||c&&!n(function(){l(Object(c))});r.exports=f?function(y,w){return y=o(s(y)),l(y,w>>>0||(h(u,y)?16:10))}:l},function(r,e,t){var n=t(20);r.exports=function(i){return i!==void 0&&(n(i,"value")||n(i,"writable"))}},function(r,e,S){"use strict";var n=S(3),C=S(1),i=S(62),s=S(36),o=S(46),a=S(23),l=S(2),c=S(181),T=S(118),u=S(182),h=S(183),f=S(74),y=S(184),w=[],_=C(w.sort),v=C(w.push),S=l(function(){w.sort(void 0)}),C=l(function(){w.sort(null)}),T=T("sort"),E=!l(function(){if(f)return f<70;if(!(u&&3<u)){if(h)return!0;if(y)return y<603;for(var k,O,R,P="",D=65;D<76;D++){switch(k=String.fromCharCode(D),D){case 66:case 69:case 70:case 72:O=3;break;case 68:case 71:O=4;break;default:O=2}for(R=0;R<47;R++)w.push({k:k+R,v:O})}for(w.sort(function(z,I){return I.v-z.v}),R=0;R<w.length;R++)k=w[R].k.charAt(0),P.charAt(P.length-1)!==k&&(P+=k);return P!=="DGBEFHACIJK"}});n({target:"Array",proto:!0,forced:S||!C||!T||!E},{sort:function(k){k!==void 0&&i(k);var O=s(this);if(E)return k===void 0?_(O):_(O,k);for(var R,P,D=[],z=o(O),I=0;I<z;I++)I in O&&v(D,O[I]);for(c(D,(P=k,function(F,j){return j===void 0?-1:F===void 0?1:P!==void 0?+P(F,j)||0:a(F)>a(j)?1:-1})),R=D.length,I=0;I<R;)O[I]=D[I++];for(;I<z;)delete O[I++];return O}})},function(r,e,t){function n(o,a){var l=o.length,c=s(l/2);if(l<8){for(var u,h,f=o,y=a,w=f.length,_=1;_<w;){for(u=f[h=_];h&&0<y(f[h-1],u);)f[h]=f[--h];h!==_++&&(f[h]=u)}return f}for(var v=o,S=n(i(o,0,c),a),C=n(i(o,c),a),T=a,E=S.length,k=C.length,O=0,R=0;O<E||R<k;)v[O+R]=O<E&&R<k?T(S[O],C[R])<=0?S[O++]:C[R++]:O<E?S[O++]:C[R++];return v}var i=t(108),s=Math.floor;r.exports=n},function(r,e,t){t=t(75).match(/firefox\/(\d+)/i),r.exports=!!t&&+t[1]},function(r,e,t){t=t(75),r.exports=/MSIE|Trident/.test(t)},function(r,e,t){t=t(75).match(/AppleWebKit\/(\d+)\./),r.exports=!!t&&+t[1]},function(r,e,i){var n=i(3),i=i(186);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(r,e,t){"use strict";var n=t(17),i=t(1),s=t(21),o=t(2),a=t(66),l=t(103),c=t(70),u=t(36),h=t(71),f=Object.assign,y=Object.defineProperty,w=i([].concat);r.exports=!f||o(function(){if(n&&f({b:1},f(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var _={},v={},S=Symbol(),C="abcdefghijklmnopqrst";return _[S]=7,C.split("").forEach(function(T){v[T]=T}),f({},_)[S]!=7||a(f({},v)).join("")!=C})?function(_,v){for(var S=u(_),C=arguments.length,T=1,E=l.f,k=c.f;T<C;)for(var O,R=h(arguments[T++]),P=E?w(a(R),E(R)):a(R),D=P.length,z=0;z<D;)O=P[z++],n&&!s(k,R,O)||(S[O]=R[O]);return S}:f},function(r,e,s){"use strict";var n=s(3),i=s(56).findIndex,s=s(89),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n({target:"Array",proto:!0,forced:a},{findIndex:function(l){return i(this,l,1<arguments.length?arguments[1]:void 0)}}),s(o)},function(r,e,t){t(3)({target:"Number",stat:!0},{isNaN:function(n){return n!=n}})},function(r,e,t){var n=t(3),i=t(190).values;n({target:"Object",stat:!0},{values:function(s){return i(s)}})},function(r,e,t){function n(u){return function(h){for(var f,y=a(h),w=o(y),_=w.length,v=0,S=[];v<_;)f=w[v++],i&&!l(y,f)||c(S,u?[f,y[f]]:y[f]);return S}}var i=t(17),s=t(1),o=t(66),a=t(30),l=s(t(70).f),c=s([].push);r.exports={entries:n(!0),values:n(!1)}},function(r,e,n){var n=n(3),i=Math.ceil,s=Math.floor;n({target:"Math",stat:!0},{trunc:function(o){return(0<o?s:i)(o)}})},,function(r,V,Oe){"use strict";Oe.r(V);var n={};Oe.r(n),Oe.d(n,"top",function(){return fe}),Oe.d(n,"bottom",function(){return be}),Oe.d(n,"right",function(){return Te}),Oe.d(n,"left",function(){return Pe}),Oe.d(n,"auto",function(){return Ze}),Oe.d(n,"basePlacements",function(){return he}),Oe.d(n,"start",function(){return Ge}),Oe.d(n,"end",function(){return Fe}),Oe.d(n,"clippingParents",function(){return Re}),Oe.d(n,"viewport",function(){return Z}),Oe.d(n,"popper",function(){return ke}),Oe.d(n,"reference",function(){return De}),Oe.d(n,"variationPlacements",function(){return Ke}),Oe.d(n,"placements",function(){return Be}),Oe.d(n,"beforeRead",function(){return et}),Oe.d(n,"read",function(){return ce}),Oe.d(n,"afterRead",function(){return Me}),Oe.d(n,"beforeMain",function(){return Ue}),Oe.d(n,"main",function(){return qe}),Oe.d(n,"afterMain",function(){return pt}),Oe.d(n,"beforeWrite",function(){return wn}),Oe.d(n,"write",function(){return Bi}),Oe.d(n,"afterWrite",function(){return ml}),Oe.d(n,"modifierPhases",function(){return $r}),Oe.d(n,"applyStyles",function(){return ra}),Oe.d(n,"arrow",function(){return wt}),Oe.d(n,"computeStyles",function(){return ui}),Oe.d(n,"eventListeners",function(){return jr}),Oe.d(n,"flip",function(){return Jm}),Oe.d(n,"hide",function(){return Qm}),Oe.d(n,"offset",function(){return eg}),Oe.d(n,"popperOffsets",function(){return Mu}),Oe.d(n,"preventOverflow",function(){return tg}),Oe.d(n,"popperGenerator",function(){return gl}),Oe.d(n,"detectOverflow",function(){return Hs}),Oe.d(n,"createPopperBase",function(){return Dw}),Oe.d(n,"createPopper",function(){return aa}),Oe.d(n,"createPopperLite",function(){return Iw}),Oe(29),Oe(31),Oe(4),Oe(32),Oe(7),Oe(10),Oe(11),Oe(5),Oe(6),Oe(8),Oe(16),Oe(69),Oe(33),Oe(51),Oe(57),Oe(38),Oe(91),Oe(116),Oe(34),Oe(9),Oe(13),Oe(52),Oe(40),Oe(26);function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function s(g){return(g=R(g))&&document.querySelector(g)?g:null}function o(g){return(g=R(g))?document.querySelector(g):null}function a(g){g.dispatchEvent(new Event(O))}function l(g){return P(g)?g.jquery?g[0]:g:typeof g=="string"&&0<g.length?document.querySelector(g):null}function c(g,m,b){Object.keys(b).forEach(function(x){var d=b[x],p=m[x],p=p&&P(p)?"element":(p=p)==null?"".concat(p):{}.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(d).test(p))throw new TypeError("".concat(g.toUpperCase(),': Option "').concat(x,'" provided type "').concat(p,'" but expected type "').concat(d,'".'))})}function u(g){return!(!P(g)||g.getClientRects().length===0)&&getComputedStyle(g).getPropertyValue("visibility")==="visible"}function h(g){return!g||g.nodeType!==Node.ELEMENT_NODE||!!g.classList.contains("disabled")||(g.disabled!==void 0?g.disabled:g.hasAttribute("disabled")&&g.getAttribute("disabled")!=="false")}function f(g){return document.documentElement.attachShadow?typeof g.getRootNode=="function"?(m=g.getRootNode())instanceof ShadowRoot?m:null:g instanceof ShadowRoot?g:g.parentNode?f(g.parentNode):null:null;var m}function y(){}function w(g){g.offsetHeight}function _(){var g=window.jQuery;return g&&!document.body.hasAttribute("data-bs-no-jquery")?g:null}function v(){return document.documentElement.dir==="rtl"}function S(g){var m;m=function(){var b,x,d=_();d&&(b=g.NAME,x=d.fn[b],d.fn[b]=g.jQueryInterface,d.fn[b].Constructor=g,d.fn[b].noConflict=function(){return d.fn[b]=x,g.jQueryInterface})},document.readyState==="loading"?(D.length||document.addEventListener("DOMContentLoaded",function(){D.forEach(function(b){return b()})}),D.push(m)):m()}function C(g){typeof g=="function"&&g()}function T(g,m){var b,x;2<arguments.length&&arguments[2]!==void 0&&!arguments[2]?C(g):(b=function(M){if(!M)return 0;var M=window.getComputedStyle(M),p=M.transitionDuration,M=M.transitionDelay,A=Number.parseFloat(p),L=Number.parseFloat(M);return A||L?(p=p.split(",")[0],M=M.split(",")[0],(Number.parseFloat(p)+Number.parseFloat(M))*k):0}(m)+5,x=!1,m.addEventListener(O,function d(p){p.target===m&&(x=!0,m.removeEventListener(O,d),C(g))}),setTimeout(function(){x||a(m)},b))}function E(g,m,b,x){if((m=g.indexOf(m))===-1)return g[!b&&x?g.length-1:0];var d=g.length;return m+=b?1:-1,x&&(m=(m+d)%d),g[Math.max(0,Math.min(m,d-1))]}var k=1e3,O="transitionend",R=function(g){var m=g.getAttribute("data-bs-target");if(!m||m==="#"){if(g=g.getAttribute("href"),!g||!g.includes("#")&&!g.startsWith("."))return null;m=(g=g.includes("#")&&!g.startsWith("#")?"#".concat(g.split("#")[1]):g)&&g!=="#"?g.trim():null}return m},P=function(g){return!(!g||i(g)!=="object")&&(g=g.jquery!==void 0?g[0]:g).nodeType!==void 0},D=[];Oe(119),Oe(47),Oe(27),Oe(41),Oe(35);function z(g,m){return function(b){if(Array.isArray(b))return b}(g)||function(b,x){var d=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(d!=null){var p,M,A=[],L=!0,H=!1;try{for(d=d.call(b);!(L=(p=d.next()).done)&&(A.push(p.value),!x||A.length!==x);L=!0);}catch(B){H=!0,M=B}finally{try{L||d.return==null||d.return()}finally{if(H)throw M}}return A}}(g,m)||function(b,x){if(b){if(typeof b=="string")return I(b,x);var d=Object.prototype.toString.call(b).slice(8,-1);return(d=d==="Object"&&b.constructor?b.constructor.name:d)==="Map"||d==="Set"?Array.from(b):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?I(b,x):void 0}}(g,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(g,m){(m==null||m>g.length)&&(m=g.length);for(var b=0,x=new Array(m);b<m;b++)x[b]=g[b];return x}var F=/[^.]*(?=\..*)\.|.*/,j=/\..*/,U=/::\d+$/,W={},G=1,N={mouseenter:"mouseover",mouseleave:"mouseout"},$=/^(mouseenter|mouseleave)/i,q=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function J(g,m){return m&&"".concat(m,"::").concat(G++)||g.uidEvent||G++}function re(g){var m=J(g);return g.uidEvent=m,W[m]=W[m]||{},W[m]}function te(g,m,b){for(var x=2<arguments.length&&b!==void 0?b:null,d=Object.keys(g),p=0,M=d.length;p<M;p++){var A=g[d[p]];if(A.originalHandler===m&&A.delegationSelector===x)return A}return null}function pe(g,p,d){var x=typeof p=="string",d=x?d:p,p=ae(g);return[x,d,p=q.has(p)?p:g]}function ye(g,m,b,x,d){var p,M,A,L,H,B,Q,K,ue,ge;typeof m=="string"&&g&&(b||(b=x,x=null),$.test(m)&&(A=function(me){return function(Se){if(!Se.relatedTarget||Se.relatedTarget!==Se.delegateTarget&&!Se.delegateTarget.contains(Se.relatedTarget))return me.call(this,Se)}},x?x=A(x):b=A(b)),p=(A=z(pe(m,b,x),3))[0],M=A[1],A=A[2],(H=te(L=(L=re(g))[A]||(L[A]={}),M,p?b:null))?H.oneOff=H.oneOff&&d:(H=J(M,m.replace(F,"")),(m=p?(K=g,ue=b,ge=x,function me(Se){for(var ie=K.querySelectorAll(ue),xe=Se.target;xe&&xe!==this;xe=xe.parentNode)for(var Ie=ie.length;Ie--;)if(ie[Ie]===xe)return Se.delegateTarget=xe,me.oneOff&&je.off(K,Se.type,ue,ge),ge.apply(xe,[Se]);return null}):(B=g,Q=b,function me(Se){return Se.delegateTarget=B,me.oneOff&&je.off(B,Se.type,Q),Q.apply(B,[Se])})).delegationSelector=p?b:null,m.originalHandler=M,m.oneOff=d,L[m.uidEvent=H]=m,g.addEventListener(A,m,p)))}function Ae(g,m,b,x,d){x=te(m[b],x,d),x&&(g.removeEventListener(b,x,Boolean(d)),delete m[b][x.uidEvent])}function ae(g){return g=g.replace(j,""),N[g]||g}var je={on:function(g,m,b,x){ye(g,m,b,x,!1)},one:function(g,m,b,x){ye(g,m,b,x,!0)},off:function(g,m,b,x){if(typeof m=="string"&&g){var x=z(pe(m,b,x),3),d=x[0],p=x[1],M=x[2],A=M!==m,L=re(g),x=m.startsWith(".");if(p!==void 0)return L&&L[M]?void Ae(g,L,M,p,d?b:null):void 0;x&&Object.keys(L).forEach(function(Q){var K,ue,ge,me,Se;K=g,ue=L,ge=Q,me=m.slice(1),Se=ue[ge]||{},Object.keys(Se).forEach(function(ie){ie.includes(me)&&(ie=Se[ie],Ae(K,ue,ge,ie.originalHandler,ie.delegationSelector))})});var H=L[M]||{};Object.keys(H).forEach(function(Q){var K=Q.replace(U,"");A&&!m.includes(K)||(K=H[Q],Ae(g,L,M,K.originalHandler,K.delegationSelector))})}},trigger:function(g,m,b){if(typeof m!="string"||!g)return null;var x,d=_(),p=ae(m),M=m!==p,A=q.has(p),L=!0,H=!0,B=!1,Q=null;return M&&d&&(x=d.Event(m,b),d(g).trigger(x),L=!x.isPropagationStopped(),H=!x.isImmediatePropagationStopped(),B=x.isDefaultPrevented()),A?(Q=document.createEvent("HTMLEvents")).initEvent(p,L,!0):Q=new CustomEvent(m,{bubbles:L,cancelable:!0}),b!==void 0&&Object.keys(b).forEach(function(K){Object.defineProperty(Q,K,{get:function(){return b[K]}})}),B&&Q.preventDefault(),H&&g.dispatchEvent(Q),Q.defaultPrevented&&x!==void 0&&x.preventDefault(),Q}},oe=je,Ee=(Oe(176),Oe(177),new Map),ve=function(g,m,b){Ee.has(g)||Ee.set(g,new Map),g=Ee.get(g),g.has(m)||g.size===0?g.set(m,b):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(g.keys())[0],"."))},st=function(g,m){return Ee.has(g)&&Ee.get(g).get(m)||null},Ve=function(g,m){var b;Ee.has(g)&&((b=Ee.get(g)).delete(m),b.size===0&&Ee.delete(g))};function He(g){return(He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function ut(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}var Je=function(){function g(d){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");(d=l(d))&&(this._element=d,ve(this._element,this.constructor.DATA_KEY,this))}var m,b,x;return m=g,x=[{key:"getInstance",value:function(d){return st(l(d),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,He(p)==="object"?p:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}],(b=[{key:"dispose",value:function(){var d=this;Ve(this._element,this.constructor.DATA_KEY),oe.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(function(p){d[p]=null})}},{key:"_queueCallback",value:function(d,p){T(d,p,!(2<arguments.length&&arguments[2]!==void 0)||arguments[2])}}])&&ut(m.prototype,b),x&&ut(m,x),Object.defineProperty(m,"prototype",{writable:!1}),g}();function bt(g){return(bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function Le(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function Ct(g,m){return(Ct=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function ht(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=pn(g),x=(b=m?(b=pn(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(bt(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function pn(g){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}var V=".".concat("bs.button"),It='[data-bs-toggle="button"]',V="click".concat(V).concat(".data-api"),X=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&Ct(g,m);var b,x=ht(d);function d(){var p=this,M=d;if(p instanceof M)return x.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M=d.getOrCreateInstance(this);p==="toggle"&&M[p]()})}}],(b=[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}])&&Le(g.prototype,b),m&&Le(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),V=(oe.on(document,V,It,function(g){g.preventDefault(),g=g.target.closest(It),X.getOrCreateInstance(g).toggle()}),S(X),X),fe=(Oe(28),Oe(58),Oe(121),Oe(15),Oe(59),Oe(24),Oe(25),"top"),be="bottom",Te="right",Pe="left",Ze="auto",he=[fe,be,Te,Pe],Ge="start",Fe="end",Re="clippingParents",Z="viewport",ke="popper",De="reference",Ke=he.reduce(function(g,m){return g.concat([m+"-"+Ge,m+"-"+Fe])},[]),Be=[].concat(he,[Ze]).reduce(function(g,m){return g.concat([m,m+"-"+Ge,m+"-"+Fe])},[]),et="beforeRead",ce="read",Me="afterRead",Ue="beforeMain",qe="main",pt="afterMain",wn="beforeWrite",Bi="write",ml="afterWrite",$r=[et,ce,Me,Ue,qe,pt,wn,Bi,ml];function ci(g){return g?(g.nodeName||"").toLowerCase():null}function Sn(g){return g==null?window:g.toString()!=="[object Window]"?(m=g.ownerDocument)&&m.defaultView||window:g;var m}function Ki(g){return g instanceof Sn(g).Element||g instanceof Element}function Dn(g){return g instanceof Sn(g).HTMLElement||g instanceof HTMLElement}function ia(g){if(typeof ShadowRoot<"u")return g instanceof Sn(g).ShadowRoot||g instanceof ShadowRoot}var ra={name:"applyStyles",enabled:!0,phase:"write",fn:function(g){var m=g.state;Object.keys(m.elements).forEach(function(b){var x=m.styles[b]||{},d=m.attributes[b]||{},p=m.elements[b];Dn(p)&&ci(p)&&(Object.assign(p.style,x),Object.keys(d).forEach(function(M){var A=d[M];A===!1?p.removeAttribute(M):p.setAttribute(M,A===!0?"":A)}))})},effect:function(g){var m=g.state,b={popper:{position:m.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(m.elements.popper.style,b.popper),m.styles=b,m.elements.arrow&&Object.assign(m.elements.arrow.style,b.arrow),function(){Object.keys(m.elements).forEach(function(M){var d=m.elements[M],p=m.attributes[M]||{},M=Object.keys((m.styles.hasOwnProperty(M)?m.styles:b)[M]).reduce(function(A,L){return A[L]="",A},{});Dn(d)&&ci(d)&&(Object.assign(d.style,M),Object.keys(p).forEach(function(A){d.removeAttribute(A)}))})}},requires:["computeStyles"]};function Y(g){return g.split("-")[0]}var se=Math.max,de=Math.min,le=Math.round;function _e(g,m){m===void 0&&(m=!1);var b=g.getBoundingClientRect(),x=1,d=1;return Dn(g)&&m&&(m=g.offsetHeight,0<(g=g.offsetWidth)&&(x=le(b.width)/g||1),0<m&&(d=le(b.height)/m||1)),{width:b.width/x,height:b.height/d,top:b.top/d,right:b.right/x,bottom:b.bottom/d,left:b.left/x,x:b.left/x,y:b.top/d}}function nt(g){var m=_e(g),b=g.offsetWidth,x=g.offsetHeight;return Math.abs(m.width-b)<=1&&(b=m.width),Math.abs(m.height-x)<=1&&(x=m.height),{x:g.offsetLeft,y:g.offsetTop,width:b,height:x}}function lt(g,m){var b=m.getRootNode&&m.getRootNode();if(g.contains(m))return!0;if(b&&ia(b)){var x=m;do if(x&&g.isSameNode(x))return!0;while(x=x.parentNode||x.host)}return!1}function it(g){return Sn(g).getComputedStyle(g)}function rt(g){return((Ki(g)?g.ownerDocument:g.document)||window.document).documentElement}function xt(g){return ci(g)==="html"?g:g.assignedSlot||g.parentNode||(ia(g)?g.host:null)||rt(g)}function gt(g){return Dn(g)&&it(g).position!=="fixed"?g.offsetParent:null}function dt(g){for(var m,b=Sn(g),x=gt(g);x&&(m=x,0<=["table","td","th"].indexOf(ci(m)))&&it(x).position==="static";)x=gt(x);return(!x||ci(x)!=="html"&&(ci(x)!=="body"||it(x).position!=="static"))&&(x||function(d){var p=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,M=navigator.userAgent.indexOf("Trident")!==-1;if(M&&Dn(d)&&it(d).position==="fixed")return null;var A=xt(d);for(ia(A)&&(A=A.host);Dn(A)&&["html","body"].indexOf(ci(A))<0;){var L=it(A);if(L.transform!=="none"||L.perspective!=="none"||L.contain==="paint"||["transform","perspective"].indexOf(L.willChange)!==-1||p&&L.willChange==="filter"||p&&L.filter&&L.filter!=="none")return A;A=A.parentNode}return null}(g))||b}function Dt(g){return 0<=["top","bottom"].indexOf(g)?"x":"y"}function Xn(g,m,b){return se(g,de(m,b))}function Qi(){return{top:0,right:0,bottom:0,left:0}}function er(g){return Object.assign({},Qi(),g)}function Jn(g,m){return m.reduce(function(b,x){return b[x]=g,b},{})}var wt={name:"arrow",enabled:!0,phase:"main",fn:function(A){var m,b,x,d,p=A.state,M=A.name,A=A.options,L=p.elements.arrow,H=p.modifiersData.popperOffsets,B=Dt(Q=Y(p.placement)),Q=0<=[Pe,Te].indexOf(Q)?"height":"width";L&&H&&(A=A.padding,b=p,b=er(typeof(A=typeof A=="function"?A(Object.assign({},b.rects,{placement:b.placement})):A)!="number"?A:Jn(A,he)),A=nt(L),d=B==="y"?fe:Pe,x=B==="y"?be:Te,m=p.rects.reference[Q]+p.rects.reference[B]-H[B]-p.rects.popper[Q],H=H[B]-p.rects.reference[B],L=(L=dt(L))?B==="y"?L.clientHeight||0:L.clientWidth||0:0,d=b[d],b=L-A[Q]-b[x],d=Xn(d,x=L/2-A[Q]/2+(m/2-H/2),b),p.modifiersData[M]=((L={})[B]=d,L.centerOffset=d-x,L))},effect:function(g){var m=g.state;(g=(g=g.options.element)===void 0?"[data-popper-arrow]":g)!=null&&(typeof g!="string"||(g=m.elements.popper.querySelector(g)))&&lt(m.elements.popper,g)&&(m.elements.arrow=g)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zn(g){return g.split("-")[1]}var zt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kn(Ie){var m,b,x,xe=Ie.popper,d=Ie.popperRect,p=Ie.placement,M=Ie.variation,ge=Ie.offsets,A=Ie.position,L=Ie.gpuAcceleration,H=Ie.adaptive,B=Ie.roundOffsets,Ie=Ie.isFixed,Q=ge.x,Q=Q===void 0?0:Q,K=ge.y,K=K===void 0?0:K,ue=typeof B=="function"?B({x:Q,y:K}):{x:Q,y:K},ue=(Q=ue.x,K=ue.y,ge.hasOwnProperty("x")),ge=ge.hasOwnProperty("y"),me=Pe,Se=fe,ie=window,xe=(H&&(b="clientHeight",m="clientWidth",(x=dt(xe))===Sn(xe)&&it(x=rt(xe)).position!=="static"&&A==="absolute"&&(b="scrollHeight",m="scrollWidth"),p!==fe&&(p!==Pe&&p!==Te||M!==Fe)||(Se=be,K=(K-((Ie&&x===ie&&ie.visualViewport?ie.visualViewport.height:x[b])-d.height))*(L?1:-1)),p!==Pe&&(p!==fe&&p!==be||M!==Fe)||(me=Te,Q=(Q-((Ie&&x===ie&&ie.visualViewport?ie.visualViewport.width:x[m])-d.width))*(L?1:-1))),Object.assign({position:A},H&&zt)),Ie=B===!0?(p=(b={x:Q,y:K}).x,b=b.y,M=window.devicePixelRatio||1,{x:le(p*M)/M||0,y:le(b*M)/M||0}):{x:Q,y:K};return Q=Ie.x,K=Ie.y,L?Object.assign({},xe,((x={})[Se]=ge?"0":"",x[me]=ue?"0":"",x.transform=(ie.devicePixelRatio||1)<=1?"translate("+Q+"px, "+K+"px)":"translate3d("+Q+"px, "+K+"px, 0)",x)):Object.assign({},xe,((m={})[Se]=ge?K+"px":"",m[me]=ue?Q+"px":"",m.transform="",m))}var ui={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(x){var m=x.state,x=x.options,d=(d=x.gpuAcceleration)===void 0||d,b=(b=x.adaptive)===void 0||b,x=(x=x.roundOffsets)===void 0||x,d={placement:Y(m.placement),variation:Zn(m.placement),popper:m.elements.popper,popperRect:m.rects.popper,gpuAcceleration:d,isFixed:m.options.strategy==="fixed"};m.modifiersData.popperOffsets!=null&&(m.styles.popper=Object.assign({},m.styles.popper,Kn(Object.assign({},d,{offsets:m.modifiersData.popperOffsets,position:m.options.strategy,adaptive:b,roundOffsets:x})))),m.modifiersData.arrow!=null&&(m.styles.arrow=Object.assign({},m.styles.arrow,Kn(Object.assign({},d,{offsets:m.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:x})))),m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-placement":m.placement})},data:{}},Ui={passive:!0},jr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(g){var m=g.state,b=g.instance,x=(g=g.options).scroll,d=x===void 0||x,p=(x=g.resize)===void 0||x,M=Sn(m.elements.popper),A=[].concat(m.scrollParents.reference,m.scrollParents.popper);return d&&A.forEach(function(L){L.addEventListener("scroll",b.update,Ui)}),p&&M.addEventListener("resize",b.update,Ui),function(){d&&A.forEach(function(L){L.removeEventListener("scroll",b.update,Ui)}),p&&M.removeEventListener("resize",b.update,Ui)}},data:{}},an={left:"right",right:"left",bottom:"top",top:"bottom"};function Hi(g){return g.replace(/left|right|bottom|top/g,function(m){return an[m]})}var sa={start:"end",end:"start"};function Qn(g){return g.replace(/start|end/g,function(m){return sa[m]})}function bu(g){return g=Sn(g),{scrollLeft:g.pageXOffset,scrollTop:g.pageYOffset}}function xu(g){return _e(rt(g)).left+bu(g).scrollLeft}function wu(x){var x=it(x),m=x.overflow,b=x.overflowX,x=x.overflowY;return/auto|scroll|overlay|hidden/.test(m+x+b)}function oa(b,m){m===void 0&&(m=[]);var d=function p(M){return 0<=["html","body","#document"].indexOf(ci(M))?M.ownerDocument.body:Dn(M)&&wu(M)?M:p(xt(M))}(b),b=d===((b=b.ownerDocument)==null?void 0:b.body),x=Sn(d),x=b?[x].concat(x.visualViewport||[],wu(d)?d:[]):d,d=m.concat(x);return b?d:d.concat(oa(xt(x)))}function Su(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function Ym(g,m){return m===Z?Su((x=Sn(b=g),d=rt(b),x=x.visualViewport,p=d.clientWidth,d=d.clientHeight,A=M=0,x&&(p=x.width,d=x.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(M=x.offsetLeft,A=x.offsetTop)),{width:p,height:d,x:M+xu(b),y:A})):Ki(m)?((p=_e(x=m)).top=p.top+x.clientTop,p.left=p.left+x.clientLeft,p.bottom=p.top+x.clientHeight,p.right=p.left+x.clientWidth,p.width=x.clientWidth,p.height=x.clientHeight,p.x=p.left,p.y=p.top,p):Su((d=rt(g),M=rt(d),b=bu(d),A=(A=d.ownerDocument)==null?void 0:A.body,m=se(M.scrollWidth,M.clientWidth,A?A.scrollWidth:0,A?A.clientWidth:0),g=se(M.scrollHeight,M.clientHeight,A?A.scrollHeight:0,A?A.clientHeight:0),d=-b.scrollLeft+xu(d),b=-b.scrollTop,it(A||M).direction==="rtl"&&(d+=se(M.clientWidth,A?A.clientWidth:0)-m),{width:m,height:g,x:d,y:b}));var b,x,d,p,M,A}function Pw(g,M,A){var x,d=M==="clippingParents"?(p=oa(xt(d=g)),Ki(x=0<=["absolute","fixed"].indexOf(it(d).position)&&Dn(d)?dt(d):d)?p.filter(function(L){return Ki(L)&&lt(L,x)&&ci(L)!=="body"}):[]):[].concat(M),p=[].concat(d,[A]),M=p[0],A=p.reduce(function(L,H){return H=Ym(g,H),L.top=se(H.top,L.top),L.right=de(H.right,L.right),L.bottom=de(H.bottom,L.bottom),L.left=se(H.left,L.left),L},Ym(g,M));return A.width=A.right-A.left,A.height=A.bottom-A.top,A.x=A.left,A.y=A.top,A}function Xm(p){var m,b=p.reference,x=p.element,p=p.placement,d=p?Y(p):null,p=p?Zn(p):null,M=b.x+b.width/2-x.width/2,A=b.y+b.height/2-x.height/2;switch(d){case fe:m={x:M,y:b.y-x.height};break;case be:m={x:M,y:b.y+b.height};break;case Te:m={x:b.x+b.width,y:A};break;case Pe:m={x:b.x-x.width,y:A};break;default:m={x:b.x,y:b.y}}var L=d?Dt(d):null;if(L!=null){var H=L==="y"?"height":"width";switch(p){case Ge:m[L]=m[L]-(b[H]/2-x[H]/2);break;case Fe:m[L]=m[L]+(b[H]/2-x[H]/2)}}return m}function Hs(g,p){var b,p=p=p===void 0?{}:p,x=p.placement,x=x===void 0?g.placement:x,A=p.boundary,A=A===void 0?Re:A,L=p.rootBoundary,L=L===void 0?Z:L,d=p.elementContext,d=d===void 0?ke:d,M=p.altBoundary,M=M!==void 0&&M,p=p.padding,p=p===void 0?0:p,p=er(typeof p!="number"?p:Jn(p,he)),B=g.rects.popper,M=g.elements[M?d===ke?De:ke:d],M=Pw(Ki(M)?M:M.contextElement||rt(g.elements.popper),A,L),A=_e(g.elements.reference),L=Xm({reference:A,element:B,strategy:"absolute",placement:x}),B=Su(Object.assign({},B,L)),L=d===ke?B:A,H={top:M.top-L.top+p.top,bottom:L.bottom-M.bottom+p.bottom,left:M.left-L.left+p.left,right:L.right-M.right+p.right},B=g.modifiersData.offset;return d===ke&&B&&(b=B[x],Object.keys(H).forEach(function(Q){var K=0<=[Te,be].indexOf(Q)?1:-1,ue=0<=[fe,be].indexOf(Q)?"y":"x";H[Q]+=b[ue]*K})),H}var Jm={name:"flip",enabled:!0,phase:"main",fn:function(x){var m=x.state,b=x.options,x=x.name;if(!m.modifiersData[x]._skip){for(var ue=b.mainAxis,d=ue===void 0||ue,ue=b.altAxis,p=ue===void 0||ue,ue=b.fallbackPlacements,M=b.padding,A=b.boundary,L=b.rootBoundary,H=b.altBoundary,K=b.flipVariations,B=K===void 0||K,Q=b.allowedAutoPlacements,K=m.options.placement,b=Y(K),ue=ue||(b===K||!B?[Hi(K)]:function(At){if(Y(At)===Ze)return[];var ii=Hi(At);return[Qn(At),ii,Qn(ii)]}(K)),ge=[K].concat(ue).reduce(function(At,ii){return At.concat(Y(ii)===Ze?(Gt=m,Oa=(At=At=(At={placement:ii,boundary:A,rootBoundary:L,padding:M,flipVariations:B,allowedAutoPlacements:Q})===void 0?{}:At).placement,ss=At.boundary,St=At.rootBoundary,os=At.padding,Yl=At.flipVariations,Xl=(At=At.allowedAutoPlacements)===void 0?Be:At,If=Zn(Oa),At=If?Yl?Ke:Ke.filter(function(wr){return Zn(wr)===If}):he,Jl=(Oa=(Oa=At.filter(function(wr){return 0<=Xl.indexOf(wr)})).length===0?At:Oa).reduce(function(wr,ka){return wr[ka]=Hs(Gt,{placement:ka,boundary:ss,rootBoundary:St,padding:os})[Y(ka)],wr},{}),Object.keys(Jl).sort(function(wr,ka){return Jl[wr]-Jl[ka]})):ii);var Gt,Oa,ss,St,os,Yl,Xl,If,Jl},[]),me=m.rects.reference,Se=m.rects.popper,ie=new Map,xe=!0,Ie=ge[0],ze=0;ze<ge.length;ze++){var $e=ge[ze],at=Y($e),Pt=Zn($e)===Ge,Qe=0<=[fe,be].indexOf(at),cn=Qe?"width":"height",We=Hs(m,{placement:$e,boundary:A,rootBoundary:L,altBoundary:H,padding:M}),Qe=Qe?Pt?Te:Pe:Pt?be:fe,Pt=(me[cn]>Se[cn]&&(Qe=Hi(Qe)),Hi(Qe)),cn=[];if(d&&cn.push(We[at]<=0),p&&cn.push(We[Qe]<=0,We[Pt]<=0),cn.every(function(At){return At})){Ie=$e,xe=!1;break}ie.set($e,cn)}if(xe)for(var Wt=B?3:1;0<Wt&&function(un){var At=ge.find(function(ii){if(ii=ie.get(ii),ii)return ii.slice(0,un).every(function(Gt){return Gt})});if(At)return Ie=At,"break"}(Wt)!=="break";Wt--);m.placement!==Ie&&(m.modifiersData[x]._skip=!0,m.placement=Ie,m.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Zm(g,m,b){return{top:g.top-m.height-(b=b===void 0?{x:0,y:0}:b).y,right:g.right-m.width+b.x,bottom:g.bottom-m.height+b.y,left:g.left-m.width-b.x}}function Km(g){return[fe,Te,be,Pe].some(function(m){return 0<=g[m]})}var Qm={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(b){var m=b.state,b=b.name,p=m.rects.reference,A=m.rects.popper,x=m.modifiersData.preventOverflow,d=Hs(m,{elementContext:"reference"}),M=Hs(m,{altBoundary:!0}),d=Zm(d,p),p=Zm(M,A,x),M=Km(d),A=Km(p);m.modifiersData[b]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:M,hasPopperEscaped:A},m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-reference-hidden":M,"data-popper-escaped":A})}},eg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(b){var m=b.state,d=b.options,b=b.name,x=(d=d.offset)===void 0?[0,0]:d,d=Be.reduce(function(A,L){var H,B,Q,K;return A[L]=(L=L,H=m.rects,B=x,Q=Y(L),K=0<=[Pe,fe].indexOf(Q)?-1:1,L=(H=typeof B=="function"?B(Object.assign({},H,{placement:L})):B)[0]||0,B=(H[1]||0)*K,0<=[Pe,Te].indexOf(Q)?{x:B,y:L}:{x:L,y:B}),A},{}),p=(M=d[m.placement]).x,M=M.y;m.modifiersData.popperOffsets!=null&&(m.modifiersData.popperOffsets.x+=p,m.modifiersData.popperOffsets.y+=M),m.modifiersData[b]=d}},Mu={name:"popperOffsets",enabled:!0,phase:"read",fn:function(b){var m=b.state,b=b.name;m.modifiersData[b]=Xm({reference:m.rects.reference,element:m.rects.popper,strategy:"absolute",placement:m.placement})},data:{}},tg={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Q){var m,b,x,d,p,M,A,L,H,B=Q.state,Qe=Q.options,Q=Q.name,K=(K=Qe.mainAxis)===void 0||K,ue=(ue=Qe.altAxis)!==void 0&&ue,Se=Qe.boundary,ie=Qe.rootBoundary,xe=Qe.altBoundary,ge=Qe.padding,me=(me=Qe.tether)===void 0||me,Qe=(Qe=Qe.tetherOffset)===void 0?0:Qe,Se=Hs(B,{boundary:Se,rootBoundary:ie,padding:ge,altBoundary:xe}),ie=Y(B.placement),xe=!(ge=Zn(B.placement)),Ie=Dt(ie),ze=Ie==="x"?"y":"x",$e=B.modifiersData.popperOffsets,at=B.rects.reference,We=B.rects.popper,Qe=typeof(Qe=typeof Qe=="function"?Qe(Object.assign({},B.rects,{placement:B.placement})):Qe)=="number"?{mainAxis:Qe,altAxis:Qe}:Object.assign({mainAxis:0,altAxis:0},Qe),Pt=B.modifiersData.offset?B.modifiersData.offset[B.placement]:null,cn={x:0,y:0};$e&&(K&&(K=Ie==="y"?"height":"width",M=(A=$e[Ie])+Se[b=Ie==="y"?fe:Pe],L=A-Se[H=Ie==="y"?be:Te],m=me?-We[K]/2:0,d=(ge===Ge?at:We)[K],ge=ge===Ge?-We[K]:-at[K],p=B.elements.arrow,p=me&&p?nt(p):{width:0,height:0},b=(x=B.modifiersData["arrow#persistent"]?B.modifiersData["arrow#persistent"].padding:Qi())[b],x=x[H],H=Xn(0,at[K],p[K]),p=xe?at[K]/2-m-H-b-Qe.mainAxis:d-H-b-Qe.mainAxis,d=xe?-at[K]/2+m+H+x+Qe.mainAxis:ge+H+x+Qe.mainAxis,xe=(b=B.elements.arrow&&dt(B.elements.arrow))?Ie==="y"?b.clientTop||0:b.clientLeft||0:0,ge=A+d-(m=(K=Pt?.[Ie])!=null?K:0),H=Xn(me?de(M,A+p-m-xe):M,A,me?se(L,ge):L),$e[Ie]=H,cn[Ie]=H-A),ue&&(x=ze=="y"?"height":"width",d=(b=$e[ze])+Se[Ie==="x"?fe:Pe],K=b-Se[Ie==="x"?be:Te],p=[fe,Pe].indexOf(ie)!==-1,xe=(m=Pt?.[ze])!=null?m:0,M=p?d:b-at[x]-We[x]-xe+Qe.altAxis,ge=p?b+at[x]+We[x]-xe-Qe.altAxis:K,A=me&&p?(L=Xn(L=M,b,H=ge),H<L?H:L):Xn(me?M:d,b,me?ge:K),$e[ze]=A,cn[ze]=A-b),B.modifiersData[Q]=cn)},requiresIfExists:["offset"]};function Ow(A,m,b){b===void 0&&(b=!1);var x=Dn(m),d=Dn(m)&&(M=(d=m).getBoundingClientRect(),p=le(M.width)/d.offsetWidth||1,M=le(M.height)/d.offsetHeight||1,p!==1||M!==1),p=rt(m),M=_e(A,d),A={scrollLeft:0,scrollTop:0},L={x:0,y:0};return!x&&b||(ci(m)==="body"&&!wu(p)||(A=(x=m)!==Sn(x)&&Dn(x)?{scrollLeft:x.scrollLeft,scrollTop:x.scrollTop}:bu(x)),Dn(m)?((L=_e(m,!0)).x+=m.clientLeft,L.y+=m.clientTop):p&&(L.x=xu(p))),{x:M.left+A.scrollLeft-L.x,y:M.top+A.scrollTop-L.y,width:M.width,height:M.height}}function kw(g){var m=new Map,b=new Set,x=[];return g.forEach(function(d){m.set(d.name,d)}),g.forEach(function(d){b.has(d.name)||function p(M){b.add(M.name),[].concat(M.requires||[],M.requiresIfExists||[]).forEach(function(A){b.has(A)||(A=m.get(A))&&p(A)}),x.push(M)}(d)}),x}var ng={placement:"bottom",modifiers:[],strategy:"absolute"};function ig(){for(var g=arguments.length,m=new Array(g),b=0;b<g;b++)m[b]=arguments[b];return!m.some(function(x){return!(x&&typeof x.getBoundingClientRect=="function")})}function gl(m){var m=m=m===void 0?{}:m,x=m.defaultModifiers,b=x===void 0?[]:x,x=m.defaultOptions,d=x===void 0?ng:x;return function(p,M,A){A===void 0&&(A=d);var L,H,B={placement:"bottom",orderedModifiers:[],options:Object.assign({},ng,d),modifiersData:{},elements:{reference:p,popper:M},attributes:{},styles:{}},Q=[],K=!1,ue={state:B,setOptions:function(xe){var Se,ie,xe=typeof xe=="function"?xe(B.options):xe,xe=(ge(),B.options=Object.assign({},d,B.options,xe),B.scrollParents={reference:Ki(p)?oa(p):p.contextElement?oa(p.contextElement):[],popper:oa(M)},xe=[].concat(b,B.options.modifiers),ie=xe.reduce(function(Ie,ze){var $e=Ie[ze.name];return Ie[ze.name]=$e?Object.assign({},$e,ze,{options:Object.assign({},$e.options,ze.options),data:Object.assign({},$e.data,ze.data)}):ze,Ie},{}),xe=Object.keys(ie).map(function(Ie){return ie[Ie]}),Se=kw(xe),$r.reduce(function(Ie,ze){return Ie.concat(Se.filter(function($e){return $e.phase===ze}))},[]));return B.orderedModifiers=xe.filter(function(Ie){return Ie.enabled}),B.orderedModifiers.forEach(function(at){var ze=at.name,$e=at.options,at=at.effect;typeof at=="function"&&(at=at({state:B,name:ze,instance:ue,options:$e===void 0?{}:$e}),Q.push(at||function(){}))}),ue.update()},forceUpdate:function(){if(!K){var Se=B.elements,me=Se.reference,Se=Se.popper;if(ig(me,Se)){B.rects={reference:Ow(me,dt(Se),B.options.strategy==="fixed"),popper:nt(Se)},B.reset=!1,B.placement=B.options.placement,B.orderedModifiers.forEach(function($e){return B.modifiersData[$e.name]=Object.assign({},$e.data)});for(var ie,xe,Ie,ze=0;ze<B.orderedModifiers.length;ze++)B.reset===!0?(B.reset=!1,ze=-1):(ie=(Ie=B.orderedModifiers[ze]).fn,xe=Ie.options,Ie=Ie.name,typeof ie=="function"&&(B=ie({state:B,options:xe===void 0?{}:xe,name:Ie,instance:ue})||B))}}},update:(L=function(){return new Promise(function(me){ue.forceUpdate(),me(B)})},function(){return H=H||new Promise(function(me){Promise.resolve().then(function(){H=void 0,me(L())})})}),destroy:function(){ge(),K=!0}};return ig(p,M)&&ue.setOptions(A).then(function(me){!K&&A.onFirstUpdate&&A.onFirstUpdate(me)}),ue;function ge(){Q.forEach(function(me){return me()}),Q=[]}}}var Dw=gl(),aa=gl({defaultModifiers:[jr,Mu,ui,ra,eg,Jm,tg,wt,Qm]}),Iw=gl({defaultModifiers:[jr,Mu,ui,ra]});function rg(g){return g==="true"||g!=="false"&&(g===Number(g).toString()?Number(g):g===""||g==="null"?null:g)}function Tu(g){return g.replace(/[A-Z]/g,function(m){return"-".concat(m.toLowerCase())})}var ln={setDataAttribute:function(g,m,b){g.setAttribute("data-bs-".concat(Tu(m)),b)},removeDataAttribute:function(g,m){g.removeAttribute("data-bs-".concat(Tu(m)))},getDataAttributes:function(g){if(!g)return{};var m={};return Object.keys(g.dataset).filter(function(b){return b.startsWith("bs")}).forEach(function(b){var x=(x=b.replace(/^bs/,"")).charAt(0).toLowerCase()+x.slice(1,x.length);m[x]=rg(g.dataset[b])}),m},getDataAttribute:function(g,m){return rg(g.getAttribute("data-bs-".concat(Tu(m))))},offset:function(g){return g=g.getBoundingClientRect(),{top:g.top+window.pageYOffset,left:g.left+window.pageXOffset}},position:function(g){return{top:g.offsetTop,left:g.offsetLeft}}};Oe(95);function sg(g){return function(m){if(Array.isArray(m))return Eu(m)}(g)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(g)||function(m,b){if(m){if(typeof m=="string")return Eu(m,b);var x=Object.prototype.toString.call(m).slice(8,-1);return(x=x==="Object"&&m.constructor?m.constructor.name:x)==="Map"||x==="Set"?Array.from(m):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Eu(m,b):void 0}}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Eu(g,m){(m==null||m>g.length)&&(m=g.length);for(var b=0,x=new Array(m);b<m;b++)x[b]=g[b];return x}var ot={find:function(g){var m,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return(m=[]).concat.apply(m,sg(Element.prototype.querySelectorAll.call(b,g)))},findOne:function(g){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(m,g)},children:function(g,m){var b;return(b=[]).concat.apply(b,sg(g.children)).filter(function(x){return x.matches(m)})},parents:function(g,m){for(var b=[],x=g.parentNode;x&&x.nodeType===Node.ELEMENT_NODE&&x.nodeType!==3;)x.matches(m)&&b.push(x),x=x.parentNode;return b},prev:function(g,m){for(var b=g.previousElementSibling;b;){if(b.matches(m))return[b];b=b.previousElementSibling}return[]},next:function(g,m){for(var b=g.nextElementSibling;b;){if(b.matches(m))return[b];b=b.nextElementSibling}return[]},focusableChildren:function(g){var m=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(function(b){return"".concat(b,':not([tabindex^="-"])')}).join(", ");return this.find(m,g).filter(function(b){return!h(b)&&u(b)})}};function vl(g){return(vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function og(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function la(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?og(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):og(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function ag(g){return function(m){if(Array.isArray(m))return Cu(m)}(g)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(g)||function(m,b){if(m){if(typeof m=="string")return Cu(m,b);var x=Object.prototype.toString.call(m).slice(8,-1);return(x=x==="Object"&&m.constructor?m.constructor.name:x)==="Map"||x==="Set"?Array.from(m):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Cu(m,b):void 0}}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cu(g,m){(m==null||m>g.length)&&(m=g.length);for(var b=0,x=new Array(m);b<m;b++)x[b]=g[b];return x}function lg(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function cg(){return(cg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(g,m,b){var x=function(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=ca(d))!==null;);return d}(g,m);if(x)return x=Object.getOwnPropertyDescriptor(x,m),x.get?x.get.call(arguments.length<3?g:b):x.value}).apply(this,arguments)}function ug(g,m){return(ug=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function Lw(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=ca(g),x=(b=m?(b=ca(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(vl(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ca(g){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}var Au="dropdown",Ht=".".concat("bs.dropdown"),fa=".data-api",_l="Escape",Pu="ArrowUp",yl="ArrowDown",Rw=new RegExp("".concat(Pu,"|").concat(yl,"|").concat(_l)),Nw="hide".concat(Ht),zw="hidden".concat(Ht),Fw="show".concat(Ht),Bw="shown".concat(Ht),xl="click".concat(Ht).concat(fa),tn="keydown".concat(Ht).concat(fa),Ht="keyup".concat(Ht).concat(fa),Vs="show",ua='[data-bs-toggle="dropdown"]',Ou=".dropdown-menu",Uw=v()?"top-end":"top-start",Hw=v()?"top-start":"top-end",Vw=v()?"bottom-end":"bottom-start",Ww=v()?"bottom-start":"bottom-end",Gw=v()?"left-start":"right-start",$w=v()?"right-start":"left-start",jw={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},qw={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},qr=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&ug(g,m);var b,x=Lw(d);function d(p,M){if(this instanceof d)return(p=x.call(this,p))._popper=null,p._config=p._getConfig(M),p._menu=p._getMenuElement(),p._inNavbar=p._detectNavbar(),p;throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"Default",get:function(){return jw}},{key:"DefaultType",get:function(){return qw}},{key:"NAME",get:function(){return Au}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M=d.getOrCreateInstance(this,p);if(typeof p=="string"){if(M[p]===void 0)throw new TypeError('No method named "'.concat(p,'"'));M[p]()}})}},{key:"clearMenus",value:function(p){if(!p||p.button!==2&&(p.type!=="keyup"||p.key==="Tab"))for(var M=ot.find(ua),A=0,L=M.length;A<L;A++){var H=d.getInstance(M[A]);if(H&&H._config.autoClose!==!1&&H._isShown()){var B={relatedTarget:H._element};if(p){var Q=p.composedPath(),K=Q.includes(H._menu);if(Q.includes(H._element)||H._config.autoClose==="inside"&&!K||H._config.autoClose==="outside"&&K||H._menu.contains(p.target)&&(p.type==="keyup"&&p.key==="Tab"||/input|select|option|textarea|form/i.test(p.target.tagName)))continue;p.type==="click"&&(B.clickEvent=p)}H._completeHide(B)}}}},{key:"getParentFromElement",value:function(p){return o(p)||p.parentNode}},{key:"dataApiKeydownHandler",value:function(p){if(/input|textarea/i.test(p.target.tagName)?!(p.key==="Space"||p.key!==_l&&(p.key!==yl&&p.key!==Pu||p.target.closest(Ou))):Rw.test(p.key)){var M=this.classList.contains(Vs);if((M||p.key!==_l)&&(p.preventDefault(),p.stopPropagation(),!h(this))){var A=this.matches(ua)?this:ot.prev(this,ua)[0],A=d.getOrCreateInstance(A);if(p.key!==_l)return p.key===Pu||p.key===yl?(M||A.show(),void A._selectMenuItem(p)):void(M&&p.key!=="Space"||d.clearMenus());A.hide()}}}}],(b=[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var p,M;h(this._element)||this._isShown(this._menu)||(p={relatedTarget:this._element},oe.trigger(this._element,Fw,p).defaultPrevented||(M=d.getParentFromElement(this._element),this._inNavbar?ln.setDataAttribute(this._menu,"popper","none"):this._createPopper(M),"ontouchstart"in document.documentElement&&!M.closest(".navbar-nav")&&(M=[]).concat.apply(M,ag(document.body.children)).forEach(function(A){return oe.on(A,"mouseover",y)}),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Vs),this._element.classList.add(Vs),oe.trigger(this._element,Bw,p)))}},{key:"hide",value:function(){var p;!h(this._element)&&this._isShown(this._menu)&&(p={relatedTarget:this._element},this._completeHide(p))}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),cg(ca(d.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(p){var M;oe.trigger(this._element,Nw,p).defaultPrevented||("ontouchstart"in document.documentElement&&(M=[]).concat.apply(M,ag(document.body.children)).forEach(function(A){return oe.off(A,"mouseover",y)}),this._popper&&this._popper.destroy(),this._menu.classList.remove(Vs),this._element.classList.remove(Vs),this._element.setAttribute("aria-expanded","false"),ln.removeDataAttribute(this._menu,"popper"),oe.trigger(this._element,zw,p))}},{key:"_getConfig",value:function(p){if(p=la(la(la({},this.constructor.Default),ln.getDataAttributes(this._element)),p),c(Au,p,this.constructor.DefaultType),vl(p.reference)!=="object"||P(p.reference)||typeof p.reference.getBoundingClientRect=="function")return p;throw new TypeError("".concat(Au.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'))}},{key:"_createPopper",value:function(A){if(n===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var M=this._element,A=(this._config.reference==="parent"?M=A:P(this._config.reference)?M=l(this._config.reference):vl(this._config.reference)==="object"&&(M=this._config.reference),this._getPopperConfig()),L=A.modifiers.find(function(H){return H.name==="applyStyles"&&H.enabled===!1});this._popper=aa(M,this._menu,A),L&&ln.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(Vs)}},{key:"_getMenuElement",value:function(){return ot.next(this._element,Ou)[0]}},{key:"_getPlacement",value:function(){var p=this._element.parentNode;if(p.classList.contains("dropend"))return Gw;if(p.classList.contains("dropstart"))return $w;var M=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return p.classList.contains("dropup")?M?Hw:Uw:M?Ww:Vw}},{key:"_detectNavbar",value:function(){return this._element.closest(".".concat("navbar"))!==null}},{key:"_getOffset",value:function(){var p=this,M=this._config.offset;return typeof M=="string"?M.split(",").map(function(A){return Number.parseInt(A,10)}):typeof M=="function"?function(A){return M(A,p._element)}:M}},{key:"_getPopperConfig",value:function(){var p={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(p.modifiers=[{name:"applyStyles",enabled:!1}]),la(la({},p),typeof this._config.popperConfig=="function"?this._config.popperConfig(p):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(A){var M=A.key,A=A.target,L=ot.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(u);L.length&&E(L,A,M===yl,!L.includes(A)).focus()}}])&&lg(g.prototype,b),m&&lg(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),fa=(oe.on(document,tn,ua,qr.dataApiKeydownHandler),oe.on(document,tn,Ou,qr.dataApiKeydownHandler),oe.on(document,xl,qr.clearMenus),oe.on(document,Ht,qr.clearMenus),oe.on(document,xl,ua,function(g){g.preventDefault(),qr.getOrCreateInstance(this).toggle()}),S(qr),qr);function fg(g){return(fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function hg(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function ku(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?hg(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):hg(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function dg(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function pg(g,m){return(pg=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function Yw(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=Du(g),x=(b=m?(b=Du(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(fg(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Du(g){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}var mg="collapse",gg="bs.collapse",tn=".".concat(gg),vg={toggle:!0,parent:null},Xw={toggle:"boolean",parent:"(null|element)"},Jw="show".concat(tn),Zw="shown".concat(tn),Kw="hide".concat(tn),Qw="hidden".concat(tn),Ht="click".concat(tn).concat(".data-api"),Iu="show",Ws="collapse",bl="collapsing",_g="collapsed",yg=":scope .".concat(Ws," .").concat(Ws),Lu='[data-bs-toggle="collapse"]',Ru=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&pg(g,m);var b,x=Yw(d);function d(p,M){var A;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");(A=x.call(this,p))._isTransitioning=!1,A._config=A._getConfig(M),A._triggerArray=[];for(var L=ot.find(Lu),H=0,B=L.length;H<B;H++){var Q=L[H],K=s(Q),ue=ot.find(K).filter(function(ge){return ge===A._element});K!==null&&ue.length&&(A._selector=K,A._triggerArray.push(Q))}return A._initializeChildren(),A._config.parent||A._addAriaAndCollapsedClass(A._triggerArray,A._isShown()),A._config.toggle&&A.toggle(),A}return g=d,m=[{key:"Default",get:function(){return vg}},{key:"NAME",get:function(){return mg}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M={},M=(typeof p=="string"&&/show|hide/.test(p)&&(M.toggle=!1),d.getOrCreateInstance(this,M));if(typeof p=="string"){if(M[p]===void 0)throw new TypeError('No method named "'.concat(p,'"'));M[p]()}})}}],(b=[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var p=this;if(!this._isTransitioning&&!this._isShown()){var M,A,L=[],H=(this._config.parent&&(M=ot.find(yg,this._config.parent),L=ot.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(function(K){return!M.includes(K)})),ot.findOne(this._selector));if(L.length){var B,Q=L.find(function(K){return H!==K});if((B=Q?d.getInstance(Q):null)&&B._isTransitioning)return}oe.trigger(this._element,Jw).defaultPrevented||(L.forEach(function(K){H!==K&&d.getOrCreateInstance(K,{toggle:!1}).hide(),B||ve(K,gg,null)}),A=this._getDimension(),this._element.classList.remove(Ws),this._element.classList.add(bl),this._element.style[A]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0,Q=A[0].toUpperCase()+A.slice(1),L="scroll".concat(Q),this._queueCallback(function(){p._isTransitioning=!1,p._element.classList.remove(bl),p._element.classList.add(Ws,Iu),p._element.style[A]="",oe.trigger(p._element,Zw)},this._element,!0),this._element.style[A]="".concat(this._element[L],"px"))}}},{key:"hide",value:function(){var p=this;if(!this._isTransitioning&&this._isShown()){var M=oe.trigger(this._element,Kw);if(!M.defaultPrevented){for(var M=this._getDimension(),A=(this._element.style[M]="".concat(this._element.getBoundingClientRect()[M],"px"),w(this._element),this._element.classList.add(bl),this._element.classList.remove(Ws,Iu),this._triggerArray.length),L=0;L<A;L++){var H=this._triggerArray[L],B=o(H);B&&!this._isShown(B)&&this._addAriaAndCollapsedClass([H],!1)}this._isTransitioning=!0,this._element.style[M]="",this._queueCallback(function(){p._isTransitioning=!1,p._element.classList.remove(bl),p._element.classList.add(Ws),oe.trigger(p._element,Qw)},this._element,!0)}}}},{key:"_isShown",value:function(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(Iu)}},{key:"_getConfig",value:function(p){return(p=ku(ku(ku({},vg),ln.getDataAttributes(this._element)),p)).toggle=Boolean(p.toggle),p.parent=l(p.parent),c(mg,p,Xw),p}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){var p,M=this;this._config.parent&&(p=ot.find(yg,this._config.parent),ot.find(Lu,this._config.parent).filter(function(A){return!p.includes(A)}).forEach(function(A){var L=o(A);L&&M._addAriaAndCollapsedClass([A],M._isShown(L))}))}},{key:"_addAriaAndCollapsedClass",value:function(p,M){p.length&&p.forEach(function(A){M?A.classList.remove(_g):A.classList.add(_g),A.setAttribute("aria-expanded",M)})}}])&&dg(g.prototype,b),m&&dg(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),xl=(oe.on(document,Ht,Lu,function(g){(g.target.tagName==="A"||g.delegateTarget&&g.delegateTarget.tagName==="A")&&g.preventDefault(),g=s(this),ot.find(g).forEach(function(m){Ru.getOrCreateInstance(m,{toggle:!1}).toggle()})}),S(Ru),Ru);function bg(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}var xg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",wg=".sticky-top",Nu=function(){function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._element=document.body}var m,b,x;return m=g,(b=[{key:"getWidth",value:function(){var d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}},{key:"hide",value:function(){var d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",function(p){return p+d}),this._setElementAttributes(xg,"paddingRight",function(p){return p+d}),this._setElementAttributes(wg,"marginRight",function(p){return p-d})}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(d,p,M){var A=this,L=this.getWidth();this._applyManipulationCallback(d,function(H){var B;H!==A._element&&window.innerWidth>H.clientWidth+L||(A._saveInitialAttribute(H,p),B=window.getComputedStyle(H)[p],H.style[p]="".concat(M(Number.parseFloat(B)),"px"))})}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(xg,"paddingRight"),this._resetElementAttributes(wg,"marginRight")}},{key:"_saveInitialAttribute",value:function(d,p){var M=d.style[p];M&&ln.setDataAttribute(d,p,M)}},{key:"_resetElementAttributes",value:function(d,p){this._applyManipulationCallback(d,function(M){var A=ln.getDataAttribute(M,p);A===void 0?M.style.removeProperty(p):(ln.removeDataAttribute(M,p),M.style[p]=A)})}},{key:"_applyManipulationCallback",value:function(d,p){P(d)?p(d):ot.find(d,this._element).forEach(p)}},{key:"isOverflowing",value:function(){return 0<this.getWidth()}}])&&bg(m.prototype,b),x&&bg(m,x),Object.defineProperty(m,"prototype",{writable:!1}),g}();function Sg(g){return(Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function Mg(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function Tg(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?Mg(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):Mg(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function Eg(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}var e1={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},t1={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Cg="backdrop",Ag="mousedown.bs.".concat(Cg),Pg=function(){function g(d){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._config=this._getConfig(d),this._isAppended=!1,this._element=null}var m,b,x;return m=g,(b=[{key:"show",value:function(d){this._config.isVisible?(this._append(),this._config.isAnimated&&w(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(function(){C(d)})):C(d)}},{key:"hide",value:function(d){var p=this;this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(function(){p.dispose(),C(d)})):C(d)}},{key:"_getElement",value:function(){var d;return this._element||((d=document.createElement("div")).className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d),this._element}},{key:"_getConfig",value:function(d){return(d=Tg(Tg({},e1),Sg(d)==="object"?d:{})).rootElement=l(d.rootElement),c(Cg,d,t1),d}},{key:"_append",value:function(){var d=this;this._isAppended||(this._config.rootElement.append(this._getElement()),oe.on(this._getElement(),Ag,function(){C(d._config.clickCallback)}),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(oe.off(this._element,Ag),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(d){T(d,this._getElement(),this._config.isAnimated)}}])&&Eg(m.prototype,b),x&&Eg(m,x),Object.defineProperty(m,"prototype",{writable:!1}),g}();function Og(g){return(Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function kg(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function Dg(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?kg(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):kg(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function Ig(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function wl(g){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"hide",b="click.dismiss".concat(g.EVENT_KEY),x=g.NAME;oe.on(document,b,'[data-bs-dismiss="'.concat(x,'"]'),function(d){["A","AREA"].includes(this.tagName)&&d.preventDefault(),h(this)||(d=o(this)||this.closest(".".concat(x)),g.getOrCreateInstance(d)[m]())})}var n1={trapElement:null,autofocus:!0},i1={trapElement:"element",autofocus:"boolean"},Sl=".".concat("bs.focustrap"),r1="focusin".concat(Sl),s1="keydown.tab".concat(Sl),Lg="backward",Rg=function(){function g(d){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}var m,b,x;return m=g,(b=[{key:"activate",value:function(){var d=this,M=this._config,p=M.trapElement,M=M.autofocus;this._isActive||(M&&p.focus(),oe.off(document,Sl),oe.on(document,r1,function(A){return d._handleFocusin(A)}),oe.on(document,s1,function(A){return d._handleKeydown(A)}),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,oe.off(document,Sl))}},{key:"_handleFocusin",value:function(p){var p=p.target,M=this._config.trapElement;p===document||p===M||M.contains(p)||((p=ot.focusableChildren(M)).length===0?M:this._lastTabNavDirection===Lg?p[p.length-1]:p[0]).focus()}},{key:"_handleKeydown",value:function(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?Lg:"forward")}},{key:"_getConfig",value:function(d){return d=Dg(Dg({},n1),Og(d)==="object"?d:{}),c("focustrap",d,i1),d}}])&&Ig(m.prototype,b),x&&Ig(m,x),Object.defineProperty(m,"prototype",{writable:!1}),g}();function zu(g){return(zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function Ng(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function Fu(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?Ng(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):Ng(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function zg(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function Fg(){return(Fg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(g,m,b){var x=function(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=ha(d))!==null;);return d}(g,m);if(x)return x=Object.getOwnPropertyDescriptor(x,m),x.get?x.get.call(arguments.length<3?g:b):x.value}).apply(this,arguments)}function Bg(g,m){return(Bg=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function o1(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=ha(g),x=(b=m?(b=ha(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(zu(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ha(g){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}var Ug="offcanvas",tn=".".concat("bs.offcanvas"),Ht=".data-api",vt="load".concat(tn).concat(Ht),Hg={backdrop:!0,keyboard:!0,scroll:!1},a1={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Vg=".offcanvas.show",l1="show".concat(tn),c1="shown".concat(tn),u1="hide".concat(tn),Wg="hidden".concat(tn),Ht="click".concat(tn).concat(Ht),f1="keydown.dismiss".concat(tn),Gs=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&Bg(g,m);var b,x=o1(d);function d(p,M){if(this instanceof d)return(p=x.call(this,p))._config=p._getConfig(M),p._isShown=!1,p._backdrop=p._initializeBackDrop(),p._focustrap=p._initializeFocusTrap(),p._addEventListeners(),p;throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"NAME",get:function(){return Ug}},{key:"Default",get:function(){return Hg}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M=d.getOrCreateInstance(this,p);if(typeof p=="string"){if(M[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError('No method named "'.concat(p,'"'));M[p](this)}})}}],(b=[{key:"toggle",value:function(p){return this._isShown?this.hide():this.show(p)}},{key:"show",value:function(p){var M=this;this._isShown||oe.trigger(this._element,l1,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new Nu().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(function(){M._config.scroll||M._focustrap.activate(),oe.trigger(M._element,c1,{relatedTarget:p})},this._element,!0))}},{key:"hide",value:function(){var p=this;this._isShown&&!oe.trigger(this._element,u1).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(function(){p._element.setAttribute("aria-hidden",!0),p._element.removeAttribute("aria-modal"),p._element.removeAttribute("role"),p._element.style.visibility="hidden",p._config.scroll||new Nu().reset(),oe.trigger(p._element,Wg)},this._element,!0))}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),Fg(ha(d.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(p){return p=Fu(Fu(Fu({},Hg),ln.getDataAttributes(this._element)),zu(p)==="object"?p:{}),c(Ug,p,a1),p}},{key:"_initializeBackDrop",value:function(){var p=this;return new Pg({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return p.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new Rg({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var p=this;oe.on(this._element,f1,function(M){p._config.keyboard&&M.key==="Escape"&&p.hide()})}}])&&zg(g.prototype,b),m&&zg(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),tn=(oe.on(document,Ht,'[data-bs-toggle="offcanvas"]',function(g){var m=this,b=o(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),h(this)||(oe.one(b,Wg,function(){u(m)&&m.focus()}),(g=ot.findOne(Vg))&&g!==b&&Gs.getInstance(g).hide(),Gs.getOrCreateInstance(b).toggle(this))}),oe.on(window,vt,function(){return ot.find(Vg).forEach(function(g){return Gs.getOrCreateInstance(g).show()})}),wl(Gs),S(Gs),Gs);function Gg(g){return(Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function $g(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function jg(g,m){return(jg=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function h1(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=Bu(g),x=(b=m?(b=Bu(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(Gg(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Bu(g){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}var Ht=".".concat("bs.alert"),d1="close".concat(Ht),p1="closed".concat(Ht),vt=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&jg(g,m);var b,x=h1(d);function d(){var p=this,M=d;if(p instanceof M)return x.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M=d.getOrCreateInstance(this);if(typeof p=="string"){if(M[p]===void 0||p.startsWith("_")||p==="constructor")throw new TypeError('No method named "'.concat(p,'"'));M[p](this)}})}}],(b=[{key:"close",value:function(){var p,M=this;oe.trigger(this._element,d1).defaultPrevented||(this._element.classList.remove("show"),p=this._element.classList.contains("fade"),this._queueCallback(function(){return M._destroyElement()},this._element,p))}},{key:"_destroyElement",value:function(){this._element.remove(),oe.trigger(this._element,p1),this.dispose()}}])&&$g(g.prototype,b),m&&$g(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),Ht=(wl(vt,"close"),S(vt),vt);function Ml(g){return(Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function qg(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function Yr(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?qg(Object(b),!0).forEach(function(x){Hu(g,x,b[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):qg(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function Yg(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function Xg(g,m){return(Xg=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function m1(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=Uu(g),x=(b=m?(b=Uu(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(Ml(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Uu(g){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}function Hu(g,m,b){m in g?Object.defineProperty(g,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[m]=b}var Jg="carousel",vt=".".concat("bs.carousel"),El=".data-api",Zg={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},g1={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Xr="next",Jr="prev",Zr="left",da="right",v1=(Hu($s={},"ArrowLeft",da),Hu($s,"ArrowRight",Zr),$s),_1="slide".concat(vt),Kg="slid".concat(vt),y1="keydown".concat(vt),b1="mouseenter".concat(vt),x1="mouseleave".concat(vt),w1="touchstart".concat(vt),S1="touchmove".concat(vt),M1="touchend".concat(vt),T1="pointerdown".concat(vt),E1="pointerup".concat(vt),C1="dragstart".concat(vt),$s="load".concat(vt).concat(El),vt="click".concat(vt).concat(El),Kr="active",Tl=".active.carousel-item",pa=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&Xg(g,m);var b,x=m1(d);function d(p,M){if(this instanceof d)return(p=x.call(this,p))._items=null,p._interval=null,p._activeElement=null,p._isPaused=!1,p._isSliding=!1,p.touchTimeout=null,p.touchStartX=0,p.touchDeltaX=0,p._config=p._getConfig(M),p._indicatorsElement=ot.findOne(".carousel-indicators",p._element),p._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,p._pointerEvent=Boolean(window.PointerEvent),p._addEventListeners(),p;throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"Default",get:function(){return Zg}},{key:"NAME",get:function(){return Jg}},{key:"carouselInterface",value:function(A,M){var A=d.getOrCreateInstance(A,M),L=A._config,H=(Ml(M)==="object"&&(L=Yr(Yr({},L),M)),typeof M=="string"?M:L.slide);if(typeof M=="number")A.to(M);else if(typeof H=="string"){if(A[H]===void 0)throw new TypeError('No method named "'.concat(H,'"'));A[H]()}else L.interval&&L.ride&&(A.pause(),A.cycle())}},{key:"jQueryInterface",value:function(p){return this.each(function(){d.carouselInterface(this,p)})}},{key:"dataApiClickHandler",value:function(p){var M,A,L=o(this);L&&L.classList.contains("carousel")&&(M=Yr(Yr({},ln.getDataAttributes(L)),ln.getDataAttributes(this)),(A=this.getAttribute("data-bs-slide-to"))&&(M.interval=!1),d.carouselInterface(L,M),A&&d.getInstance(L).to(A),p.preventDefault())}}],(b=[{key:"next",value:function(){this._slide(Xr)}},{key:"nextWhenVisible",value:function(){!document.hidden&&u(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(Jr)}},{key:"pause",value:function(p){p||(this._isPaused=!0),ot.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(a(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(p){p||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(p){var M=this,A=(this._activeElement=ot.findOne(Tl,this._element),this._getItemIndex(this._activeElement));if(!(p>this._items.length-1||p<0))if(this._isSliding)oe.one(this._element,Kg,function(){return M.to(p)});else{if(A===p)return this.pause(),void this.cycle();this._slide(A<p?Xr:Jr,this._items[p])}}},{key:"_getConfig",value:function(p){return p=Yr(Yr(Yr({},Zg),ln.getDataAttributes(this._element)),Ml(p)==="object"?p:{}),c(Jg,p,g1),p}},{key:"_handleSwipe",value:function(){var p=Math.abs(this.touchDeltaX);p<=40||(p=p/this.touchDeltaX,this.touchDeltaX=0,p&&this._slide(0<p?da:Zr))}},{key:"_addEventListeners",value:function(){var p=this;this._config.keyboard&&oe.on(this._element,y1,function(M){return p._keydown(M)}),this._config.pause==="hover"&&(oe.on(this._element,b1,function(M){return p.pause(M)}),oe.on(this._element,x1,function(M){return p.cycle(M)})),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){function p(H){L(H)?A.touchStartX=H.clientX:A._pointerEvent||(A.touchStartX=H.touches[0].clientX)}function M(H){L(H)&&(A.touchDeltaX=H.clientX-A.touchStartX),A._handleSwipe(),A._config.pause==="hover"&&(A.pause(),A.touchTimeout&&clearTimeout(A.touchTimeout),A.touchTimeout=setTimeout(function(B){return A.cycle(B)},500+A._config.interval))}var A=this,L=function(H){return A._pointerEvent&&(H.pointerType==="pen"||H.pointerType==="touch")};ot.find(".carousel-item img",this._element).forEach(function(H){oe.on(H,C1,function(B){return B.preventDefault()})}),this._pointerEvent?(oe.on(this._element,T1,p),oe.on(this._element,E1,M),this._element.classList.add("pointer-event")):(oe.on(this._element,w1,p),oe.on(this._element,S1,function(H){H=H,A.touchDeltaX=H.touches&&1<H.touches.length?0:H.touches[0].clientX-A.touchStartX}),oe.on(this._element,M1,M))}},{key:"_keydown",value:function(p){var M;/input|textarea/i.test(p.target.tagName)||(M=v1[p.key])&&(p.preventDefault(),this._slide(M))}},{key:"_getItemIndex",value:function(p){return this._items=p&&p.parentNode?ot.find(".carousel-item",p.parentNode):[],this._items.indexOf(p)}},{key:"_getItemByOrder",value:function(p,M){return E(this._items,M,p===Xr,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(p,M){var A=this._getItemIndex(p),L=this._getItemIndex(ot.findOne(Tl,this._element));return oe.trigger(this._element,_1,{relatedTarget:p,direction:M,from:L,to:A})}},{key:"_setActiveIndicatorElement",value:function(p){if(this._indicatorsElement){for(var M=ot.findOne(".active",this._indicatorsElement),A=(M.classList.remove(Kr),M.removeAttribute("aria-current"),ot.find("[data-bs-target]",this._indicatorsElement)),L=0;L<A.length;L++)if(Number.parseInt(A[L].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(p)){A[L].classList.add(Kr),A[L].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var p=this._activeElement||ot.findOne(Tl,this._element);p&&((p=Number.parseInt(p.getAttribute("data-bs-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval)}},{key:"_slide",value:function(H,ge){var A,L=this,H=this._directionToOrder(H),B=ot.findOne(Tl,this._element),Q=this._getItemIndex(B),K=ge||this._getItemByOrder(H,B),ue=this._getItemIndex(K),ge=Boolean(this._interval),me=H===Xr,Se=me?"carousel-item-start":"carousel-item-end",ie=me?"carousel-item-next":"carousel-item-prev",xe=this._orderToDirection(H);K&&K.classList.contains(Kr)?this._isSliding=!1:this._isSliding||this._triggerSlideEvent(K,xe).defaultPrevented||B&&K&&(this._isSliding=!0,ge&&this.pause(),this._setActiveIndicatorElement(K),this._activeElement=K,A=function(){oe.trigger(L._element,Kg,{relatedTarget:K,direction:xe,from:Q,to:ue})},this._element.classList.contains("slide")?(K.classList.add(ie),w(K),B.classList.add(Se),K.classList.add(Se),this._queueCallback(function(){K.classList.remove(Se,ie),K.classList.add(Kr),B.classList.remove(Kr,ie,Se),L._isSliding=!1,setTimeout(A,0)},B,!0)):(B.classList.remove(Kr),K.classList.add(Kr),this._isSliding=!1,A()),ge&&this.cycle())}},{key:"_directionToOrder",value:function(p){return[da,Zr].includes(p)?v()?p===Zr?Jr:Xr:p===Zr?Xr:Jr:p}},{key:"_orderToDirection",value:function(p){return[Xr,Jr].includes(p)?v()?p===Jr?Zr:da:p===Jr?da:Zr:p}}])&&Yg(g.prototype,b),m&&Yg(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),El=(oe.on(document,vt,"[data-bs-slide], [data-bs-slide-to]",pa.dataApiClickHandler),oe.on(window,$s,function(){for(var g=ot.find('[data-bs-ride="carousel"]'),m=0,b=g.length;m<b;m++)pa.carouselInterface(g[m],pa.getInstance(g[m]))}),S(pa),pa);function Vu(g){return(Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function Qg(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function Wu(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?Qg(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):Qg(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function ev(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function tv(){return(tv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(g,m,b){var x=function(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=ma(d))!==null;);return d}(g,m);if(x)return x=Object.getOwnPropertyDescriptor(x,m),x.get?x.get.call(arguments.length<3?g:b):x.value}).apply(this,arguments)}function nv(g,m){return(nv=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function A1(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=ma(g),x=(b=m?(b=ma(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(Vu(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ma(g){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}var fi=".".concat("bs.modal"),iv={backdrop:!0,keyboard:!0,focus:!0},P1={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},O1="hide".concat(fi),k1="hidePrevented".concat(fi),rv="hidden".concat(fi),sv="show".concat(fi),D1="shown".concat(fi),ov="resize".concat(fi),av="click.dismiss".concat(fi),lv="keydown.dismiss".concat(fi),I1="mouseup.dismiss".concat(fi),cv="mousedown.dismiss".concat(fi),vt="click".concat(fi).concat(".data-api"),uv="modal-open",Gu="modal-static",ga=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&nv(g,m);var b,x=A1(d);function d(p,M){if(this instanceof d)return(p=x.call(this,p))._config=p._getConfig(M),p._dialog=ot.findOne(".modal-dialog",p._element),p._backdrop=p._initializeBackDrop(),p._focustrap=p._initializeFocusTrap(),p._isShown=!1,p._ignoreBackdropClick=!1,p._isTransitioning=!1,p._scrollBar=new Nu,p;throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"Default",get:function(){return iv}},{key:"NAME",get:function(){return"modal"}},{key:"jQueryInterface",value:function(p,M){return this.each(function(){var A=d.getOrCreateInstance(this,p);if(typeof p=="string"){if(A[p]===void 0)throw new TypeError('No method named "'.concat(p,'"'));A[p](M)}})}}],(b=[{key:"toggle",value:function(p){return this._isShown?this.hide():this.show(p)}},{key:"show",value:function(p){var M=this;this._isShown||this._isTransitioning||oe.trigger(this._element,sv,{relatedTarget:p}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(uv),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),oe.on(this._dialog,cv,function(){oe.one(M._element,I1,function(A){A.target===M._element&&(M._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return M._showElement(p)}))}},{key:"hide",value:function(){var p,M=this;!this._isShown||this._isTransitioning||oe.trigger(this._element,O1).defaultPrevented||(this._isShown=!1,(p=this._isAnimated())&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),oe.off(this._element,av),oe.off(this._dialog,cv),this._queueCallback(function(){return M._hideModal()},this._element,p))}},{key:"dispose",value:function(){[window,this._dialog].forEach(function(p){return oe.off(p,fi)}),this._backdrop.dispose(),this._focustrap.deactivate(),tv(ma(d.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new Pg({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new Rg({trapElement:this._element})}},{key:"_getConfig",value:function(p){return p=Wu(Wu(Wu({},iv),ln.getDataAttributes(this._element)),Vu(p)==="object"?p:{}),c("modal",p,P1),p}},{key:"_showElement",value:function(p){var M=this,A=this._isAnimated(),L=ot.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,L&&(L.scrollTop=0),A&&w(this._element),this._element.classList.add("show"),this._queueCallback(function(){M._config.focus&&M._focustrap.activate(),M._isTransitioning=!1,oe.trigger(M._element,D1,{relatedTarget:p})},this._dialog,A)}},{key:"_setEscapeEvent",value:function(){var p=this;this._isShown?oe.on(this._element,lv,function(M){p._config.keyboard&&M.key==="Escape"?(M.preventDefault(),p.hide()):p._config.keyboard||M.key!=="Escape"||p._triggerBackdropTransition()}):oe.off(this._element,lv)}},{key:"_setResizeEvent",value:function(){var p=this;this._isShown?oe.on(window,ov,function(){return p._adjustDialog()}):oe.off(window,ov)}},{key:"_hideModal",value:function(){var p=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(function(){document.body.classList.remove(uv),p._resetAdjustments(),p._scrollBar.reset(),oe.trigger(p._element,rv)})}},{key:"_showBackdrop",value:function(p){var M=this;oe.on(this._element,av,function(A){M._ignoreBackdropClick?M._ignoreBackdropClick=!1:A.target===A.currentTarget&&(M._config.backdrop===!0?M.hide():M._config.backdrop==="static"&&M._triggerBackdropTransition())}),this._backdrop.show(p)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var p,M,A,L,H,B=this;oe.trigger(this._element,k1).defaultPrevented||(p=this._element,M=p.classList,A=p.scrollHeight,L=p.style,!(H=A>document.documentElement.clientHeight)&&L.overflowY==="hidden"||M.contains(Gu)||(H||(L.overflowY="hidden"),M.add(Gu),this._queueCallback(function(){M.remove(Gu),H||B._queueCallback(function(){L.overflowY=""},B._dialog)},this._dialog),this._element.focus()))}},{key:"_adjustDialog",value:function(){var p=this._element.scrollHeight>document.documentElement.clientHeight,M=this._scrollBar.getWidth(),A=0<M;(!A&&p&&!v()||A&&!p&&v())&&(this._element.style.paddingLeft="".concat(M,"px")),(A&&!p&&!v()||!A&&p&&v())&&(this._element.style.paddingRight="".concat(M,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}])&&ev(g.prototype,b),m&&ev(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),$s=(oe.on(document,vt,'[data-bs-toggle="modal"]',function(x){var m=this,b=o(this),x=(["A","AREA"].includes(this.tagName)&&x.preventDefault(),oe.one(b,sv,function(d){d.defaultPrevented||oe.one(b,rv,function(){u(m)&&m.focus()})}),ot.findOne(".modal.show"));x&&ga.getInstance(x).hide(),ga.getOrCreateInstance(b).toggle(this)}),wl(ga),S(ga),ga);function fv(g){return function(m){if(Array.isArray(m))return $u(m)}(g)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(g)||function(m,b){if(m){if(typeof m=="string")return $u(m,b);var x=Object.prototype.toString.call(m).slice(8,-1);return(x=x==="Object"&&m.constructor?m.constructor.name:x)==="Map"||x==="Set"?Array.from(m):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?$u(m,b):void 0}}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $u(g,m){(m==null||m>g.length)&&(m=g.length);for(var b=0,x=new Array(m);b<m;b++)x[b]=g[b];return x}var L1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),R1=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,N1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,vt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function hv(g,m,b){if(!g.length)return g;if(b&&typeof b=="function")return b(g);for(var b=new window.DOMParser().parseFromString(g,"text/html"),x=(g=[]).concat.apply(g,fv(b.body.querySelectorAll("*"))),d=function(Q,H){var B=x[Q],Q=B.nodeName.toLowerCase();if(!Object.keys(m).includes(Q))return B.remove(),"continue";var K=(K=[]).concat.apply(K,fv(B.attributes)),ue=[].concat(m["*"]||[],m[Q]||[]);K.forEach(function(ge){!function(me,Se){var ie=me.nodeName.toLowerCase();if(Se.includes(ie))return!L1.has(ie)||Boolean(R1.test(me.nodeValue)||N1.test(me.nodeValue));for(var xe=Se.filter(function($e){return $e instanceof RegExp}),Ie=0,ze=xe.length;Ie<ze;Ie++)if(xe[Ie].test(ie))return!0;return!1}(ge,ue)&&B.removeAttribute(ge.nodeName)})},p=0,M=x.length;p<M;p++)d(p);return b.body.innerHTML}function Cl(g){return(Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function dv(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function Qr(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?dv(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):dv(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function ju(g){return function(m){if(Array.isArray(m))return qu(m)}(g)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(g)||function(m,b){if(m){if(typeof m=="string")return qu(m,b);var x=Object.prototype.toString.call(m).slice(8,-1);return(x=x==="Object"&&m.constructor?m.constructor.name:x)==="Map"||x==="Set"?Array.from(m):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?qu(m,b):void 0}}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qu(g,m){(m==null||m>g.length)&&(m=g.length);for(var b=0,x=new Array(m);b<m;b++)x[b]=g[b];return x}function pv(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function mv(){return(mv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(g,m,b){var x=function(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=va(d))!==null;);return d}(g,m);if(x)return x=Object.getOwnPropertyDescriptor(x,m),x.get?x.get.call(arguments.length<3?g:b):x.value}).apply(this,arguments)}function gv(g,m){return(gv=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function z1(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=va(g),x=(b=m?(b=va(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(Cl(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function va(g){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}var vv="tooltip",Lt=".".concat("bs.tooltip"),F1=new Set(["sanitize","allowList","sanitizeFn"]),B1={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},U1={AUTO:"auto",TOP:"top",RIGHT:v()?"left":"right",BOTTOM:"bottom",LEFT:v()?"right":"left"},H1={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:vt,popperConfig:null},V1={HIDE:"hide".concat(Lt),HIDDEN:"hidden".concat(Lt),SHOW:"show".concat(Lt),SHOWN:"shown".concat(Lt),INSERTED:"inserted".concat(Lt),CLICK:"click".concat(Lt),FOCUSIN:"focusin".concat(Lt),FOCUSOUT:"focusout".concat(Lt),MOUSEENTER:"mouseenter".concat(Lt),MOUSELEAVE:"mouseleave".concat(Lt)},Al="fade",_a="show",ya="show",_v=".tooltip-inner",yv=".".concat("modal"),bv="hide.bs.modal",ba="hover",Yu="focus",vt=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&gv(g,m);var b,x=z1(d);function d(p,M){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");if(n===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(p=x.call(this,p))._isEnabled=!0,p._timeout=0,p._hoverState="",p._activeTrigger={},p._popper=null,p._config=p._getConfig(M),p.tip=null,p._setListeners(),p}return g=d,m=[{key:"Default",get:function(){return H1}},{key:"NAME",get:function(){return vv}},{key:"Event",get:function(){return V1}},{key:"DefaultType",get:function(){return B1}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M=d.getOrCreateInstance(this,p);if(typeof p=="string"){if(M[p]===void 0)throw new TypeError('No method named "'.concat(p,'"'));M[p]()}})}}],(b=[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(p){this._isEnabled&&(p?((p=this._initializeOnDelegatedTarget(p))._activeTrigger.click=!p._activeTrigger.click,p._isWithActiveTrigger()?p._enter(null,p):p._leave(null,p)):this.getTipElement().classList.contains(_a)?this._leave(null,this):this._enter(null,this))}},{key:"dispose",value:function(){clearTimeout(this._timeout),oe.off(this._element.closest(yv),bv,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),mv(va(d.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var p,M,A,L=this;if(this._element.style.display==="none")throw new Error("Please use show on visible elements");this.isWithContent()&&this._isEnabled&&(M=oe.trigger(this._element,this.constructor.Event.SHOW),A=((A=f(this._element))===null?this._element.ownerDocument.documentElement:A).contains(this._element),!M.defaultPrevented&&A&&(this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(_v).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null),M=this.getTipElement(),A=function(H){for(;H+=Math.floor(1e6*Math.random()),document.getElementById(H););return H}(this.constructor.NAME),M.setAttribute("id",A),this._element.setAttribute("aria-describedby",A),this._config.animation&&M.classList.add(Al),A=typeof this._config.placement=="function"?this._config.placement.call(this,M,this._element):this._config.placement,A=this._getAttachment(A),this._addAttachmentClass(A),p=this._config.container,ve(M,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(p.append(M),oe.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=aa(this._element,M,this._getPopperConfig(A)),M.classList.add(_a),(p=this._resolvePossibleFunction(this._config.customClass))&&(A=M.classList).add.apply(A,ju(p.split(" "))),"ontouchstart"in document.documentElement&&(M=[]).concat.apply(M,ju(document.body.children)).forEach(function(H){oe.on(H,"mouseover",y)}),A=this.tip.classList.contains(Al),this._queueCallback(function(){var H=L._hoverState;L._hoverState=null,oe.trigger(L._element,L.constructor.Event.SHOWN),H==="out"&&L._leave(null,L)},this.tip,A)))}},{key:"hide",value:function(){var p,M,A=this;this._popper&&(p=this.getTipElement(),oe.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented||(p.classList.remove(_a),"ontouchstart"in document.documentElement&&(M=[]).concat.apply(M,ju(document.body.children)).forEach(function(L){return oe.off(L,"mouseover",y)}),this._activeTrigger.click=!1,this._activeTrigger[Yu]=!1,this._activeTrigger[ba]=!1,M=this.tip.classList.contains(Al),this._queueCallback(function(){A._isWithActiveTrigger()||(A._hoverState!==ya&&p.remove(),A._cleanTipClass(),A._element.removeAttribute("aria-describedby"),oe.trigger(A._element,A.constructor.Event.HIDDEN),A._disposePopper())},this.tip,M),this._hoverState=""))}},{key:"update",value:function(){this._popper!==null&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var p=document.createElement("div"),p=(p.innerHTML=this._config.template,p.children[0]);return this.setContent(p),p.classList.remove(Al,_a),this.tip=p,this.tip}},{key:"setContent",value:function(p){this._sanitizeAndSetContent(p,this.getTitle(),_v)}},{key:"_sanitizeAndSetContent",value:function(p,M,A){A=ot.findOne(A,p),!M&&A?A.remove():this.setElementContent(A,M)}},{key:"setElementContent",value:function(p,M){if(p!==null)return P(M)?(M=l(M),void(this._config.html?M.parentNode!==p&&(p.innerHTML="",p.append(M)):p.textContent=M.textContent)):void(this._config.html?(this._config.sanitize&&(M=hv(M,this._config.allowList,this._config.sanitizeFn)),p.innerHTML=M):p.textContent=M)}},{key:"getTitle",value:function(){var p=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(p)}},{key:"updateAttachment",value:function(p){return p==="right"?"end":p==="left"?"start":p}},{key:"_initializeOnDelegatedTarget",value:function(p,M){return M||this.constructor.getOrCreateInstance(p.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var p=this,M=this._config.offset;return typeof M=="string"?M.split(",").map(function(A){return Number.parseInt(A,10)}):typeof M=="function"?function(A){return M(A,p._element)}:M}},{key:"_resolvePossibleFunction",value:function(p){return typeof p=="function"?p.call(this._element):p}},{key:"_getPopperConfig",value:function(A){var M=this,A={placement:A,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(L){return M._handlePopperPlacementChange(L)}}],onFirstUpdate:function(L){L.options.placement!==L.placement&&M._handlePopperPlacementChange(L)}};return Qr(Qr({},A),typeof this._config.popperConfig=="function"?this._config.popperConfig(A):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(p){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(p)))}},{key:"_getAttachment",value:function(p){return U1[p.toUpperCase()]}},{key:"_setListeners",value:function(){var p=this;this._config.trigger.split(" ").forEach(function(M){var A;M==="click"?oe.on(p._element,p.constructor.Event.CLICK,p._config.selector,function(L){return p.toggle(L)}):M!=="manual"&&(A=M===ba?p.constructor.Event.MOUSEENTER:p.constructor.Event.FOCUSIN,M=M===ba?p.constructor.Event.MOUSELEAVE:p.constructor.Event.FOCUSOUT,oe.on(p._element,A,p._config.selector,function(L){return p._enter(L)}),oe.on(p._element,M,p._config.selector,function(L){return p._leave(L)}))}),this._hideModalHandler=function(){p._element&&p.hide()},oe.on(this._element.closest(yv),bv,this._hideModalHandler),this._config.selector?this._config=Qr(Qr({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var p=this._element.getAttribute("title"),M=Cl(this._element.getAttribute("data-bs-original-title"));!p&&M==="string"||(this._element.setAttribute("data-bs-original-title",p||""),!p||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",p),this._element.setAttribute("title",""))}},{key:"_enter",value:function(p,M){M=this._initializeOnDelegatedTarget(p,M),p&&(M._activeTrigger[p.type==="focusin"?Yu:ba]=!0),M.getTipElement().classList.contains(_a)||M._hoverState===ya?M._hoverState=ya:(clearTimeout(M._timeout),M._hoverState=ya,M._config.delay&&M._config.delay.show?M._timeout=setTimeout(function(){M._hoverState===ya&&M.show()},M._config.delay.show):M.show())}},{key:"_leave",value:function(p,M){M=this._initializeOnDelegatedTarget(p,M),p&&(M._activeTrigger[p.type==="focusout"?Yu:ba]=M._element.contains(p.relatedTarget)),M._isWithActiveTrigger()||(clearTimeout(M._timeout),M._hoverState="out",M._config.delay&&M._config.delay.hide?M._timeout=setTimeout(function(){M._hoverState==="out"&&M.hide()},M._config.delay.hide):M.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var p in this._activeTrigger)if(this._activeTrigger[p])return!0;return!1}},{key:"_getConfig",value:function(p){var M=ln.getDataAttributes(this._element);return Object.keys(M).forEach(function(A){F1.has(A)&&delete M[A]}),(p=Qr(Qr(Qr({},this.constructor.Default),M),Cl(p)==="object"&&p?p:{})).container=p.container===!1?document.body:l(p.container),typeof p.delay=="number"&&(p.delay={show:p.delay,hide:p.delay}),typeof p.title=="number"&&(p.title=p.title.toString()),typeof p.content=="number"&&(p.content=p.content.toString()),c(vv,p,this.constructor.DefaultType),p.sanitize&&(p.template=hv(p.template,p.allowList,p.sanitizeFn)),p}},{key:"_getDelegateConfig",value:function(){var p,M={};for(p in this._config)this.constructor.Default[p]!==this._config[p]&&(M[p]=this._config[p]);return M}},{key:"_cleanTipClass",value:function(){var p=this.getTipElement(),M=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),M=p.getAttribute("class").match(M);M!==null&&0<M.length&&M.map(function(A){return A.trim()}).forEach(function(A){return p.classList.remove(A)})}},{key:"_getBasicClassPrefix",value:function(){return"bs-tooltip"}},{key:"_handlePopperPlacementChange",value:function(p){p=p.state,p&&(this.tip=p.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(p.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}])&&pv(g.prototype,b),m&&pv(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),Pl=(S(vt),vt);function xv(g){return(xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function wv(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function Sv(g,m){return(Sv=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function W1(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=Xu(g),x=(b=m?(b=Xu(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(xv(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Xu(g){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}function Mv(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function Ol(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?Mv(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):Mv(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}var Lt=".".concat("bs.popover"),G1=Ol(Ol({},Pl.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),$1=Ol(Ol({},Pl.DefaultType),{},{content:"(string|element|function)"}),j1={HIDE:"hide".concat(Lt),HIDDEN:"hidden".concat(Lt),SHOW:"show".concat(Lt),SHOWN:"shown".concat(Lt),INSERTED:"inserted".concat(Lt),CLICK:"click".concat(Lt),FOCUSIN:"focusin".concat(Lt),FOCUSOUT:"focusout".concat(Lt),MOUSEENTER:"mouseenter".concat(Lt),MOUSELEAVE:"mouseleave".concat(Lt)},vt=function(){var g=d,m=Pl;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&Sv(g,m);var b,x=W1(d);function d(){var p=this,M=d;if(p instanceof M)return x.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"Default",get:function(){return G1}},{key:"NAME",get:function(){return"popover"}},{key:"Event",get:function(){return j1}},{key:"DefaultType",get:function(){return $1}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M=d.getOrCreateInstance(this,p);if(typeof p=="string"){if(M[p]===void 0)throw new TypeError('No method named "'.concat(p,'"'));M[p]()}})}}],(b=[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(p){this._sanitizeAndSetContent(p,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(p,this._getContent(),".popover-body")}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return"bs-popover"}}])&&wv(g.prototype,b),m&&wv(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),Lt=(S(vt),vt);Oe(180);function Ju(g){return(Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function Tv(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function Zu(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?Tv(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):Tv(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function Ev(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function Cv(){return(Cv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(g,m,b){var x=function(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=xa(d))!==null;);return d}(g,m);if(x)return x=Object.getOwnPropertyDescriptor(x,m),x.get?x.get.call(arguments.length<3?g:b):x.value}).apply(this,arguments)}function Av(g,m){return(Av=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function q1(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=xa(g),x=(b=m?(b=xa(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(Ju(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function xa(g){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}var Pv="scrollspy",kl=".".concat("bs.scrollspy"),Ov={offset:10,method:"auto",target:""},Y1={offset:"number",method:"string",target:"(string|element)"},X1="activate".concat(kl),J1="scroll".concat(kl),vt="load".concat(kl).concat(".data-api"),kv="dropdown-item",js="active",Ku=".nav-link",Dv=".list-group-item",Qu="".concat(Ku,", ").concat(Dv,", .").concat(kv),Iv="position",ef=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&Av(g,m);var b,x=q1(d);function d(p,M){var A;if(this instanceof d)return(A=x.call(this,p))._scrollElement=A._element.tagName==="BODY"?window:A._element,A._config=A._getConfig(M),A._offsets=[],A._targets=[],A._activeTarget=null,A._scrollHeight=0,oe.on(A._scrollElement,J1,function(){return A._process()}),A.refresh(),A._process(),A;throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"Default",get:function(){return Ov}},{key:"NAME",get:function(){return Pv}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M=d.getOrCreateInstance(this,p);if(typeof p=="string"){if(M[p]===void 0)throw new TypeError('No method named "'.concat(p,'"'));M[p]()}})}}],(b=[{key:"refresh",value:function(){var p=this,M=this._scrollElement===this._scrollElement.window?"offset":Iv,A=this._config.method==="auto"?M:this._config.method,L=A===Iv?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),ot.find(Qu,this._config.target).map(function(B){var B=s(B),Q=B?ot.findOne(B):null;if(Q){var K=Q.getBoundingClientRect();if(K.width||K.height)return[ln[A](Q).top+L,B]}return null}).filter(function(H){return H}).sort(function(H,B){return H[0]-B[0]}).forEach(function(H){p._offsets.push(H[0]),p._targets.push(H[1])})}},{key:"dispose",value:function(){oe.off(this._scrollElement,kl),Cv(xa(d.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(p){return(p=Zu(Zu(Zu({},Ov),ln.getDataAttributes(this._element)),Ju(p)==="object"&&p?p:{})).target=l(p.target)||document.documentElement,c(Pv,p,Y1),p}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var p=this._getScrollTop()+this._config.offset,M=this._getScrollHeight(),A=this._config.offset+M-this._getOffsetHeight();if(this._scrollHeight!==M&&this.refresh(),A<=p)return M=this._targets[this._targets.length-1],void(this._activeTarget!==M&&this._activate(M));if(this._activeTarget&&p<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var L=this._offsets.length;L--;)this._activeTarget!==this._targets[L]&&p>=this._offsets[L]&&(this._offsets[L+1]===void 0||p<this._offsets[L+1])&&this._activate(this._targets[L])}},{key:"_activate",value:function(p){this._activeTarget=p,this._clear();var M=Qu.split(",").map(function(A){return"".concat(A,'[data-bs-target="').concat(p,'"],').concat(A,'[href="').concat(p,'"]')}),M=ot.findOne(M.join(","),this._config.target);M.classList.add(js),M.classList.contains(kv)?ot.findOne(".dropdown-toggle",M.closest(".dropdown")).classList.add(js):ot.parents(M,".nav, .list-group").forEach(function(A){ot.prev(A,"".concat(Ku,", ").concat(Dv)).forEach(function(L){return L.classList.add(js)}),ot.prev(A,".nav-item").forEach(function(L){ot.children(L,Ku).forEach(function(H){return H.classList.add(js)})})}),oe.trigger(this._scrollElement,X1,{relatedTarget:p})}},{key:"_clear",value:function(){ot.find(Qu,this._config.target).filter(function(p){return p.classList.contains(js)}).forEach(function(p){return p.classList.remove(js)})}}])&&Ev(g.prototype,b),m&&Ev(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),vt=(oe.on(window,vt,function(){ot.find('[data-bs-spy="scroll"]').forEach(function(g){return new ef(g)})}),S(ef),ef);function Lv(g){return(Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function Rv(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function Nv(g,m){return(Nv=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function Z1(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=tf(g),x=(b=m?(b=tf(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(Lv(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function tf(g){return(tf=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}var tr=".".concat("bs.tab"),K1="hide".concat(tr),Q1="hidden".concat(tr),eS="show".concat(tr),tS="shown".concat(tr),tr="click".concat(tr).concat(".data-api"),wa="active",zv=".active",Fv=":scope > li > .active",nf=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&Nv(g,m);var b,x=Z1(d);function d(){var p=this,M=d;if(p instanceof M)return x.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M=d.getOrCreateInstance(this);if(typeof p=="string"){if(M[p]===void 0)throw new TypeError('No method named "'.concat(p,'"'));M[p]()}})}}],(b=[{key:"show",value:function(){var p,M,A,L,H=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(wa)||(p=o(this._element),(M=this._element.closest(".nav, .list-group"))&&(L=M.nodeName==="UL"||M.nodeName==="OL"?Fv:zv,A=(A=ot.find(L,M))[A.length-1]),L=A?oe.trigger(A,K1,{relatedTarget:this._element}):null,oe.trigger(this._element,eS,{relatedTarget:A}).defaultPrevented||L!==null&&L.defaultPrevented||(this._activate(this._element,M),L=function(){oe.trigger(A,Q1,{relatedTarget:H._element}),oe.trigger(H._element,tS,{relatedTarget:A})},p?this._activate(p,p.parentNode,L):L()))}},{key:"_activate",value:function(p,Q,A){function L(){return H._transitionComplete(p,B,A)}var H=this,B=(!Q||Q.nodeName!=="UL"&&Q.nodeName!=="OL"?ot.children(Q,zv):ot.find(Fv,Q))[0],Q=A&&B&&B.classList.contains("fade");B&&Q?(B.classList.remove("show"),this._queueCallback(L,p,!0)):L()}},{key:"_transitionComplete",value:function(p,M,A){M&&(M.classList.remove(wa),(L=ot.findOne(":scope > .dropdown-menu .active",M.parentNode))&&L.classList.remove(wa),M.getAttribute("role")==="tab"&&M.setAttribute("aria-selected",!1)),p.classList.add(wa),p.getAttribute("role")==="tab"&&p.setAttribute("aria-selected",!0),w(p),p.classList.contains("fade")&&p.classList.add("show");var L=p.parentNode;(L=L&&L.nodeName==="LI"?L.parentNode:L)&&L.classList.contains("dropdown-menu")&&((M=p.closest(".dropdown"))&&ot.find(".dropdown-toggle",M).forEach(function(H){return H.classList.add(wa)}),p.setAttribute("aria-expanded",!0)),A&&A()}}])&&Rv(g.prototype,b),m&&Rv(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),tr=(oe.on(document,tr,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),h(this)||nf.getOrCreateInstance(this).show()}),S(nf),nf);function rf(g){return(rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function Bv(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function sf(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?Bv(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):Bv(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function Uv(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function Hv(){return(Hv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(g,m,b){var x=function(d,p){for(;!Object.prototype.hasOwnProperty.call(d,p)&&(d=Sa(d))!==null;);return d}(g,m);if(x)return x=Object.getOwnPropertyDescriptor(x,m),x.get?x.get.call(arguments.length<3?g:b):x.value}).apply(this,arguments)}function Vv(g,m){return(Vv=Object.setPrototypeOf||function(b,x){return b.__proto__=x,b})(g,m)}function nS(g){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,x=Sa(g),x=(b=m?(b=Sa(this).constructor,Reflect.construct(x,arguments,b)):x.apply(this,arguments),this);if(b&&(rf(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Sa(g){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}function Wv(g){for(;g+=Math.floor(Math.random()*dS),document.getElementById(g););return g}function Dl(g,m,b){Object.keys(b).forEach(function(x){var d,p=b[x],M=m[x],M=M&&((d=M)[0]||d).nodeType?"element":(d=M)==null?"".concat(d):{}.toString.call(d).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(p).test(M))throw new Error("".concat(g.toUpperCase(),": ")+'Option "'.concat(x,'" provided type "').concat(M,'" ')+'but expected type "'.concat(p,'".'))})}function Gv(){var g=window.jQuery;return g&&!document.body.hasAttribute("data-mdb-no-jquery")?g:null}function iS(g){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):g()}function qs(g){return document.createElement(g)}var Il,of,hi=".".concat("bs.toast"),rS="mouseover".concat(hi),sS="mouseout".concat(hi),oS="focusin".concat(hi),aS="focusout".concat(hi),lS="hide".concat(hi),cS="hidden".concat(hi),uS="show".concat(hi),fS="shown".concat(hi),Ma="show",Ll="showing",hS={animation:"boolean",autohide:"boolean",delay:"number"},$v={animation:!0,autohide:!0,delay:5e3},hi=function(){var g=d,m=Je;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&Vv(g,m);var b,x=nS(d);function d(p,M){if(this instanceof d)return(p=x.call(this,p))._config=p._getConfig(M),p._timeout=null,p._hasMouseInteraction=!1,p._hasKeyboardInteraction=!1,p._setListeners(),p;throw new TypeError("Cannot call a class as a function")}return g=d,m=[{key:"DefaultType",get:function(){return hS}},{key:"Default",get:function(){return $v}},{key:"NAME",get:function(){return"toast"}},{key:"jQueryInterface",value:function(p){return this.each(function(){var M=d.getOrCreateInstance(this,p);if(typeof p=="string"){if(M[p]===void 0)throw new TypeError('No method named "'.concat(p,'"'));M[p](this)}})}}],(b=[{key:"show",value:function(){var p=this;oe.trigger(this._element,uS).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),w(this._element),this._element.classList.add(Ma),this._element.classList.add(Ll),this._queueCallback(function(){p._element.classList.remove(Ll),oe.trigger(p._element,fS),p._maybeScheduleHide()},this._element,this._config.animation))}},{key:"hide",value:function(){var p=this;this._element.classList.contains(Ma)&&!oe.trigger(this._element,lS).defaultPrevented&&(this._element.classList.add(Ll),this._queueCallback(function(){p._element.classList.add("hide"),p._element.classList.remove(Ll),p._element.classList.remove(Ma),oe.trigger(p._element,cS)},this._element,this._config.animation))}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(Ma)&&this._element.classList.remove(Ma),Hv(Sa(d.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(p){return p=sf(sf(sf({},$v),ln.getDataAttributes(this._element)),rf(p)==="object"&&p?p:{}),c("toast",p,this.constructor.DefaultType),p}},{key:"_maybeScheduleHide",value:function(){var p=this;!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(function(){p.hide()},this._config.delay))}},{key:"_onInteraction",value:function(p,M){switch(p.type){case"mouseover":case"mouseout":this._hasMouseInteraction=M;break;case"focusin":case"focusout":this._hasKeyboardInteraction=M}M?this._clearTimeout():(p=p.relatedTarget,this._element===p||this._element.contains(p)||this._maybeScheduleHide())}},{key:"_setListeners",value:function(){var p=this;oe.on(this._element,rS,function(M){return p._onInteraction(M,!0)}),oe.on(this._element,sS,function(M){return p._onInteraction(M,!1)}),oe.on(this._element,oS,function(M){return p._onInteraction(M,!0)}),oe.on(this._element,aS,function(M){return p._onInteraction(M,!1)})}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}])&&Uv(g.prototype,b),m&&Uv(g,m),Object.defineProperty(g,"prototype",{writable:!1}),d}(),dS=(wl(hi),S(hi),1e6),af=(document.documentElement.dir,Il={},of=1,{set:function(g,m,b){g[m]===void 0&&(g[m]={key:m,id:of},of++),Il[g[m].id]=b},get:function(g,m){return!g||g[m]===void 0?null:(g=g[m],g.key===m?Il[g.id]:null)},delete:function(g,m){var b;g[m]!==void 0&&(b=g[m]).key===m&&(delete Il[b.id],delete g[m])}}),ei={setData:function(g,m,b){af.set(g,m,b)},getData:function(g,m){return af.get(g,m)},removeData:function(g,m){af.delete(g,m)}};function jv(g,m){return function(b){if(Array.isArray(b))return b}(g)||function(b,x){var d=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(d!=null){var p,M,A=[],L=!0,H=!1;try{for(d=d.call(b);!(L=(p=d.next()).done)&&(A.push(p.value),!x||A.length!==x);L=!0);}catch(B){H=!0,M=B}finally{try{L||d.return==null||d.return()}finally{if(H)throw M}}return A}}(g,m)||function(b,x){if(b){if(typeof b=="string")return qv(b,x);var d=Object.prototype.toString.call(b).slice(8,-1);return(d=d==="Object"&&b.constructor?b.constructor.name:d)==="Map"||d==="Set"?Array.from(b):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?qv(b,x):void 0}}(g,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qv(g,m){(m==null||m>g.length)&&(m=g.length);for(var b=0,x=new Array(m);b<m;b++)x[b]=g[b];return x}var lf=Gv(),pS=/[^.]*(?=\..*)\.|.*/,Yv=/\..*/,mS=/::\d+$/,cf={},Xv=1,gS={mouseenter:"mouseover",mouseleave:"mouseout"},Jv=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function Zv(g,m){return m&&"".concat(m,"::").concat(Xv++)||g.uidEvent||Xv++}function Kv(g){var m=Zv(g);return g.uidEvent=m,cf[m]=cf[m]||{},cf[m]}function Qv(g,m,b){for(var x=2<arguments.length&&b!==void 0?b:null,d=Object.keys(g),p=0,M=d.length;p<M;p++){var A=g[d[p]];if(A.originalHandler===m&&A.delegationSelector===x)return A}return null}function e0(g,p,d){var x=typeof p=="string",d=x?d:p,p=g.replace(Yv,""),M=gS[p];return[x,d,p=-1<Jv.indexOf(p=M||p)?p:g]}function t0(g,m,b,x,d){var p,M,A,L,H,B,Q,K,ue,ge;typeof m=="string"&&g&&(b||(b=x,x=null),p=(A=jv(e0(m,b,x),3))[0],M=A[1],A=A[2],(H=Qv(L=(L=Kv(g))[A]||(L[A]={}),M,p?b:null))?H.oneOff=H.oneOff&&d:(H=Zv(M,m.replace(pS,"")),(m=p?(K=g,ue=b,ge=x,function me(Se){for(var ie=K.querySelectorAll(ue),xe=Se.target;xe&&xe!==this;xe=xe.parentNode)for(var Ie=ie.length;Ie--;)if(ie[Ie]===xe)return Se.delegateTarget=xe,me.oneOff&&Ta.off(K,Se.type,ge),ge.apply(xe,[Se]);return null}):(B=g,Q=b,function me(Se){return Se.delegateTarget=B,me.oneOff&&Ta.off(B,Se.type,Q),Q.apply(B,[Se])})).delegationSelector=p?b:null,m.originalHandler=M,m.oneOff=d,L[m.uidEvent=H]=m,g.addEventListener(A,m,p)))}function uf(g,m,b,x,d){x=Qv(m[b],x,d),x&&(g.removeEventListener(b,x,Boolean(d)),delete m[b][x.uidEvent])}var Ta={on:function(g,m,b,x){t0(g,m,b,x,!1)},one:function(g,m,b,x){t0(g,m,b,x,!0)},off:function(g,m,b,x){if(typeof m=="string"&&g){var x=jv(e0(m,b,x),3),d=x[0],p=x[1],M=x[2],A=M!==m,L=Kv(g),x=m.charAt(0)===".";if(p!==void 0)return L&&L[M]?void uf(g,L,M,p,d?b:null):void 0;x&&Object.keys(L).forEach(function(Q){var K,ue,ge,me,Se;K=g,ue=L,ge=Q,me=m.slice(1),Se=ue[ge]||{},Object.keys(Se).forEach(function(ie){-1<ie.indexOf(me)&&(ie=Se[ie],uf(K,ue,ge,ie.originalHandler,ie.delegationSelector))})});var H=L[M]||{};Object.keys(H).forEach(function(Q){var K=Q.replace(mS,"");(!A||-1<m.indexOf(K))&&(K=H[Q],uf(g,L,M,K.originalHandler,K.delegationSelector))})}},trigger:function(g,m,b){if(typeof m!="string"||!g)return null;var x,d=m.replace(Yv,""),p=m!==d,M=-1<Jv.indexOf(d),A=!0,L=!0,H=!1,B=null;return p&&lf&&(x=lf.Event(m,b),lf(g).trigger(x),A=!x.isPropagationStopped(),L=!x.isImmediatePropagationStopped(),H=x.isDefaultPrevented()),M?(B=document.createEvent("HTMLEvents")).initEvent(d,A,!0):B=new CustomEvent(m,{bubbles:A,cancelable:!0}),b!==void 0&&Object.keys(b).forEach(function(Q){Object.defineProperty(B,Q,{get:function(){return b[Q]}})}),H&&B.preventDefault(),L&&g.dispatchEvent(B),B.defaultPrevented&&x!==void 0&&x.preventDefault(),B}},Ea=function(g,m,b,x){for(var d=m.split(" "),p=0;p<d.length;p++)Ta.on(g,d[p],b,x)},vS=function(g,m,b,x){for(var d=m.split(" "),p=0;p<d.length;p++)Ta.off(g,d[p],b,x)},Ye=Ta;Oe(185);function n0(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function _S(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?n0(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):n0(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function i0(g){return g==="true"||g!=="false"&&(g===Number(g).toString()?Number(g):g===""||g==="null"?null:g)}function ff(g){return g.replace(/[A-Z]/g,function(m){return"-".concat(m.toLowerCase())})}var ee={setDataAttribute:function(g,m,b){g.setAttribute("data-mdb-".concat(ff(m)),b)},removeDataAttribute:function(g,m){g.removeAttribute("data-mdb-".concat(ff(m)))},getDataAttributes:function(g){if(!g)return{};var m=_S({},g.dataset);return Object.keys(m).filter(function(b){return b.startsWith("mdb")}).forEach(function(b){var x=(x=b.replace(/^mdb/,"")).charAt(0).toLowerCase()+x.slice(1,x.length);m[x]=i0(m[b])}),m},getDataAttribute:function(g,m){return i0(g.getAttribute("data-mdb-".concat(ff(m))))},offset:function(g){return g=g.getBoundingClientRect(),{top:g.top+document.body.scrollTop,left:g.left+document.body.scrollLeft}},position:function(g){return{top:g.offsetTop,left:g.offsetLeft}},style:function(g,m){Object.assign(g.style,m)},toggleClass:function(g,m){g&&(g.classList.contains(m)?g.classList.remove(m):g.classList.add(m))},addClass:function(g,m){g.classList.contains(m)||g.classList.add(m)},addStyle:function(g,m){Object.keys(m).forEach(function(b){g.style[b]=m[b]})},removeClass:function(g,m){g.classList.contains(m)&&g.classList.remove(m)},hasClass:function(g,m){return g.classList.contains(m)}};function r0(g){return function(m){if(Array.isArray(m))return hf(m)}(g)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(g)||function(m,b){if(m){if(typeof m=="string")return hf(m,b);var x=Object.prototype.toString.call(m).slice(8,-1);return(x=x==="Object"&&m.constructor?m.constructor.name:x)==="Map"||x==="Set"?Array.from(m):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?hf(m,b):void 0}}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hf(g,m){(m==null||m>g.length)&&(m=g.length);for(var b=0,x=new Array(m);b<m;b++)x[b]=g[b];return x}var we={closest:function(g,m){return g.closest(m)},matches:function(g,m){return g.matches(m)},find:function(g){var m,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return(m=[]).concat.apply(m,r0(Element.prototype.querySelectorAll.call(b,g)))},findOne:function(g){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(m,g)},children:function(g,m){var b;return(b=[]).concat.apply(b,r0(g.children)).filter(function(x){return x.matches(m)})},parents:function(g,m){for(var b=[],x=g.parentNode;x&&x.nodeType===Node.ELEMENT_NODE&&x.nodeType!==3;)this.matches(x,m)&&b.push(x),x=x.parentNode;return b},prev:function(g,m){for(var b=g.previousElementSibling;b;){if(b.matches(m))return[b];b=b.previousElementSibling}return[]},next:function(g,m){for(var b=g.nextElementSibling;b;){if(this.matches(b,m))return[b];b=b.nextElementSibling}return[]}};function s0(g){return(s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function o0(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function df(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?o0(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):o0(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function a0(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}var es="ripple",Rl="mdb.ripple",ts="ripple-surface",l0="ripple-wave",c0=["[data-mdb-ripple]"],u0="ripple-surface-unbound",Nl=[0,0,0],yS=["primary","secondary","success","danger","warning","info","light","dark"],bS={rippleCentered:!1,rippleColor:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},xS={rippleCentered:"boolean",rippleColor:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},Ys=function(){function g(d,p){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._element=d,this._options=this._getConfig(p),this._element&&(ei.setData(d,Rl,this),ee.addClass(this._element,ts)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this.init()}var m,b,x;return m=g,x=[{key:"NAME",get:function(){return es}},{key:"autoInitial",value:function(d){return function(p){d._autoInit(p)}}},{key:"jQueryInterface",value:function(d){return this.each(function(){return ei.getData(this,Rl)?null:new g(this,d)})}},{key:"getInstance",value:function(d){return ei.getData(d,Rl)}},{key:"getOrCreateInstance",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,s0(p)==="object"?p:null)}}],(b=[{key:"init",value:function(){this._addClickEvent(this._element)}},{key:"dispose",value:function(){ei.removeData(this._element,Rl),Ye.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}},{key:"_autoInit",value:function(d){var p=this;c0.forEach(function(M){we.closest(d.target,M)&&(p._element=we.closest(d.target,M))}),this._element.style.minWidth||(ee.style(this._element,{"min-width":"".concat(this._element.offsetWidth,"px")}),this._isMinWidthSet=!0),ee.addClass(this._element,ts),this._options=this._getConfig(),this._createRipple(d)}},{key:"_addClickEvent",value:function(d){Ye.on(d,"mousedown",this._clickHandler)}},{key:"_createRipple",value:function(p){ee.hasClass(this._element,ts)||ee.addClass(this._element,ts);var K=p.layerX,p=p.layerY,M=this._element.offsetHeight,Q=this._element.offsetWidth,A=this._durationToMsNumber(this._options.rippleDuration),L={offsetX:this._options.rippleCentered?M/2:K,offsetY:this._options.rippleCentered?Q/2:p,height:M,width:Q},L=this._getDiameter(L),H=this._options.rippleRadius||L/2,B={delay:.5*A,duration:A-.5*A},Q={left:this._options.rippleCentered?"".concat(Q/2-H,"px"):"".concat(K-H,"px"),top:this._options.rippleCentered?"".concat(M/2-H,"px"):"".concat(p-H,"px"),height:"".concat(2*this._options.rippleRadius||L,"px"),width:"".concat(2*this._options.rippleRadius||L,"px"),transitionDelay:"0s, ".concat(B.delay,"ms"),transitionDuration:"".concat(A,"ms, ").concat(B.duration,"ms")},K=qs("div");this._createHTMLRipple({wrapper:this._element,ripple:K,styles:Q}),this._removeHTMLRipple({ripple:K,duration:A})}},{key:"_createHTMLRipple",value:function(d){var p=d.wrapper,M=d.ripple,A=d.styles;Object.keys(A).forEach(function(L){return M.style[L]=A[L]}),M.classList.add(l0),this._options.rippleColor!==""&&(this._removeOldColorClasses(p),this._addColor(M,p)),this._toggleUnbound(p),this._appendRipple(M,p)}},{key:"_removeHTMLRipple",value:function(A){var p=this,M=A.ripple,A=A.duration;this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),this._rippleTimer=setTimeout(function(){M&&(M.remove(),p._element&&(we.find(".".concat(l0),p._element).forEach(function(L){L.remove()}),p._isMinWidthSet&&(ee.style(p._element,{"min-width":""}),p._isMinWidthSet=!1),ee.removeClass(p._element,ts)))},A)}},{key:"_durationToMsNumber",value:function(d){return Number(d.replace("ms","").replace("s","000"))}},{key:"_getConfig",value:function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=ee.getDataAttributes(this._element),p=df(df(df({},bS),d),p);return Dl(es,p,xS),p}},{key:"_getDiameter",value:function(me){function p(Se,ie){return Math.sqrt(Math.pow(Se,2)+Math.pow(ie,2))}var M=me.offsetX,A=me.offsetY,L=me.height,me=me.width,ue=A<=L/2,ge=M<=me/2,H=A===L/2&&M===me/2,B=ue==!0&&ge==!1,Q=ue==!0&&ge==!0,K=ue==!1&&ge==!0,ue=ue==!1&&ge==!1,ge={topLeft:p(M,A),topRight:p(me-M,A),bottomLeft:p(M,L-A),bottomRight:p(me-M,L-A)},me=0;return H||ue?me=ge.topLeft:K?me=ge.topRight:Q?me=ge.bottomRight:B&&(me=ge.bottomLeft),2*me}},{key:"_appendRipple",value:function(d,p){p.appendChild(d),setTimeout(function(){ee.addClass(d,"active")},50)}},{key:"_toggleUnbound",value:function(d){this._options.rippleUnbound===!0?ee.addClass(d,u0):d.classList.remove(u0)}},{key:"_addColor",value:function(d,p){var M=this;yS.find(function(A){return A===M._options.rippleColor.toLowerCase()})?ee.addClass(p,"".concat(ts,"-").concat(this._options.rippleColor.toLowerCase())):(p=this._colorToRGB(this._options.rippleColor).join(","),p="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(p)),d.style.backgroundImage="radial-gradient(circle, ".concat(p,")"))}},{key:"_removeOldColorClasses",value:function(d){var p=new RegExp("".concat(ts,"-[a-z]+"),"gi");(d.classList.value.match(p)||[]).forEach(function(M){d.classList.remove(M)})}},{key:"_colorToRGB",value:function(d){return d.toLowerCase()==="transparent"?Nl:d[0]==="#"?((p=d).length<7&&(p="#".concat(p[1]).concat(p[1]).concat(p[2]).concat(p[2]).concat(p[3]).concat(p[3])),[parseInt(p.substr(1,2),16),parseInt(p.substr(3,2),16),parseInt(p.substr(5,2),16)]):(d.indexOf("rgb")===-1&&(p=d,M=document.body.appendChild(document.createElement("fictum")),A="rgb(1, 2, 3)",M.style.color=A,d=M.style.color!==A?Nl:(M.style.color=p,M.style.color===A||M.style.color===""?Nl:(p=getComputedStyle(M).color,document.body.removeChild(M),p))),d.indexOf("rgb")===0?((A=(A=d).match(/[.\d]+/g).map(function(L){return+Number(L)})).length=3,A):Nl);var p,M,A}}])&&a0(m.prototype,b),x&&a0(m,x),Object.defineProperty(m,"prototype",{writable:!1}),g}(),wS=(c0.forEach(function(g){Ye.one(document,"mousedown",g,Ys.autoInitial(new Ys))}),iS(function(){var g,m=Gv();m&&(g=m.fn[es],m.fn[es]=Ys.jQueryInterface,m.fn[es].Constructor=Ys,m.fn[es].noConflict=function(){return m.fn[es]=g,Ys.jQueryInterface})}),Ys);Oe(187);function f0(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}var h0=function(){function g(d){var p=this,M=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},A=2<arguments.length?arguments[2]:void 0,L=this,H=g;if(!(L instanceof H))throw new TypeError("Cannot call a class as a function");this._element=d,this._toggler=A,this._event=M.event||"blur",this._condition=M.condition||function(){return!0},this._selector=M.selector||'button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])',this._onlyVisible=M.onlyVisible||!1,this._focusableElements=[],this._firstElement=null,this._lastElement=null,this.handler=function(B){p._condition(B)&&B.target===p._lastElement&&(B.preventDefault(),p._firstElement.focus())}}var m,b,x;return m=g,(b=[{key:"trap",value:function(){this._setElements(),this._init(),this._setFocusTrap()}},{key:"disable",value:function(){var d=this;this._focusableElements.forEach(function(p){p.removeEventListener(d._event,d.handler)}),this._toggler&&this._toggler.focus()}},{key:"update",value:function(){this._setElements(),this._setFocusTrap()}},{key:"_init",value:function(){var d=this;window.addEventListener("keydown",function p(M){d._firstElement&&M.key==="Tab"&&!d._focusableElements.includes(M.target)&&(M.preventDefault(),d._firstElement.focus(),window.removeEventListener("keydown",p))})}},{key:"_filterVisible",value:function(d){return d.filter(function(p){if(!(M=p)||!(M.style&&M.parentNode&&M.parentNode.style)||(A=getComputedStyle(M),M=getComputedStyle(M.parentNode),A.display==="none"||M.display==="none"||A.visibility==="hidden"))return!1;for(var M,A,L=we.parents(p,"*"),H=0;H<L.length;H++){var B=window.getComputedStyle(L[H]);if(B&&(B.display==="none"||B.visibility==="hidden"))return!1}return!0})}},{key:"_setElements",value:function(){this._focusableElements=we.find(this._selector,this._element),this._onlyVisible&&(this._focusableElements=this._filterVisible(this._focusableElements)),this._firstElement=this._focusableElements[0],this._lastElement=this._focusableElements[this._focusableElements.length-1]}},{key:"_setFocusTrap",value:function(){var d=this;this._focusableElements.forEach(function(p,M){M===d._focusableElements.length-1?p.addEventListener(d._event,d.handler):p.removeEventListener(d._event,d.handler)})}}])&&f0(m.prototype,b),x&&f0(m,x),Object.defineProperty(m,"prototype",{writable:!1}),g}();Oe(188);function ti(g){return g.getDate()}function zl(g){return g.getDay()}function In(g){return g.getMonth()}function jt(g){return g.getFullYear()}function pf(g){return Vi((g=g).getFullYear(),g.getMonth()+1,0).getDate()}function Ca(){return new Date}function Ln(g,m){return Rn(g,12*m)}function Rn(g,m){return m=Vi(g.getFullYear(),g.getMonth()+m,g.getDate()),ti(g)!==ti(m)&&m.setDate(0),m}function Xs(g,m){return Vi(g.getFullYear(),g.getMonth(),g.getDate()+m)}function Vi(g,m,b){return m=new Date(g,m,b),0<=g&&g<100&&m.setFullYear(m.getFullYear()-1900),m}function d0(g){return g=g.split("-"),Vi(g[0],g[1],g[2])}function ns(g,m){return g.setHours(0,0,0,0),m.setHours(0,0,0,0),g.getTime()===m.getTime()}function Fl(g,m){return((jt(g)-function(b,x,d){var p=0;return d?(d=jt(d),p=d-b+1):x&&(p=jt(x)),p}())%m+m)%m}function mf(g,m,b,x,d){return b==="days"?jt(g)===jt(m)&&In(g)===In(m):b==="months"?jt(g)===jt(m):b==="years"&&jt(m)>=d&&jt(m)<=x}function SS(g,m,b,x,d,p,Se,A,L){var H,B,Q=In(g),K=jt(g),ue=ti(g),ge=zl(g),me=qs("div"),Se=`
      `.concat((ue=ue,ge=ge,H=Q,`
      <div class="datepicker-header">
        <div class="datepicker-title">
          <span class="datepicker-title-text">`.concat((B=d).title,`</span>
        </div>
        <div class="datepicker-date">
          <span class="datepicker-date-text">`).concat(B.weekdaysShort[ge],", ").concat(B.monthsShort[H]," ").concat(ue,`</span>
        </div>
      </div>
    `)),`
      `).concat((ge=g,B=m,H=b,ue=x,g=p,m=Se,b=A,`
    <div class="datepicker-main">
      `.concat(function(ie,xe,Ie){return`
    <div class="datepicker-date-controls">
      <button class="datepicker-view-change-button" aria-label="`.concat(Ie.switchToMultiYearViewLabel,`">
        `).concat(Ie.monthsFull[ie]," ").concat(xe,`
      </button>
      <div class="datepicker-arrow-controls">
        <button class="datepicker-previous-button" aria-label="`).concat(Ie.prevMonthLabel,`"></button>
        <button class="datepicker-next-button" aria-label="`).concat(Ie.nextMonthLabel,`"></button>
      </div>
    </div>
    `)}(Q,x=K,p=d),`
      <div class="datepicker-view" tabindex="0">
        `).concat(function(ie,xe,Ie,ze,$e,at,We,Qe,Pt){return Ie=at.view==="days"?Bl(ie,Ie,at):at.view==="months"?Ul(xe,ze,$e,at,We):Hl(ie,ze,0,Qe,Pt),Ie}(ge,x,B,H,ue,p,g,m,b),`
      </div>
      `).concat(function(ie){return`
        <div class="datepicker-footer">
          <button class="datepicker-footer-btn datepicker-clear-btn" aria-label="`.concat(ie.clearBtnLabel,'">').concat(ie.clearBtnText,`</button>
          <button class="datepicker-footer-btn datepicker-cancel-btn" aria-label="`).concat(ie.cancelBtnLabel,'">').concat(ie.cancelBtnText,`</button>
          <button class="datepicker-footer-btn datepicker-ok-btn" aria-label="`).concat(ie.okBtnLabel,'">').concat(ie.okBtnText,`</button>
        </div>
      `)}(p),`
    </div>
  `)),`
    `);return ee.addClass(me,"datepicker-modal-container"),ee.addClass(me,"datepicker-modal-container-".concat(L)),me.innerHTML=Se,me}function Bl(g,m,b){return g=function(x,d,p){for(var M=[],A=In(x),L=In(Rn(x,-1)),H=In(Rn(x,1)),B=jt(x),Q=function(Pt,cn,Wt){return Wt=0<(Wt=Wt.startDay)?7-Wt:0,7<=(Pt=new Date(Pt,cn).getDay()+Wt)?Pt-7:Pt}(B,A,p),K=pf(x),ue=pf(Rn(x,-1)),ge=1,me=!1,Se=1;Se<7;Se++){var ie=[];if(Se===1){for(var xe=ue-Q+1;xe<=ue;xe++){var Ie=Vi(B,L,xe);ie.push({date:Ie,currentMonth:me,isSelected:d&&ns(Ie,d),isToday:ns(Ie,Ca()),dayNumber:ti(Ie)})}me=!0;for(var ze=7-ie.length,$e=0;$e<ze;$e++){var at=Vi(B,A,ge);ie.push({date:at,currentMonth:me,isSelected:d&&ns(at,d),isToday:ns(at,Ca()),dayNumber:ti(at)}),ge++}}else for(var We=1;We<8;We++){K<ge&&(me=!(ge=1));var Qe=Vi(B,me?A:H,ge);ie.push({date:Qe,currentMonth:me,isSelected:d&&ns(Qe,d),isToday:ns(Qe,Ca()),dayNumber:ti(Qe)}),ge++}M.push(ie)}return M}(g,m,b),m=b.weekdaysNarrow,m=`
      <tr>
        `.concat(m.map(function(x,d){return'<th class="datepicker-day-heading" scope="col" aria-label="'.concat(b.weekdaysFull[d],'">').concat(x,"</th>")}).join(""),`
      </tr>
    `),g=g.map(function(x){return`
        <tr>
          `.concat(x.map(function(d){return`
              <td
              class="datepicker-cell datepicker-small-cell datepicker-day-cell
              `.concat(d.currentMonth?"":"disabled"," ").concat(d.disabled?"disabled":"",`
              `).concat(d.isToday&&"current"," ").concat(d.isSelected&&"selected",`"
              data-mdb-date="`).concat(jt(d.date),"-").concat(In(d.date),"-").concat(ti(d.date),`"
              aria-label="`).concat(d.date,`"
              aria-selected="`).concat(d.isSelected,`">
                <div
                  class="datepicker-cell-content datepicker-small-cell-content"
                  style="`).concat(d.currentMonth?"display: block":"display: none",`">
                  `).concat(d.dayNumber,`
                  </div>
              </td>
            `)}).join(""),`
        </tr>
      `)}).join(""),`
      <table class="datepicker-table">
        <thead>
          `.concat(m,`
        </thead>
        <tbody class="datepicker-table-body">
         `).concat(g,`
        </tbody>
      </table>
    `)}function Ul(g,m,b,x,M){var M=function(A,L){for(var H=[],B=[],Q=0;Q<A.monthsShort.length;Q++){var K;B.push(A.monthsShort[Q]),B.length===L&&(K=B,H.push(K),B=[])}return H}(x,M),p=In(Ca()),M=`
      `.concat(M.map(function(A){return`
          <tr>
            `.concat(A.map(function(L){var H=x.monthsShort.indexOf(L);return`
                <td class="datepicker-cell datepicker-large-cell datepicker-month-cell `.concat(H===b&&g===m?"selected":""," ").concat(H===p?"current":"",'" data-mdb-month="').concat(H,'" data-mdb-year="').concat(g,'" aria-label="').concat(L,", ").concat(g,`">
                  <div class="datepicker-cell-content datepicker-large-cell-content">`).concat(L,`</div>
                </td>
              `)}).join(""),`
          </tr>
        `)}).join(""),`
    `);return`
      <table class="datepicker-table">
        <tbody class="datepicker-table-body">
         `.concat(M,`
        </tbody>
      </table>
    `)}function Hl(p,m,b,A,d){var p=function(L,H,B){for(var Q=[],K=jt(L),L=Fl(L,H),ue=K-L,ge=[],me=0;me<H;me++){var Se;ge.push(ue+me),ge.length===B&&(Se=ge,Q.push(Se),ge=[])}return Q}(p,A,d),M=jt(Ca()),A=`
    `.concat(p.map(function(L){return`
        <tr>
          `.concat(L.map(function(H){return`
              <td class="datepicker-cell datepicker-large-cell datepicker-year-cell `.concat(H===m?"selected":""," ").concat(H===M?"current":"",'" aria-label="').concat(H,'" data-mdb-year="').concat(H,`">
                <div class="datepicker-cell-content datepicker-large-cell-content">`).concat(H,`</div>
              </td>
            `)}).join(""),`
        </tr>
      `)}).join(""),`
  `);return`
      <table class="datepicker-table">
        <tbody class="datepicker-table-body">
        `.concat(A,`
        </tbody>
      </table>
    `)}function p0(g){return(p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function m0(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function gf(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?m0(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):m0(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function g0(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}var v0="datepicker",Vl="mdb.datepicker",Js=".".concat(Vl),MS="close".concat(Js),TS="open".concat(Js),ES="dateChange".concat(Js),Wl="click".concat(Js).concat(".data-api"),CS={title:"Select date",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysNarrow:["S","M","T","W","T","F","S"],okBtnText:"Ok",clearBtnText:"Clear",cancelBtnText:"Cancel",okBtnLabel:"Confirm selection",clearBtnLabel:"Clear selection",cancelBtnLabel:"Cancel selection",nextMonthLabel:"Next month",prevMonthLabel:"Previous month",nextYearLabel:"Next year",prevYearLabel:"Previous year",nextMultiYearLabel:"Next 24 years",prevMultiYearLabel:"Previous 24 years",switchToMultiYearViewLabel:"Choose year and month",switchToMonthViewLabel:"Choose date",switchToDayViewLabel:"Choose date",startDate:null,startDay:0,format:"dd/mm/yyyy",view:"days",toggleButton:!0,disableToggleButton:!1,disableInput:!1},AS={title:"string",monthsFull:"array",monthsShort:"array",weekdaysFull:"array",weekdaysShort:"array",weekdaysNarrow:"array",okBtnText:"string",clearBtnText:"string",cancelBtnText:"string",okBtnLabel:"string",clearBtnLabel:"string",cancelBtnLabel:"string",nextMonthLabel:"string",prevMonthLabel:"string",nextYearLabel:"string",prevYearLabel:"string",nextMultiYearLabel:"string",prevMultiYearLabel:"string",switchToMultiYearViewLabel:"string",switchToMonthViewLabel:"string",switchToDayViewLabel:"string",startDate:"(null|string|date)",startDay:"number",format:"string",view:"string",toggleButton:"boolean",disableToggleButton:"boolean",disableInput:"boolean"},vf=function(){function g(d,p){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._element=d,this._input=we.findOne("input",this._element),this._options=this._getConfig(p),this._activeDate=new Date,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._view=this._options.view,this._popper=null,this._focusTrap=null,this._isOpen=!1,this._toggleButtonId=Wv("datepicker-toggle-"),this._element&&ei.setData(d,Vl,this),this._init(),this.toggleButton&&this._options.disableToggle&&(this.toggleButton.disabled="true"),this._options.disableInput&&(this._input.disabled="true")}var m,b,x;return m=g,x=[{key:"NAME",get:function(){return v0}},{key:"getInstance",value:function(d){return ei.getData(d,Vl)}},{key:"getOrCreateInstance",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,p0(p)==="object"?p:null)}}],(b=[{key:"container",get:function(){return we.findOne(".datepicker-modal-container".concat("-",this._toggleButtonId))||we.findOne(".datepicker-dropdown-container".concat("-",this._toggleButtonId))}},{key:"options",get:function(){return this._options}},{key:"activeCell",get:function(){var d;return this._view==="days"&&(d=this._getActiveDayCell()),this._view==="months"&&(d=this._getActiveMonthCell()),d=this._view==="years"?this._getActiveYearCell():d}},{key:"activeDay",get:function(){return ti(this._activeDate)}},{key:"activeMonth",get:function(){return In(this._activeDate)}},{key:"activeYear",get:function(){return jt(this._activeDate)}},{key:"firstYearInView",get:function(){return this.activeYear-Fl(this._activeDate,24)}},{key:"lastYearInView",get:function(){return this.firstYearInView+24-1}},{key:"viewChangeButton",get:function(){return we.findOne(".datepicker-view-change-button",this.container)}},{key:"previousButton",get:function(){return we.findOne(".datepicker-previous-button",this.container)}},{key:"nextButton",get:function(){return we.findOne(".datepicker-next-button",this.container)}},{key:"okButton",get:function(){return we.findOne(".datepicker-ok-btn",this.container)}},{key:"cancelButton",get:function(){return we.findOne(".datepicker-cancel-btn",this.container)}},{key:"clearButton",get:function(){return we.findOne(".datepicker-clear-btn",this.container)}},{key:"datesContainer",get:function(){return we.findOne(".datepicker-view",this.container)}},{key:"toggleButton",get:function(){return we.findOne(".datepicker-toggle-button",this._element)}},{key:"_getConfig",value:function(d){var p=ee.getDataAttributes(this._element);return d=gf(gf(gf({},CS),p),d),Dl(v0,d,AS),d.startDay&&d.startDay!==0&&(p=this._getNewDaysOrderArray(d),d.weekdaysNarrow=p),d}},{key:"_getNewDaysOrderArray",value:function(M){var p=M.startDay,M=M.weekdaysNarrow;return M.slice(p).concat(M.slice(0,p))}},{key:"_init",value:function(){!this.toggleButton&&this._options.toggleButton&&(this._appendToggleButton(),(this._input.readOnly||this._input.disabled)&&(this.toggleButton.style.pointerEvents="none")),this._listenToUserInput(),this._listenToToggleClick(),this._listenToToggleKeydown()}},{key:"_appendToggleButton",value:function(){var d=`
    <button id="`.concat(this._toggleButtonId,`" type="button" class="datepicker-toggle-button" data-mdb-toggle="datepicker">
      <i class="far fa-calendar datepicker-toggle-icon"></i>
    </button>
  `);this._element.insertAdjacentHTML("beforeend",d),ee.addClass(this._input,"form-icon-trailing")}},{key:"open",value:function(){var d,p,M=this;this._input.readOnly||this._input.disabled||(d=Ye.trigger(this._element,TS),this._isOpen||d.defaultPrevented||(this._setInitialDate(),d=qs("div"),ee.addClass(d,"datepicker-backdrop"),d=d,p=SS(this._activeDate,this._selectedDate,this._selectedYear,this._selectedMonth,this._options,4,24,24,this._toggleButtonId),this._openModal(d,p),ee.addClass(this.container,"animation"),ee.addClass(this.container,"fade-in"),this.container.style.animationDuration="300ms",ee.addClass(d,"animation"),ee.addClass(d,"fade-in"),d.style.animationDuration="150ms",this._setFocusTrap(this.container),this._listenToDateSelection(),this._addControlsListeners(),this._listenToEscapeClick(),this._listenToKeyboardNavigation(),this._listenToDatesContainerFocus(),this._listenToDatesContainerBlur(),this._asyncFocusDatesContainer(),this._updateViewControlsAndAttributes(this._view),this._isOpen=!0,setTimeout(function(){M._listenToOutsideClick()},0)))}},{key:"_openDropdown",value:function(d){this._popper=aa(this._input,d,{placement:"bottom-start"}),document.body.appendChild(d)}},{key:"_openModal",value:function(d,p){document.body.appendChild(d),document.body.appendChild(p),window.innerWidth>document.documentElement.clientWidth&&(document.body.style.overflow="hidden",document.body.style.paddingRight="15px")}},{key:"_setFocusTrap",value:function(d){this._focusTrap=new h0(d,{event:"keydown",condition:function(p){return p.key==="Tab"}}),this._focusTrap.trap()}},{key:"_listenToUserInput",value:function(){var d=this;Ye.on(this._input,"input",function(p){d._handleUserInput(p.target.value)})}},{key:"_listenToToggleClick",value:function(){var d=this;Ye.on(this._element,Wl,'[data-mdb-toggle="datepicker"]',function(p){p.preventDefault(),d.open()})}},{key:"_listenToToggleKeydown",value:function(){var d=this;Ye.on(this._element,"keydown",'[data-mdb-toggle="datepicker"]',function(p){p.keyCode!==13||d._isOpen||d.open()})}},{key:"_listenToDateSelection",value:function(){var d=this;Ye.on(this.datesContainer,"click",function(L){var M,A=(L.target.nodeName==="DIV"?L.target.parentNode:L.target).dataset,L=L.target.nodeName==="DIV"?L.target.parentNode:L.target;A.mdbDate&&d._pickDay(A.mdbDate,L),A.mdbMonth&&A.mdbYear&&(L=parseInt(A.mdbMonth,10),M=parseInt(A.mdbYear,10),d._pickMonth(L,M)),A.mdbYear&&!A.mdbMonth&&(L=parseInt(A.mdbYear,10),d._pickYear(L)),d._updateHeaderDate(d._activeDate,d._options.monthsShort,d._options.weekdaysShort)})}},{key:"_updateHeaderDate",value:function(B,p,M){var A=we.findOne(".datepicker-date-text",this.container),L=In(B),H=ti(B),B=zl(B);A.innerHTML="".concat(M[B],", ").concat(p[L]," ").concat(H)}},{key:"_addControlsListeners",value:function(){var d=this;Ye.on(this.nextButton,"click",function(){d._view==="days"?d.nextMonth():d._view==="years"?d.nextYears():d.nextYear()}),Ye.on(this.previousButton,"click",function(){d._view==="days"?d.previousMonth():d._view==="years"?d.previousYears():d.previousYear()}),Ye.on(this.viewChangeButton,"click",function(){d._view==="days"?d._changeView("years"):d._view!=="years"&&d._view!=="months"||d._changeView("days")}),this._listenToFooterButtonsClick()}},{key:"_listenToFooterButtonsClick",value:function(){var d=this;Ye.on(this.okButton,"click",function(){return d.handleOk()}),Ye.on(this.cancelButton,"click",function(){return d.handleCancel()}),Ye.on(this.clearButton,"click",function(){return d.handleClear()})}},{key:"_listenToOutsideClick",value:function(){var d=this;Ye.on(document,Wl,function(A){var M=A.target===d.container,A=d.container&&d.container.contains(A.target);M||A||d.close()})}},{key:"_listenToEscapeClick",value:function(){var d=this;Ye.on(document,"keydown",function(p){p.keyCode===27&&d._isOpen&&d.close()})}},{key:"_listenToKeyboardNavigation",value:function(){var d=this;Ye.on(this.datesContainer,"keydown",function(p){d._handleKeydown(p)})}},{key:"_listenToDatesContainerFocus",value:function(){var d=this;Ye.on(this.datesContainer,"focus",function(){d._focusActiveCell(d.activeCell)})}},{key:"_listenToDatesContainerBlur",value:function(){var d=this;Ye.on(this.datesContainer,"blur",function(){d._removeCurrentFocusStyles()})}},{key:"_handleKeydown",value:function(d){this._view==="days"&&this._handleDaysViewKeydown(d),this._view==="months"&&this._handleMonthsViewKeydown(d),this._view==="years"&&this._handleYearsViewKeydown(d)}},{key:"_handleDaysViewKeydown",value:function(d){var p=this._activeDate,M=this.activeCell;switch(d.keyCode){case 37:this._activeDate=Xs(this._activeDate,-1);break;case 39:this._activeDate=Xs(this._activeDate,1);break;case 38:this._activeDate=Xs(this._activeDate,-7);break;case 40:this._activeDate=Xs(this._activeDate,7);break;case 36:this._activeDate=Xs(this._activeDate,1-ti(this._activeDate));break;case 35:this._activeDate=Xs(this._activeDate,pf(this._activeDate)-ti(this._activeDate));break;case 33:this._activeDate=Rn(this._activeDate,-1);break;case 34:this._activeDate=Rn(this._activeDate,1);break;case 13:case 32:return this._selectDate(this._activeDate),void d.preventDefault();default:return}mf(p,this._activeDate,this._view,24,0)||this._changeView("days"),this._removeHighlightFromCell(M),this._focusActiveCell(this.activeCell),d.preventDefault()}},{key:"_asyncFocusDatesContainer",value:function(){var d=this;setTimeout(function(){d.datesContainer.focus()},0)}},{key:"_focusActiveCell",value:function(d){d&&ee.addClass(d,"focused")}},{key:"_removeHighlightFromCell",value:function(d){d&&d.classList.remove("focused")}},{key:"_getActiveDayCell",value:function(){var d=this,p=we.find("td",this.datesContainer);return Array.from(p).find(function(M){return ns(d0(M.dataset.mdbDate),d._activeDate)})}},{key:"_handleMonthsViewKeydown",value:function(d){var p=this._activeDate,M=this.activeCell;switch(d.keyCode){case 37:this._activeDate=Rn(this._activeDate,-1);break;case 39:this._activeDate=Rn(this._activeDate,1);break;case 38:this._activeDate=Rn(this._activeDate,-4);break;case 40:this._activeDate=Rn(this._activeDate,4);break;case 36:this._activeDate=Rn(this._activeDate,-this.activeMonth);break;case 35:this._activeDate=Rn(this._activeDate,11-this.activeMonth);break;case 33:this._activeDate=Ln(this._activeDate,-1);break;case 34:this._activeDate=Ln(this._activeDate,1);break;case 13:case 32:return void this._selectMonth(this.activeMonth);default:return}mf(p,this._activeDate,this._view,24,0)||this._changeView("months"),this._removeHighlightFromCell(M),this._focusActiveCell(this.activeCell),d.preventDefault()}},{key:"_getActiveMonthCell",value:function(){var d=this,p=we.find("td",this.datesContainer);return Array.from(p).find(function(L){var A=parseInt(L.dataset.mdbYear,10),L=parseInt(L.dataset.mdbMonth,10);return A===d.activeYear&&L===d.activeMonth})}},{key:"_handleYearsViewKeydown",value:function(d){var p=this._activeDate,M=this.activeCell;switch(d.keyCode){case 37:this._activeDate=Ln(this._activeDate,-1);break;case 39:this._activeDate=Ln(this._activeDate,1);break;case 38:this._activeDate=Ln(this._activeDate,-4);break;case 40:this._activeDate=Ln(this._activeDate,4);break;case 36:this._activeDate=Ln(this._activeDate,-Fl(this._activeDate,24));break;case 35:this._activeDate=Ln(this._activeDate,24-Fl(this._activeDate,24)-1);break;case 33:this._activeDate=Ln(this._activeDate,-24);break;case 34:this._activeDate=Ln(this._activeDate,24);break;case 13:case 32:return void this._selectYear(this.activeYear);default:return}mf(p,this._activeDate,this._view,24,0)||this._changeView("years"),this._removeHighlightFromCell(M),this._focusActiveCell(this.activeCell),d.preventDefault()}},{key:"_getActiveYearCell",value:function(){var d=this,p=we.find("td",this.datesContainer);return Array.from(p).find(function(M){return parseInt(M.dataset.mdbYear,10)===d.activeYear})}},{key:"_setInitialDate",value:function(){this._input.value?this._handleUserInput(this._input.value):this._options.startDate?this._activeDate=new Date(this._options.startDate):this._activeDate=new Date}},{key:"close",value:function(){var d=Ye.trigger(this._element,MS);this._isOpen&&!d.defaultPrevented&&(this._removeDatepickerListeners(),ee.addClass(this.container,"animation"),ee.addClass(this.container,"fade-out"),this._closeModal(),this._isOpen=!1,this._view=this._options.view,(this.toggleButton||this._input).focus())}},{key:"_closeDropdown",value:function(){var d=this,p=we.findOne(".datepicker-dropdown-container");p.addEventListener("animationend",function(){p&&document.body.removeChild(p),d._popper&&d._popper.destroy()}),this._removeFocusTrap()}},{key:"_closeModal",value:function(){var d=we.findOne(".datepicker-backdrop"),p=we.findOne(".datepicker-modal-container");ee.addClass(d,"animation"),ee.addClass(d,"fade-out"),p&&d&&d.addEventListener("animationend",function(){document.body.removeChild(d),document.body.removeChild(p),document.body.style.overflow="",document.body.style.paddingRight=""})}},{key:"_removeFocusTrap",value:function(){this._focusTrap&&(this._focusTrap.disable(),this._focusTrap=null)}},{key:"_removeDatepickerListeners",value:function(){Ye.off(this.nextButton,"click"),Ye.off(this.previousButton,"click"),Ye.off(this.viewChangeButton,"click"),Ye.off(this.okButton,"click"),Ye.off(this.cancelButton,"click"),Ye.off(this.clearButton,"click"),Ye.off(this.datesContainer,"click"),Ye.off(this.datesContainer,"keydown"),Ye.off(this.datesContainer,"focus"),Ye.off(this.datesContainer,"blur"),Ye.off(document,Wl)}},{key:"dispose",value:function(){this._isOpen&&this.close(),this._removeInputAndToggleListeners();var d=we.findOne("#".concat(this._toggleButtonId));d&&this._element.removeChild(d),ei.removeData(this._element,Vl),this._element=null,this._input=null,this._options=null,this._activeDate=null,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._view=null,this._popper=null,this._focusTrap=null}},{key:"_removeInputAndToggleListeners",value:function(){Ye.off(this._input,"input"),Ye.off(this._element,Wl,'[data-mdb-toggle="datepicker"]'),Ye.off(this._element,"keydown",'[data-mdb-toggle="datepicker"]')}},{key:"handleOk",value:function(){this._confirmSelection(this._selectedDate),this.close()}},{key:"_selectDate",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(p),this._selectedDate=d}},{key:"_selectYear",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(p),this._selectedYear=d,this._asyncChangeView("months")}},{key:"_selectMonth",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(p),this._selectedMonth=d,this._asyncChangeView("days")}},{key:"_removeSelectedStyles",value:function(d){d&&d.classList.remove("selected")}},{key:"_addSelectedStyles",value:function(d){d&&ee.addClass(d,"selected")}},{key:"_confirmSelection",value:function(d){var p;d&&(p=this.formatDate(d),this._input.value=p,ee.addClass(this._input,"active"),Ye.trigger(this._element,ES,{date:d}))}},{key:"handleCancel",value:function(){this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this.close()}},{key:"handleClear",value:function(){this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null,this._removeCurrentSelectionStyles(),this._input.value="",this._input.classList.remove("active"),this._setInitialDate(),this._changeView("days")}},{key:"_removeCurrentSelectionStyles",value:function(){var d=we.findOne(".selected",this.container);d&&d.classList.remove("selected")}},{key:"_removeCurrentFocusStyles",value:function(){var d=we.findOne(".focused",this.container);d&&d.classList.remove("focused")}},{key:"formatDate",value:function(me){var p=ti(me),M=this._addLeadingZero(ti(me)),A=this._options.weekdaysShort[zl(me)],L=this._options.weekdaysFull[zl(me)],H=In(me)+1,B=this._addLeadingZero(In(me)+1),Q=this._options.monthsShort[In(me)],K=this._options.monthsFull[In(me)],ue=jt(me).toString().length===2?jt(me):jt(me).toString().slice(2,4),ge=jt(me),me=this._options.format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g),Se="";return me.forEach(function(ie){switch(ie){case"dddd":ie=ie.replace(ie,L);break;case"ddd":ie=ie.replace(ie,A);break;case"dd":ie=ie.replace(ie,M);break;case"d":ie=ie.replace(ie,p);break;case"mmmm":ie=ie.replace(ie,K);break;case"mmm":ie=ie.replace(ie,Q);break;case"mm":ie=ie.replace(ie,B);break;case"m":ie=ie.replace(ie,H);break;case"yyyy":ie=ie.replace(ie,ge);break;case"yy":ie=ie.replace(ie,ue)}Se+=ie}),Se}},{key:"_addLeadingZero",value:function(d){return parseInt(d,10)<10?"0".concat(d):d}},{key:"_pickDay",value:function(d,p){d=d0(d),this._activeDate=d,this._selectDate(d,p)}},{key:"_pickYear",value:function(d){var p=Vi(d,this.activeMonth,this.activeDay);this._activeDate=p,this._selectedDate=p,this._selectYear(d)}},{key:"_pickMonth",value:function(d,p){p=Vi(p,d,this.activeDay),this._activeDate=p,this._selectMonth(d)}},{key:"nextMonth",value:function(){var d,p=Bl(d=Rn(this._activeDate,1),this._selectedDate,this._options);this._activeDate=d,this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.datesContainer.innerHTML=p}},{key:"previousMonth",value:function(){var d=Rn(this._activeDate,-1),d=Bl(this._activeDate=d,this._selectedDate,this._options);this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.datesContainer.innerHTML=d}},{key:"nextYear",value:function(){var d=Ln(this._activeDate,1),d=(this._activeDate=d,this.viewChangeButton.textContent="".concat(this.activeYear),Ul(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4));this.datesContainer.innerHTML=d}},{key:"previousYear",value:function(){var d=Ln(this._activeDate,-1),d=(this._activeDate=d,this.viewChangeButton.textContent="".concat(this.activeYear),Ul(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4));this.datesContainer.innerHTML=d}},{key:"nextYears",value:function(){var d=Ln(this._activeDate,24),d=Hl(this._activeDate=d,this._selectedYear,this._options,24,4);this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.datesContainer.innerHTML=d}},{key:"previousYears",value:function(){var d=Ln(this._activeDate,-24),d=Hl(this._activeDate=d,this._selectedYear,this._options,24,4);this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.datesContainer.innerHTML=d}},{key:"_asyncChangeView",value:function(d){var p=this;setTimeout(function(){p._changeView(d)},0)}},{key:"_changeView",value:function(d){this._view=d,this.datesContainer.blur(),d==="days"&&(this.datesContainer.innerHTML=Bl(this._activeDate,this._selectedDate,this._options)),d==="months"&&(this.datesContainer.innerHTML=Ul(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4)),d==="years"&&(this.datesContainer.innerHTML=Hl(this._activeDate,this._selectedYear,this._options,24,4)),this.datesContainer.focus(),this._updateViewControlsAndAttributes(d)}},{key:"_updateViewControlsAndAttributes",value:function(d){d==="days"&&(this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMultiYearViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMonthLabel),this.nextButton.setAttribute("aria-label",this._options.nextMonthLabel)),d==="months"&&(this.viewChangeButton.textContent="".concat(this.activeYear),this.viewChangeButton.setAttribute("aria-label",this._options.switchToDayViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextYearLabel)),d==="years"&&(this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMonthViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMultiYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextMultiYearLabel))}},{key:"_handleUserInput",value:function(M){var p=this._getDelimeters(this._options.format),M=this._parseDate(M,this._options.format,p);Number.isNaN(M.getTime())?(this._activeDate=new Date,this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null):(this._activeDate=M,this._selectedDate=M)}},{key:"_getDelimeters",value:function(d){return d.match(/[^(dmy)]{1,}/g)}},{key:"_parseDate",value:function(d,p,M){for(var M=M[0]!==M[1]?M[0]+M[1]:M[0],M=new RegExp("[".concat(M,"]")),A=d.split(M),L=p.split(M),d=p.indexOf("mmm")!==-1,H=[],B=0;B<L.length;B++)L[B].indexOf("yy")!==-1&&(H[0]={value:A[B],format:L[B]}),L[B].indexOf("m")!==-1&&(H[1]={value:A[B],format:L[B]}),L[B].indexOf("d")!==-1&&L[B].length<=2&&(H[2]={value:A[B],format:L[B]});return M=p.indexOf("mmmm")!==-1?this._options.monthsFull:this._options.monthsShort,Vi(Number(H[0].value),d?this.getMonthNumberByMonthName(H[1].value,M):Number(H[1].value)-1,Number(H[2].value))}},{key:"getMonthNumberByMonthName",value:function(d,p){return p.findIndex(function(M){return M===d})}}])&&g0(m.prototype,b),x&&g0(m,x),Object.defineProperty(m,"prototype",{writable:!1}),g}(),Js=vf;we.find(".datepicker").forEach(function(g){var m=vf.getInstance(g);m||new vf(g)}),Oe(189),Oe(191);function PS(g,m){return function(b){if(Array.isArray(b))return b}(g)||function(b,x){var d=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(d!=null){var p,M,A=[],L=!0,H=!1;try{for(d=d.call(b);!(L=(p=d.next()).done)&&(A.push(p.value),!x||A.length!==x);L=!0);}catch(B){H=!0,M=B}finally{try{L||d.return==null||d.return()}finally{if(H)throw M}}return A}}(g,m)||function(b,x){if(b){if(typeof b=="string")return _0(b,x);var d=Object.prototype.toString.call(b).slice(8,-1);return(d=d==="Object"&&b.constructor?b.constructor.name:d)==="Map"||d==="Set"?Array.from(b):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?_0(b,x):void 0}}(g,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _0(g,m){(m==null||m>g.length)&&(m=g.length);for(var b=0,x=new Array(m);b<m;b++)x[b]=g[b];return x}function y0(d,A){var b=d.clientX,x=d.clientY,d=d.touches,p=2<arguments.length&&arguments[2]!==void 0&&arguments[2],A=A.getBoundingClientRect(),M=A.left,A=A.top,L={};return p&&d?p&&0<Object.keys(d).length&&(L={x:d[0].clientX-M,y:d[0].clientY-A}):L={x:b-M,y:x-A},L}function Zs(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}var OS=function(g){return g&&Object.prototype.toString.call(g)==="[object Date]"&&!isNaN(g)},ni=function(g){return g=(!(1<arguments.length&&arguments[1]!==void 0)||arguments[1]?g.value:g).replace(/:/gi," "),g.split(" ")};function b0(g){return(b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function x0(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function _f(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?x0(Object(b),!0).forEach(function(x){is(g,x,b[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):x0(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function Gl(g,m){return function(b){if(Array.isArray(b))return b}(g)||function(b,x){var d=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(d!=null){var p,M,A=[],L=!0,H=!1;try{for(d=d.call(b);!(L=(p=d.next()).done)&&(A.push(p.value),!x||A.length!==x);L=!0);}catch(B){H=!0,M=B}finally{try{L||d.return==null||d.return()}finally{if(H)throw M}}return A}}(g,m)||S0(g,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w0(g){return function(m){if(Array.isArray(m))return yf(m)}(g)||function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}(g)||S0(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S0(g,m){if(g){if(typeof g=="string")return yf(g,m);var b=Object.prototype.toString.call(g).slice(8,-1);return(b=b==="Object"&&g.constructor?g.constructor.name:b)==="Map"||b==="Set"?Array.from(g):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?yf(g,m):void 0}}function yf(g,m){(m==null||m>g.length)&&(m=g.length);for(var b=0,x=new Array(m);b<m;b++)x[b]=g[b];return x}function M0(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function is(g,m,b){m in g?Object.defineProperty(g,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[m]=b}var _t="timepicker",bf="mdb.".concat(_t),Vt="active",kS="".concat(_t,"-am"),xf="".concat(_t,"-cancel"),T0="".concat(_t,"-clear"),E0="".concat(_t,"-submit"),wf="".concat(_t,"-circle"),DS="".concat(_t,"-clock-animation"),Ks="".concat(_t,"-clock"),Aa="".concat(_t,"-clock-inner"),C0="".concat(_t,"-clock-wrapper"),Sf=".".concat(_t,"-current"),IS="".concat(_t,"-current-inline"),Mf="".concat(_t,"-hand-pointer"),$l="".concat(_t,"-hour"),jl="".concat(_t,"-hour-mode"),A0="".concat(_t,"-icon-down"),LS="".concat(_t,"-icon-inline-hour"),RS="".concat(_t,"-icon-inline-minute"),P0="".concat(_t,"-icon-up"),O0="".concat(_t,"-inline-hour-icons"),k0="".concat(_t,"-middle-dot"),D0="".concat(_t,"-minute"),I0="".concat(_t,"-modal"),NS="".concat(_t,"-pm"),Tf="".concat(_t,"-tips-element"),Ti="".concat(_t,"-time-tips-hours"),Pa="".concat(_t,"-tips-inner-element"),nr="".concat(_t,"-time-tips-inner"),Nn="".concat(_t,"-time-tips-minutes"),Ef="".concat(_t,"-transform"),Cf="".concat(_t,"-wrapper"),zS="".concat(_t,"-input"),FS={appendValidationInfo:!0,bodyID:"",cancelLabel:"Cancel",clearLabel:"Clear",closeModalOnBackdropClick:!0,closeModalOnMinutesClick:!1,defaultTime:"",disabled:!1,focusInputAfterApprove:!1,footerID:"",format12:!0,headID:"",increment:!1,invalidLabel:"Invalid Time Format",maxHour:"",minHour:"",maxTime:"",minTime:"",modalID:"",okLabel:"Ok",overflowHidden:!0,pickerID:"",readOnly:!1,showClearBtn:!0,switchHoursToMinutesOnClick:!0,iconClass:"far fa-clock fa-sm timepicker-icon",withIcon:!0,pmLabel:"PM",amLabel:"AM"},BS={appendValidationInfo:"boolean",bodyID:"string",cancelLabel:"string",clearLabel:"string",closeModalOnBackdropClick:"boolean",closeModalOnMinutesClick:"boolean",disabled:"boolean",footerID:"string",format12:"boolean",headID:"string",increment:"boolean",invalidLabel:"string",maxHour:"(string|number)",minHour:"(string|number)",modalID:"string",okLabel:"string",overflowHidden:"boolean",pickerID:"string",readOnly:"boolean",showClearBtn:"boolean",switchHoursToMinutesOnClick:"boolean",defaultTime:"(string|date|number)",iconClass:"string",withIcon:"boolean",pmLabel:"string",amLabel:"string"},Af=function(){function g(d){var p=this,M=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},A=this,L=g;if(!(A instanceof L))throw new TypeError("Cannot call a class as a function");is(this,"_toggleBackgroundColorCircle",function(H){p._modal.querySelector(".".concat(H,".").concat(Vt))!==null?ee.addStyle(p._circle,{backgroundColor:"#1976d2"}):ee.addStyle(p._circle,{backgroundColor:"transparent"})}),is(this,"_toggleClassActive",function(H,B,Q){var K=B.textContent,ue=w0(H).find(function(ge){return Number(ge)===Number(K)});return Q.forEach(function(ge){ee.hasClass(ge,"disabled")||(ge.textContent===ue?ee.addClass(ge,Vt):ee.removeClass(ge,Vt))})}),is(this,"_makeMinutesDegrees",function(H,B){var Q=p._options.increment;return H=H<0?(B=Math.round(360+H/6)%60,360+6*Math.round(H/6)):(B=Math.round(H/6)%60,6*Math.round(H/6)),Q&&(H=30*Math.round(H/30),(B=6*Math.round(H/6)/6)===60&&(B="00")),{degrees:H=360<=H?0:H,minute:B,addDegrees:Q?30:6}}),is(this,"_makeHourDegrees",function(H,B,Q){var ue=p._options,K=ue.maxHour,ue=ue.minHour;if(H&&(ee.hasClass(H,Aa)||ee.hasClass(H,nr)||ee.hasClass(H,Pa)?B<0?(Q=Math.round(360+B/30)%24,B=360+B):(Q=Math.round(B/30)+12)===12&&(Q="00"):B<0?(Q=Math.round(360+B/30)%12,B=360+B):((Q=Math.round(B/30)%12)===0||12<Q)&&(Q=12),360<=B&&(B=0),!(K!==""&&Q>Number(K)||ue!==""&&Q<Number(ue))))return{degrees:B,hour:Q,addDegrees:30}}),is(this,"_makeInnerHoursDegrees",function(H,B){return H<0?(B=Math.round(360+H/30)%24,H=360+H):(B=Math.round(H/30)+12)===12&&(B="00"),{degrees:H,hour:B,addDegrees:30}}),is(this,"_getAppendClock",function(){var H,B,Q,K=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],ue=1<arguments.length&&arguments[1]!==void 0?arguments[1]:".".concat(Ks),ge=2<arguments.length?arguments[2]:void 0,ze=p._options,me=ze.maxHour,Se=ze.minHour,ie=ze.minTime,xe=ze.maxTime,Ie=ze.inline,ze=ze.format12,Qe=Gl(ni(xe,!1),3),$e=Qe[0],at=Qe[1],We=Qe[2],Qe=Gl(ni(ie,!1),3),Pt=Qe[0],cn=Qe[1],Wt=Qe[2],un=(Ie||ze&&p._isInvalidTimeFormat&&!ee.hasClass(p._AM,"active")&&ee.addClass(p._PM,"active"),we.findOne(".".concat(jl,".").concat(Vt))),At=we.findOne(ue),ii=360/K.length;At!==null&&(H=(At.offsetWidth-32)/2,B=(At.offsetHeight-32)/2,Q=H-4,w0(K).forEach(function(Gt,ss){var ss=ss*ii*(Math.PI/180),St=qs("span"),os=qs("span"),Yl=(os.innerHTML=Gt,ee.addClass(St,ge),St.offsetWidth),Xl=St.offsetHeight;return ee.addStyle(St,{left:"".concat(H+Math.sin(ss)*Q-Yl,"px"),bottom:"".concat(B+Math.cos(ss)*Q-Xl,"px")}),K.includes("05")&&ee.addClass(St,"".concat(Nn)),K.includes("13")?os.classList.add(Pa):os.classList.add(Tf),ee.hasClass(St,"".concat(Nn))?ee.hasClass(St,"".concat(Nn))&&(xe!==""&&Number(Gt)>Number(at)&&Number(p._hour.textContent)>=Number($e)&&ee.addClass(St,"disabled"),ie!==""&&Number(Gt)<Number(cn)&&Number(p._hour.textContent)<=Number(Pt)&&ee.addClass(St,"disabled"),xe!==""&&We!==void 0&&(We==="PM"&&un.textContent==="PM"?Number(Gt)>Number(at)&&Number(p._hour.textContent)>=Number($e)&&ee.addClass(St,"disabled"):We==="PM"&&un.textContent==="AM"&&ee.removeClass(St,"disabled"),(We==="AM"&&un.textContent==="PM"||We==="AM"&&un.textContent==="AM"&&Number(p._hour.textContent)>=Number($e)&&Number(Gt)>Number(at))&&ee.addClass(St,"disabled")),ie!==""&&Wt!==void 0&&(Wt==="PM"&&un.textContent==="PM"?(Number(Gt)<Number(cn)&&Number(p._hour.textContent)===Number(Pt)||Number(p._hour.textContent)<Number(Pt))&&ee.addClass(St,"disabled"):Wt==="PM"&&un.textContent==="AM"&&ee.addClass(St,"disabled"),Wt==="AM"&&un.textContent==="PM"?ee.removeClass(St,"disabled"):Wt==="AM"&&un.textContent==="AM"&&(Number(p._hour.textContent)===Number(Pt)&&Number(Gt)<Number(cn)||Number(p._hour.textContent)<Number(Pt))&&ee.addClass(St,"disabled"))):(me!==""&&Number(Gt)>Number(me)&&ee.addClass(St,"disabled"),Se!==""&&Number(Gt)<Number(Se)&&ee.addClass(St,"disabled"),xe!==""&&(We!==void 0?(We==="PM"&&un.textContent==="PM"&&(p._isAmEnabled=!1,p._isPmEnabled=!0,Number(Gt)>Number($e)&&ee.addClass(St,"disabled")),We==="AM"&&un.textContent==="PM"?(p._isAmEnabled=!1,p._isPmEnabled=!0,ee.addClass(St,"disabled")):We==="AM"&&un.textContent==="AM"&&(p._isAmEnabled=!0,p._isPmEnabled=!1,Number(Gt)>Number($e)&&ee.addClass(St,"disabled"))):Number(Gt)>Number($e)&&ee.addClass(St,"disabled")),ie!==""&&Number(Gt)<Number(Pt)&&ee.addClass(St,"disabled"),ie!==""&&Wt!==void 0&&(Wt==="PM"&&un.textContent==="PM"?(p._isAmEnabled=!1,p._isPmEnabled=!0,Number(Gt)<Number(Pt)&&ee.addClass(St,"disabled")):Wt==="PM"&&un.textContent==="AM"&&(p._isAmEnabled=!0,p._isPmEnabled=!1,ee.addClass(St,"disabled")),Wt==="AM"&&un.textContent==="PM"?(p._isAmEnabled=!1,p._isPmEnabled=!0,ee.removeClass(St,"disabled")):Wt==="AM"&&un.textContent==="AM"&&(p._isAmEnabled=!0,p._isPmEnabled=!1,Number(Gt)<Number(Pt)&&ee.addClass(St,"disabled")))),St.appendChild(os),At.appendChild(St)}))}),this._element=d,this._element&&ei.setData(d,bf,this),this._document=document,this._options=this._getConfig(M),this._currentTime=null,this._toggleButtonId=Wv("timepicker-toggle-"),this.hoursArray=["12","1","2","3","4","5","6","7","8","9","10","11"],this.innerHours=["00","13","14","15","16","17","18","19","20","21","22","23"],this.minutesArray=["00","05","10","15","20","25","30","35","40","45","50","55"],this.input=we.findOne("input",this._element),this.dataWithIcon=d.dataset.withIcon,this.dataToggle=d.dataset.toggle,this.customIcon=we.findOne(".timepicker-toggle-button",this._element),this._checkToggleButton(),this.inputFormatShow=we.findOne("[data-mdb-timepicker-format24]",this._element),this.inputFormat=this.inputFormatShow===null?"":Object.values(this.inputFormatShow.dataset)[0],this.elementToggle=we.findOne("[data-mdb-toggle]",this._element),this.toggleElement=Object.values(d.querySelector("[data-mdb-toggle]").dataset)[0],this._hour=null,this._minutes=null,this._AM=null,this._PM=null,this._wrapper=null,this._modal=null,this._hand=null,this._circle=null,this._focusTrap=null,this._popper=null,this._interval=null,this._inputValue=this._options.defaultTime!==""?this._options.defaultTime:this.input.value,this._options.format12&&(this._currentTime=function(H){var B,Q,K;if(H!=="")return OS(H)?(B=H.getHours(),(B%=12)===0&&(K="AM"),B=B||12,K===void 0&&(K=12<=B?"PM":"AM"),Q=(Q=H.getMinutes())<10?"0".concat(Q):Q):(B=(H=PS(ni(H,!1),3))[0],Q=H[1],K=H[2],(B%=12)===0&&(K="AM"),B=B||12,K===void 0&&(K=12<=B?"PM":"AM")),{hours:B,minutes:Q,amOrPm:K}}(this._inputValue)),this._options.readOnly&&this.input.setAttribute("readonly",!0),this.init(),this._isHours=!0,this._isMinutes=!1,this._isInvalidTimeFormat=!1,this._isMouseMove=!1,this._isInner=!1,this._isAmEnabled=!1,this._isPmEnabled=!1,this._objWithDataOnChange={degrees:null}}var m,b,x;return m=g,x=[{key:"NAME",get:function(){return _t}},{key:"getInstance",value:function(d){return ei.getData(d,bf)}},{key:"getOrCreateInstance",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,b0(p)==="object"?p:null)}}],(b=[{key:"init",value:function(){var d,p,M,A;ee.addClass(this.input,zS),this._currentTime!==void 0?(M=(d=this._currentTime).hours,A=d.minutes,d=d.amOrPm,p=Number(M)<10?0:"",M="".concat(p).concat(Number(M),":").concat(A),A=d,this.input.value="".concat(M," ").concat(A)):this.input.value=A=M=p="",0<this.input.value.length&&this.input.value!==""&&ee.addClass(this.input,"active"),this._options===null&&this._element===null||(this._handleOpen(),this._listenToToggleKeydown())}},{key:"dispose",value:function(){this._removeModal(),this._element!==null&&ei.removeData(this._element,bf),this._element=null,this._options=null,this.input=null,this._focusTrap=null,Ye.off(this._document,"click","[data-mdb-toggle='".concat(this.toggleElement,"']")),Ye.off(this._element,"keydown","[data-mdb-toggle='".concat(this.toggleElement,"']"))}},{key:"_checkToggleButton",value:function(){this.customIcon===null&&(this.dataWithIcon!==void 0&&(this._options.withIcon=null,this.dataWithIcon==="true"&&this._appendToggleButton(this._options)),this._options.withIcon&&this._appendToggleButton(this._options))}},{key:"_appendToggleButton",value:function(){var d=function(p,M){return p=p.iconClass,`
  <button id="`.concat(M,`" tabindex="0" type="button" class="timepicker-toggle-button" data-mdb-toggle="timepicker"  >
    <i class="`).concat(p,`"></i>
  </button>
`)}(this._options,this._toggleButtonId);this.input.insertAdjacentHTML("afterend",d)}},{key:"_getDomElements",value:function(){this._hour=we.findOne(".".concat($l)),this._minutes=we.findOne(".".concat(D0)),this._AM=we.findOne(".".concat(kS)),this._PM=we.findOne(".".concat(NS)),this._wrapper=we.findOne(".".concat(Cf)),this._modal=we.findOne(".".concat(I0)),this._hand=we.findOne(".".concat(Mf)),this._circle=we.findOne(".".concat(wf)),this._clock=we.findOne(".".concat(Ks)),this._clockInner=we.findOne(".".concat(Aa))}},{key:"_handlerMaxMinHoursOptions",value:function(d,p,M,A,L,H){var B=M!==""?30*M:"",Q=A!==""?30*A:"";if(M!==""&&A!==""){if((d=d<=0?360+d:d)<=B&&Q<=d)return p()}else if(A!==""){if(d<=0&&(d=360+d),(Q=12<Number(A)?30*A-Q:Q)<=d&&H===void 0)return p();if(H!==void 0){if(H==="PM"&&this._isAmEnabled)return;if(H==="PM"&&this._isPmEnabled&&Q<=d||H==="AM"&&this._isPmEnabled||H==="AM"&&this._isAmEnabled&&Q<=d)return p()}}else{if(M===""||(d=d<=0?360+d:d)<=B&&L===void 0)return p();if(L!==void 0){if(L==="AM"&&this._isPmEnabled)return;if(L==="AM"&&this._isAmEnabled&&d<=B)return p();if(L==="PM"&&this._isPmEnabled){if(d<=B)return p()}else if(L==="PM"&&this._isAmEnabled)return p()}}return p}},{key:"_handleKeyboard",value:function(){var d=this;Ye.on(this._document,"keydown","",function(p){var M,H=d._options,A=H.maxHour,L=H.minHour,H=H.increment,B=we.findOne(".".concat(Nn))!==null,Q=we.findOne(".".concat(nr))!==null,We=Number(d._hand.style.transform.replace(/[^\d-]/g,"")),K=we.find(".".concat(Nn),d._modal),ue=we.find(".".concat(Ti),d._modal),ge=we.find(".".concat(nr),d._modal),me=A!==""?Number(A):"",Se=L!==""?Number(L):"",ie=d._makeHourDegrees(p.target,We,void 0).hour,$e=d._makeHourDegrees(p.target,We,void 0),xe=$e.degrees,Ie=$e.addDegrees,$e=d._makeMinutesDegrees(We,void 0),ze=$e.minute,$e=$e.degrees,at=d._makeMinutesDegrees(We,void 0).addDegrees,We=d._makeInnerHoursDegrees(We,void 0).hour;p.keyCode===27&&(M=we.findOne(".".concat(xf),d._modal),Ye.trigger(M,"click")),B?(p.keyCode===38&&(ee.addStyle(d._hand,{transform:"rotateZ(".concat($e+=at,"deg)")}),ze+=1,H&&(ze+=4)==="0014"&&(ze=5),d._minutes.textContent=d._setHourOrMinute(59<ze?0:ze),d._toggleClassActive(d.minutesArray,d._minutes,K),d._toggleBackgroundColorCircle("".concat(Nn))),p.keyCode===40&&(ee.addStyle(d._hand,{transform:"rotateZ(".concat($e-=at,"deg)")}),H?ze-=5:--ze,ze===-1?ze=59:ze===-5&&(ze=55),d._minutes.textContent=d._setHourOrMinute(ze),d._toggleClassActive(d.minutesArray,d._minutes,K),d._toggleBackgroundColorCircle("".concat(Nn)))):(Q&&(p.keyCode===39&&(d._isInner=!1,ee.addStyle(d._hand,{height:"calc(40% + 1px)"}),d._hour.textContent=d._setHourOrMinute(12<ie?1:ie),d._toggleClassActive(d.hoursArray,d._hour,ue),d._toggleClassActive(d.innerHours,d._hour,ge)),p.keyCode===37&&(d._isInner=!0,ee.addStyle(d._hand,{height:"21.5%"}),d._hour.textContent=d._setHourOrMinute(24<=We||We==="00"?0:We),d._toggleClassActive(d.innerHours,d._hour,ge),d._toggleClassActive(d.hoursArray,d._hour-1,ue))),p.keyCode===38&&(d._handlerMaxMinHoursOptions(xe+30,function(){return ee.addStyle(d._hand,{transform:"rotateZ(".concat(xe+Ie,"deg)")})},A,L),d._isInner?((We+=1)===24?We=0:We!==25&&We!=="001"||(We=13),d._hour.textContent=d._setHourOrMinute(We),d._toggleClassActive(d.innerHours,d._hour,ge)):(ie+=1,A!==""&&L!==""?A<ie?ie=me:ie<L&&(ie=Se):A!==""&&L===""?A<ie&&(ie=me):A===""&&L!==""&&12<=ie&&(ie=12),d._hour.textContent=d._setHourOrMinute(12<ie?1:ie),d._toggleClassActive(d.hoursArray,d._hour,ue))),p.keyCode===40&&(d._handlerMaxMinHoursOptions(xe-30,function(){return ee.addStyle(d._hand,{transform:"rotateZ(".concat(xe-Ie,"deg)")})},A,L),d._isInner?(--We===12?We=0:We===-1&&(We=23),d._hour.textContent=d._setHourOrMinute(We),d._toggleClassActive(d.innerHours,d._hour,ge)):(--ie,A!==""&&L!==""?me<ie?ie=me:ie<Se&&(ie=Se):A===""&&L!==""?ie<=Se&&(ie=Se):A!==""&&L===""&&ie<=1&&(ie=1),d._hour.textContent=d._setHourOrMinute(ie===0?12:ie),d._toggleClassActive(d.hoursArray,d._hour,ue))))})}},{key:"_setActiveClassToTipsOnOpen",value:function(d){var p=this;if(!this._isInvalidTimeFormat){for(var M=arguments.length,A=new Array(1<M?M-1:0),L=1;L<M;L++)A[L-1]=arguments[L];[].concat(A).filter(function(B){return B==="PM"?ee.addClass(p._PM,Vt):B==="AM"?ee.addClass(p._AM,Vt):(ee.removeClass(p._AM,Vt),ee.removeClass(p._PM,Vt)),B});var H=we.find(".".concat(Ti),this._modal);this._addActiveClassToTip(H,d)}}},{key:"_setTipsAndTimesDependOnInputValue",value:function(d,p){var A=this._options,M=A.inline,A=A.format12;this._isInvalidTimeFormat?(this._hour.textContent="12",this._minutes.textContent="00",M||ee.addStyle(this._hand,{transform:"rotateZ(0deg)"}),A&&ee.addClass(this._PM,Vt)):(A=12<d?30*d-360:30*d,this._hour.textContent=d,this._minutes.textContent=p,M||(ee.addStyle(this._hand,{transform:"rotateZ(".concat(A,"deg)")}),ee.addStyle(this._circle,{backgroundColor:"#1976d2"}),(12<Number(d)||d==="00")&&ee.addStyle(this._hand,{height:"21.5%"})))}},{key:"_listenToToggleKeydown",value:function(){var d=this;Ye.on(this._element,"keydown","[data-mdb-toggle='".concat(this.toggleElement,"']"),function(p){p.keyCode===13&&(p.preventDefault(),Ye.trigger(d.elementToggle,"click"))})}},{key:"_handleOpen",value:function(){var d=this;Ea(this._element,"click","[data-mdb-toggle='".concat(this.toggleElement,"']"),function(p){var M;d._options!==null&&(M=ee.getDataAttribute(d.input,"toggle")!==null?200:0,setTimeout(function(){ee.addStyle(d.elementToggle,{pointerEvents:"none"}),d.elementToggle.blur(),We=ni(d.input)[0]===""?["12","00","PM"]:ni(d.input);var A,L,H,B,Q,K,ue,ge,me,Se,ze=d._options,ie=ze.modalID,xe=ze.inline,Ie=ze.format12,ze=ze.overflowHidden,We=Gl(We,3),$e=We[0],at=We[1],We=We[2],Qe=qs("div");(12<Number($e)||$e==="00")&&(d._isInner=!0),d.input.blur(),p.target.blur(),Qe.innerHTML=(A=d._options,L=A.okLabel,H=A.cancelLabel,Se=A.headID,B=A.footerID,Q=A.bodyID,me=A.pickerID,K=A.clearLabel,ue=A.showClearBtn,ge=A.amLabel,A=A.pmLabel,"<div id='".concat(me,`' class='timepicker-wrapper h-full flex items-center justify-center flex-col fixed'>
      <div class="flex items-center justify-center flex-col timepicker-container">
        <div class="flex flex-col timepicker-elements justify-around">
        <div id='`).concat(Se,`' class='timepicker-head flex flex-row items-center justify-center'>
        <div class='timepicker-head-content flex w-100 justify-evenly'>
            <div class="timepicker-current-wrapper">
              <span class="relative h-100">
                <button type='button' class='timepicker-current timepicker-hour active ripple' tabindex="0">21</button>
              </span>
              <button type='button' class='timepicker-dot' disabled>:</button>
            <span class="relative h-100">
              <button type='button' class='timepicker-current timepicker-minute ripple' tabindex="0">21</button>
            </span>
            </div>
            <div class="flex flex-col justify-center timepicker-mode-wrapper">
              <button type='button' class="timepicker-hour-mode timepicker-am ripple" tabindex="0">`).concat(ge,`</button>
              <button class="timepicker-hour-mode timepicker-pm ripple" tabindex="0">`).concat(A,`</button>
            </div>
        </div>
      </div>
      <div id='`).concat(Q,`' class='timepicker-clock-wrapper flex justify-center flex-col items-center'>
        <div class='timepicker-clock'>
          <span class='timepicker-middle-dot absolute'></span>
          <div class='timepicker-hand-pointer absolute'>
            <div class='timepicker-circle absolute'></div>
          </div>
        </div>
      </div>
    </div>
    <div id='`).concat(B,`' class='timepicker-footer'>
      <div class="w-full flex justify-between">
        `).concat(ue?`<button type='button' class='timepicker-button timepicker-clear ripple' tabindex="0">`.concat(K,"</button>"):"",`
        <button type='button' class='timepicker-button timepicker-cancel ripple' tabindex="0">`).concat(H,`</button>
        <button type='button' class='timepicker-button timepicker-submit ripple' tabindex="0">`).concat(L,`</button>
      </div>
    </div>
  </div>
</div>`)),ee.addClass(Qe,I0),Qe.setAttribute("role","dialog"),Qe.setAttribute("tabIndex","-1"),Qe.setAttribute("id",ie),xe&&(d._popper=aa(d.input,Qe,{placement:"bottom-start"})),d._document.body.appendChild(Qe),d._getDomElements(),d._toggleBackdropAnimation(),d._setActiveClassToTipsOnOpen($e,at,We),d._appendTimes(),d._setActiveClassToTipsOnOpen($e,at,We),d._setTipsAndTimesDependOnInputValue($e,at),d.input.value===""&&(me=we.find(".".concat(Ti),d._modal),Ie&&ee.addClass(d._PM,Vt),d._hour.textContent="12",d._minutes.textContent="00",d._addActiveClassToTip(me,Number(d._hour.textContent))),d._handleSwitchTimeMode(),d._handleOkButton(),d._handleClose(),xe?(d._handleHoverInlineBtn(),d._handleDocumentClickInline(),d._handleInlineClicks()):(d._handleSwitchHourMinute(),d._handleClockClick(),d._handleKeyboard(),ee.addStyle(d._hour,{pointerEvents:"none"}),ee.addStyle(d._minutes,{pointerEvents:""})),ze&&(Se=window.innerWidth>document.documentElement.clientWidth,ee.addStyle(d._document.body,{overflow:"hidden"}),!Zs()&&Se&&ee.addStyle(d._document.body,{paddingRight:"15px"})),d._focusTrap=new h0(d._wrapper,{event:"keydown",condition:function(Pt){return Pt.key==="Tab"}}),d._focusTrap.trap()},M))})}},{key:"_handleInlineClicks",value:function(){var d=this;Ea(this._modal,"click mousedown mouseup touchstart touchend contextmenu",".".concat(P0,", .").concat(A0),function(ue){function M(xe){xe=ie(xe),d._hour.textContent=d._setHourOrMinute(xe)}function A(xe){xe=Se(xe),d._minutes.textContent=d._setHourOrMinute(xe)}function L(){M(ge+=1)}function H(){A(me+=1)}function B(){M(--ge)}function Q(){A(--me)}var K=ue.target,ue=ue.type,ge=Number(d._hour.textContent),me=Number(d._minutes.textContent),Se=function(xe){return 59<xe?xe=0:xe<0&&(xe=59),xe},ie=function(xe){return 12<xe?xe=1:xe<1&&(xe=12),xe=12<xe?1:xe};ee.hasClass(K,P0)?ee.hasClass(K.parentNode,O0)?ue==="mousedown"||ue==="touchstart"?(clearInterval(d._interval),d._interval=setInterval(L,100)):ue==="mouseup"||ue==="touchend"||ue==="contextmenu"?clearInterval(d._interval):L():ue==="mousedown"||ue==="touchstart"?(clearInterval(d._interval),d._interval=setInterval(H,100)):ue==="mouseup"||ue==="touchend"||ue==="contextmenu"?clearInterval(d._interval):H():ee.hasClass(K,A0)&&(ee.hasClass(K.parentNode,O0)?ue==="mousedown"||ue==="touchstart"?(clearInterval(d._interval),d._interval=setInterval(B,100)):ue==="mouseup"||ue==="touchend"?clearInterval(d._interval):B():ue==="mousedown"||ue==="touchstart"?(clearInterval(d._interval),d._interval=setInterval(Q,100)):ue==="mouseup"||ue==="touchend"?clearInterval(d._interval):Q())})}},{key:"_handleClose",value:function(){var d=this;Ye.on(this._modal,"click",".".concat(Cf,", .").concat(xf,", .").concat(T0),function(B){function M(){ee.addStyle(d.elementToggle,{pointerEvents:"auto"}),d._toggleBackdropAnimation(!0),d._removeModal(),d._focusTrap.disable(),d._focusTrap=null,d.elementToggle?d.elementToggle.focus():d.input&&d.input.focus()}var A,L,H,B=B.target,Q=d._options.closeModalOnBackdropClick;ee.hasClass(B,T0)?(d.input.value="",ee.removeClass(d.input,"active"),H=ni(d.input)[0]===""?["12","00","PM"]:ni(d.input),A=(H=Gl(H,3))[0],L=H[1],H=H[2],d._setTipsAndTimesDependOnInputValue("12","00"),d._setActiveClassToTipsOnOpen(A,L,H),d._hour.click()):(ee.hasClass(B,xf)||ee.hasClass(B,Cf)&&Q)&&M()})}},{key:"showValueInput",value:function(){return this.input.value}},{key:"_handleOkButton",value:function(){var d=this;Ea(this._modal,"click",".".concat(E0),function(){var M=d._options,p=M.readOnly,M=M.focusInputAfterApprove,A=d._document.querySelector(".".concat(jl,".").concat(Vt)),L="".concat(d._hour.textContent,":").concat(d._minutes.textContent);ee.addClass(d.input,"active"),ee.addStyle(d.elementToggle,{pointerEvents:"auto"}),d._isInvalidTimeFormat&&ee.removeClass(d.input,"is-invalid"),!p&&M&&d.input.focus(),ee.addStyle(d.elementToggle,{pointerEvents:"auto"}),d.input.value=A===null?"".concat(L," PM"):"".concat(L," ").concat(A.textContent),d._toggleBackdropAnimation(!0),d._removeModal(),Ye.trigger(d.input,"input.mdb.timepicker")})}},{key:"_handleHoverInlineBtn",value:function(){var d=this;Ea(this._modal,"mouseover mouseleave",".".concat(IS),function(A){var M=A.type,A=A.target,L=we.find(".".concat(LS),d._modal),H=we.find(".".concat(RS),d._modal);M==="mouseover"?ee.hasClass(A,$l)?L.forEach(function(B){return ee.addClass(B,Vt)}):H.forEach(function(B){return ee.addClass(B,Vt)}):ee.hasClass(A,$l)?L.forEach(function(B){return ee.removeClass(B,Vt)}):H.forEach(function(B){return ee.removeClass(B,Vt)})})}},{key:"_handleDocumentClickInline",value:function(){var d=this;Ye.on(document,"click",function(p){p=p.target,!d._modal||d._modal.contains(p)||ee.hasClass(p,"timepicker-icon")||(clearInterval(d._interval),ee.addStyle(d.elementToggle,{pointerEvents:"auto"}),d._removeModal())})}},{key:"_handleSwitchHourMinute",value:function(){var d,p,M=this;d="click",p=Sf,Ye.on(document,d,p,function(A){A=A.target,ee.hasClass(A,"active")||(document.querySelectorAll(p).forEach(function(L){ee.hasClass(L,"active")&&ee.removeClass(L,"active")}),ee.addClass(A,"active"))}),Ye.on(this._modal,"click",Sf,function(){function A(ge,me){B.forEach(function(Se){return Se.remove()}),H.forEach(function(Se){return Se.remove()}),ee.addClass(M._hand,Ef),setTimeout(function(){ee.removeClass(M._hand,Ef)},401),M._getAppendClock(ge,".".concat(Ks),me),setTimeout(function(){var Se,ie;Se=we.find(".".concat(Ti),M._modal),ie=we.find(".".concat(Nn),M._modal),M._addActiveClassToTip(Se,K),M._addActiveClassToTip(ie,ue)},401)}var L=we.find(Sf,M._modal),H=we.find(".".concat(Nn),M._modal),B=we.find(".".concat(Ti),M._modal),Q=we.find(".".concat(nr),M._modal),K=Number(M._hour.textContent),ue=Number(M._minutes.textContent);L.forEach(function(ge){ee.hasClass(ge,Vt)&&(ee.hasClass(ge,D0)?(ee.addClass(M._hand,Ef),ee.addStyle(M._hand,{transform:"rotateZ(".concat(6*M._minutes.textContent,"deg)"),height:"calc(40% + 1px)"}),0<Q.length&&Q.forEach(function(me){return me.remove()}),A(M.minutesArray,"".concat(Nn)),M._hour.style.pointerEvents="",M._minutes.style.pointerEvents="none"):ee.hasClass(ge,$l)&&(ee.addStyle(M._hand,{transform:"rotateZ(".concat(30*M._hour.textContent,"deg)")}),12<Number(M._hour.textContent)?(ee.addStyle(M._hand,{transform:"rotateZ(".concat(30*M._hour.textContent-360,"deg)"),height:"21.5%"}),12<Number(M._hour.textContent)&&ee.addStyle(M._hand,{height:"21.5%"})):ee.addStyle(M._hand,{height:"calc(40% + 1px)"}),0<Q.length&&Q.forEach(function(me){return me.remove()}),A(M.hoursArray,"".concat(Ti)),ee.addStyle(M._hour,{pointerEvents:"none"}),ee.addStyle(M._minutes,{pointerEvents:""})))})})}},{key:"_handleSwitchTimeMode",value:function(){Ye.on(document,"click",".".concat(jl),function(d){d=d.target,ee.hasClass(d,Vt)||(we.find(".".concat(jl)).forEach(function(p){ee.hasClass(p,Vt)&&ee.removeClass(p,Vt)}),ee.addClass(d,Vt))})}},{key:"_handleClockClick",value:function(){var d=this,p=we.findOne(".".concat(C0));Ea(document,"mousedown mouseup mousemove mouseleave mouseover touchstart touchmove touchend","",function(M){Zs()||M.preventDefault();var L=d._options,A=L.maxHour,L=L.minHour,H=M.type,B=M.target,K=d._options,Q=K.closeModalOnMinutesClick,K=K.switchHoursToMinutesOnClick,ue=we.findOne(".".concat(Nn),d._modal)!==null,ge=we.findOne(".".concat(Ti),d._modal)!==null,me=we.findOne(".".concat(nr),d._modal)!==null,Se=we.find(".".concat(Nn),d._modal),xe=y0(M,p),ie=p.offsetWidth/2,xe=Math.atan2(xe.y-ie,xe.x-ie),Ie=(Zs()&&(ze=y0(M,p,!0),xe=Math.atan2(ze.y-ie,ze.x-ie)),null);if(H==="mousedown"||H==="mousemove"||H==="touchmove"||H==="touchstart"?H!=="mousedown"&&H!=="touchstart"&&H!=="touchmove"||(ee.hasClass(B,C0)||ee.hasClass(B,Ks)||ee.hasClass(B,Nn)||ee.hasClass(B,Aa)||ee.hasClass(B,nr)||ee.hasClass(B,Ti)||ee.hasClass(B,wf)||ee.hasClass(B,Mf)||ee.hasClass(B,k0)||ee.hasClass(B,Tf)||ee.hasClass(B,Pa))&&(d._isMouseMove=!0,Zs()&&M.touches&&(ze=M.touches[0].clientX,ie=M.touches[0].clientY,Ie=document.elementFromPoint(ze,ie))):H!=="mouseup"&&H!=="touchend"||(d._isMouseMove=!1,(ee.hasClass(B,Ks)||ee.hasClass(B,Aa)||ee.hasClass(B,nr)||ee.hasClass(B,Ti)||ee.hasClass(B,wf)||ee.hasClass(B,Mf)||ee.hasClass(B,k0)||ee.hasClass(B,Tf)||ee.hasClass(B,Pa))&&(ge||me)&&K&&Ye.trigger(d._minutes,"click"),ue&&Q&&(ze=we.findOne(".".concat(E0),d._modal),Ye.trigger(ze,"click"))),ue){if(ie=Math.trunc(180*xe/Math.PI)+90,H=d._makeMinutesDegrees(ie,void 0),K=H.degrees,Q=H.minute,d._handlerMaxMinMinutesOptions(K,Q)===void 0)return;var ze=d._handlerMaxMinMinutesOptions(K,Q),ue=ze.degrees,ie=ze.minute;if(d._isMouseMove){if(ee.addStyle(d._hand,{transform:"rotateZ(".concat(ue,"deg)")}),ie===void 0)return;d._minutes.textContent=10<=ie||ie==="00"?ie:"0".concat(ie),d._toggleClassActive(d.minutesArray,d._minutes,Se),d._toggleBackgroundColorCircle("".concat(Nn)),d._objWithDataOnChange.degreesMinutes=ue,d._objWithDataOnChange.minutes=ie}}if(ge||me){var $e=Math.trunc(180*xe/Math.PI)+90,$e=30*Math.round($e/30);if(ee.addStyle(d._circle,{backgroundColor:"#1976d2"}),d._makeHourDegrees(B,$e,void 0)===void 0)return;d._objWithDataOnChange.degreesHours=$e,d._handlerMaxMinHoursOptions($e,function(){var at,We;return Zs()&&$e?(at=(We=d._makeHourDegrees(Ie,$e,void 0)).degrees,We=We.hour,d._handleMoveHand(Ie,We,at)):(at=(We=d._makeHourDegrees(B,$e,void 0)).degrees,We=We.hour,d._handleMoveHand(B,We,at))},A,L)}M.stopPropagation()})}},{key:"_handleMoveHand",value:function(d,p,M){var A=we.find(".".concat(Ti),this._modal),L=we.find(".".concat(nr),this._modal);this._isMouseMove&&(ee.hasClass(d,Aa)||ee.hasClass(d,nr)||ee.hasClass(d,Pa)?ee.addStyle(this._hand,{height:"21.5%"}):ee.addStyle(this._hand,{height:"calc(40% + 1px)"}),ee.addStyle(this._hand,{transform:"rotateZ(".concat(M,"deg)")}),this._hour.textContent=10<=p||p==="00"?p:"0".concat(p),this._toggleClassActive(this.hoursArray,this._hour,A),this._toggleClassActive(this.innerHours,this._hour,L),this._objWithDataOnChange.hour=10<=p||p==="00"?p:"0".concat(p))}},{key:"_handlerMaxMinMinutesOptions",value:function(d,p){var L=this._options,M=L.increment,A=L.maxTime,L=L.minTime,ue=ni(A,!1)[1],ge=ni(L,!1)[1],H=ni(A,!1)[0],B=ni(L,!1)[0],Q=ni(A,!1)[2],K=ni(L,!1)[2],ue=ue!==""?6*ue:"",ge=ge!==""?6*ge:"";if(Q===void 0&&K===void 0){if(A!==""&&L!==""){if(d<=ue&&ge<=d)return d}else if(L!==""&&Number(this._hour.textContent)<=Number(B)){if(d<=ge-6)return d}else if(A!==""&&Number(this._hour.textContent)>=Number(H)&&ue+6<=d)return d}else if(L!==""){if(K==="PM"&&this._isAmEnabled)return;if(K==="PM"&&this._isPmEnabled){if(Number(this._hour.textContent)<Number(B))return;if(Number(this._hour.textContent)<=Number(B)&&d<=ge-6)return d}else if(K==="AM"&&this._isAmEnabled){if(Number(this._hour.textContent)<Number(B))return;if(Number(this._hour.textContent)<=Number(B)&&d<=ge-6)return d}}else if(A!==""){if(Q==="AM"&&this._isPmEnabled)return;if(Q==="PM"&&this._isPmEnabled){if(Number(this._hour.textContent)>=Number(H)&&ue+6<=d)return d}else if(Q==="AM"&&this._isAmEnabled&&Number(this._hour.textContent)>=Number(H)&&ue+6<=d)return d}return(d=M?30*Math.round(d/30):d)<=0?d=360+d:360<=d&&(d=0),{degrees:d,minute:p}}},{key:"_removeModal",value:function(){var d=this;setTimeout(function(){d._modal.remove(),ee.addStyle(d._document.body,{overflow:""}),Zs()||ee.addStyle(d._document.body,{paddingRight:""})},300),vS(this._document,"click keydown mousedown mouseup mousemove mouseleave mouseover touchmove touchend")}},{key:"_toggleBackdropAnimation",value:function(){0<arguments.length&&arguments[0]!==void 0&&arguments[0]?(ee.addClass(this._wrapper,"animation"),ee.addClass(this._wrapper,"fade-out"),this._wrapper.style.animationDuration="300ms"):(ee.addClass(this._wrapper,"animation"),ee.addClass(this._wrapper,"fade-in"),this._wrapper.style.animationDuration="300ms",this._options.inline||ee.addClass(this._clock,DS))}},{key:"_addActiveClassToTip",value:function(d,p){d.forEach(function(M){Number(M.textContent)===Number(p)&&ee.addClass(M,Vt)})}},{key:"_setHourOrMinute",value:function(d){return d<10?"0".concat(d):d}},{key:"_appendTimes",value:function(){this._getAppendClock(this.hoursArray,".".concat(Ks),"".concat(Ti))}},{key:"_getConfig",value:function(d){var p=ee.getDataAttributes(this._element);return d=_f(_f(_f({},FS),p),d),Dl(_t,d,BS),d}}])&&M0(m.prototype,b),x&&M0(m,x),Object.defineProperty(m,"prototype",{writable:!1}),g}(),Oe=Af;function L0(g){return(L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function R0(g,m){var b,x=Object.keys(g);return Object.getOwnPropertySymbols&&(b=Object.getOwnPropertySymbols(g),m&&(b=b.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),x.push.apply(x,b)),x}function Pf(g){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?R0(Object(b),!0).forEach(function(x){var d,p;d=g,p=b[x=x],x in d?Object.defineProperty(d,x,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[x]=p}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):R0(Object(b)).forEach(function(x){Object.defineProperty(g,x,Object.getOwnPropertyDescriptor(b,x))})}return g}function N0(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}Ye.on(window,"DOMContentLoaded",function(){we.find(".".concat(_t)).forEach(function(g){var m=Af.getInstance(g);m||new Af(g)})});var di="stepper",ql="mdb.stepper",to=".".concat(ql),Qs="horizontal",Ei="vertical",US={stepperType:"string",stepperLinear:"boolean",stepperNoEditable:"boolean",stepperActive:"string",stepperCompleted:"string",stepperInvalid:"string",stepperDisabled:"string",stepperVerticalBreakpoint:"number",stepperMobileBreakpoint:"number",stepperMobileBarBreakpoint:"number"},HS={stepperType:Qs,stepperLinear:!1,stepperNoEditable:!1,stepperActive:"",stepperCompleted:"",stepperInvalid:"",stepperDisabled:"",stepperVerticalBreakpoint:0,stepperMobileBreakpoint:0,stepperMobileBarBreakpoint:4},z0="mousedown".concat(to),F0="keydown".concat(to),VS="keyup".concat(to),B0="resize".concat(to),U0="animationend",rs="".concat(di,"-step"),zn="".concat(di,"-head"),pi="".concat(di,"-content"),eo="".concat(di,"-active"),WS="".concat(di,"-completed"),GS="".concat(di,"-invalid"),$S="".concat(di,"-disabled"),Of="".concat(di,"-").concat(Ei),kf="".concat(di,"-content-hide"),H0="".concat(di,"-").concat(Qs),Df=function(){function g(d,p){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._element=d,this._options=this._getConfig(p),this._elementHeight=0,this._steps=we.find(".".concat(rs),this._element),this._currentView="",this._activeStepIndex=0,this._verticalStepperStyles=[],this._element&&(ei.setData(d,ql,this),this._init())}var m,b,x;return m=g,x=[{key:"NAME",get:function(){return di}},{key:"getInstance",value:function(d){return ei.getData(d,ql)}},{key:"getOrCreateInstance",value:function(d){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(d)||new this(d,L0(p)==="object"?p:null)}}],(b=[{key:"activeStep",get:function(){return this._steps[this._activeStepIndex]}},{key:"activeStepIndex",get:function(){return this._activeStepIndex}},{key:"dispose",value:function(){this._steps.forEach(function(d){Ye.off(d,z0),Ye.off(d,F0)}),Ye.off(window,B0),ei.removeData(this._element,ql),this._element=null}},{key:"changeStep",value:function(d){this._toggleStep(d)}},{key:"nextStep",value:function(){this._toggleStep(this._activeStepIndex+1)}},{key:"previousStep",value:function(){this._toggleStep(this._activeStepIndex-1)}},{key:"_init",value:function(){var d=we.findOne(".".concat(eo),this._element);d?this._activeStepIndex=this._steps.indexOf(d):this._toggleStepClass(this._activeStepIndex,"add",eo),this._toggleStepClass(this._activeStepIndex,"add",this._options.stepperActive),this._bindMouseDown(),this._bindKeysNavigation(),this._options.stepperType===Ei?this._toggleVertical():this._toggleHorizontal(),(this._options.stepperVerticalBreakpoint||this._options.stepperMobileBreakpoint)&&this._toggleStepperView(),this._bindResize()}},{key:"_getConfig",value:function(d){var p=ee.getDataAttributes(this._element);return d=Pf(Pf(Pf({},HS),p),d),Dl(di,d,US),d}},{key:"_bindMouseDown",value:function(){var d=this;this._steps.forEach(function(p){p=we.findOne(".".concat(zn),p),Ye.on(p,z0,function(M){var A=we.parents(M.target,".".concat(rs))[0],A=d._steps.indexOf(A);M.preventDefault(),d._toggleStep(A)})})}},{key:"_bindResize",value:function(){var d=this;Ye.on(window,B0,function(){d._currentView===Ei&&d._setSingleStepHeight(d.activeStep),d._currentView===Qs&&d._setHeight(d.activeStep),(d._options.stepperVerticalBreakpoint||d._options.stepperMobileBreakpoint)&&d._toggleStepperView()})}},{key:"_toggleStepperView",value:function(){var d=this,p=this._options.stepperVerticalBreakpoint<window.innerWidth,M=this._options.stepperVerticalBreakpoint>window.innerWidth,A=this._options.stepperMobileBreakpoint>window.innerWidth;p&&this._currentView!==Qs&&this._toggleHorizontal(),M&&!A&&this._currentView!==Ei&&(this._steps.forEach(function(L){L=we.findOne(".".concat(pi),L),d._resetStepperHeight(),d._showElement(L)}),this._toggleVertical())}},{key:"_toggleStep",value:function(d){this._activeStepIndex!==d&&(this._options.stepperNoEditable&&this._toggleDisabled(),this._showElement(we.findOne(".".concat(pi),this._steps[d])),this._toggleActive(d),d>this._activeStepIndex&&this._toggleCompleted(this._activeStepIndex),this._currentView===Qs?this._animateHorizontalStep(d):(this._animateVerticalStep(d),this._setSingleStepHeight(this._steps[d])),this._toggleStepTabIndex(we.findOne(".".concat(zn),this.activeStep),we.findOne(".".concat(zn),this._steps[d])),this._activeStepIndex=d)}},{key:"_resetStepperHeight",value:function(){this._element.style.height=""}},{key:"_setStepsHeight",value:function(){var d=this;this._steps.forEach(function(M){var M=we.findOne(".".concat(pi),M),A=window.getComputedStyle(M),A=(d._verticalStepperStyles.push({paddingTop:parseFloat(A.paddingTop),paddingBottom:parseFloat(A.paddingBottom)}),M.scrollHeight);M.style.height="".concat(A,"px")})}},{key:"_setSingleStepHeight",value:function(M){var p=we.findOne(".".concat(pi),M),A=this.activeStep===M,M=this._steps.indexOf(M),A=A?(p.style.height="",p.scrollHeight):p.scrollHeight+this._verticalStepperStyles[M].paddingTop+this._verticalStepperStyles[M].paddingBottom;p.style.height="".concat(A,"px")}},{key:"_toggleVertical",value:function(){this._currentView=Ei,this._toggleStepperClass(Of),this._setStepsHeight(),this._hideInactiveSteps()}},{key:"_toggleHorizontal",value:function(){this._currentView=Qs,this._toggleStepperClass(H0),this._setHeight(this.activeStep),this._hideInactiveSteps()}},{key:"_toggleStepperClass",value:function(d){this._element.classList.remove(H0,Of),this._element.classList.add(d),d!==Of&&this._steps.forEach(function(p){we.findOne(".".concat(pi),p).classList.remove(kf)})}},{key:"_toggleStepClass",value:function(d,p,M){M&&this._steps[d].classList[p](M)}},{key:"_bindKeysNavigation",value:function(){var d=this;this._toggleStepTabIndex(!1,we.findOne(".".concat(zn),this.activeStep)),this._steps.forEach(function(p){p=we.findOne(".".concat(zn),p),Ye.on(p,F0,function(M){var A=we.parents(M.currentTarget,".".concat(rs))[0],L=we.next(A,".".concat(rs))[0],H=we.prev(A,".".concat(rs))[0],B=we.findOne(".".concat(zn),A),Q=we.findOne(".".concat(zn),d.activeStep),K=null,ue=null;L&&(K=we.findOne(".".concat(zn),L)),H&&(ue=we.findOne(".".concat(zn),H)),M.keyCode===37&&d._currentView!==Ei&&(ue?(d._toggleStepTabIndex(B,ue),d._toggleOutlineStyles(B,ue),ue.focus()):K&&(d._toggleStepTabIndex(B,K),d._toggleOutlineStyles(B,K),K.focus())),M.keyCode===39&&d._currentView!==Ei&&(K?(d._toggleStepTabIndex(B,K),d._toggleOutlineStyles(B,K),K.focus()):ue&&(d._toggleStepTabIndex(B,ue),d._toggleOutlineStyles(B,ue),ue.focus())),M.keyCode===40&&d._currentView===Ei&&(M.preventDefault(),K&&(d._toggleStepTabIndex(B,K),d._toggleOutlineStyles(B,K),K.focus())),M.keyCode===38&&d._currentView===Ei&&(M.preventDefault(),ue&&(d._toggleStepTabIndex(B,ue),d._toggleOutlineStyles(B,ue),ue.focus())),M.keyCode===36&&(L=we.findOne(".".concat(zn),d._steps[0]),d._toggleStepTabIndex(B,L),d._toggleOutlineStyles(B,L),L.focus()),M.keyCode===35&&(H=d._steps[d._steps.length-1],K=we.findOne(".".concat(zn),H),d._toggleStepTabIndex(B,K),d._toggleOutlineStyles(B,K),K.focus()),M.keyCode!==13&&M.keyCode!==32||(M.preventDefault(),d.changeStep(d._steps.indexOf(A))),M.keyCode===9&&(d._toggleStepTabIndex(B,Q),d._toggleOutlineStyles(B,!1),Q.focus())}),Ye.on(p,VS,function(M){var A=we.parents(M.currentTarget,".".concat(rs))[0],A=we.findOne(".".concat(zn),A),L=we.findOne(".".concat(zn),d.activeStep);M.keyCode===9&&(d._toggleStepTabIndex(A,L),d._toggleOutlineStyles(!1,L),L.focus())})})}},{key:"_toggleStepTabIndex",value:function(d,p){d&&d.setAttribute("tabIndex",-1),p&&p.setAttribute("tabIndex",0)}},{key:"_toggleOutlineStyles",value:function(d,p){d&&(d.style.outline=""),p&&(p.style.outline="revert")}},{key:"_toggleDisabled",value:function(){this._toggleStepClass(this._activeStepIndex,"add",$S),this._toggleStepClass(this._activeStepIndex,"add",this._options.stepperDisabled)}},{key:"_toggleActive",value:function(d){this._toggleStepClass(d,"add",eo),this._toggleStepClass(this._activeStepIndex,"remove",eo),this._toggleStepClass(d,"add",this._options.stepperActive),this._toggleStepClass(this._activeStepIndex,"remove",this._options.stepperActive)}},{key:"_toggleCompleted",value:function(d){this._toggleStepClass(d,"add",WS),this._toggleStepClass(d,"remove",GS),this._toggleStepClass(d,"add",this._options.stepperCompleted),this._toggleStepClass(d,"remove",this._options.stepperInvalid)}},{key:"_hideInactiveSteps",value:function(){var d=this;this._steps.forEach(function(p){p.classList.contains(eo)||d._hideElement(we.findOne(".".concat(pi),p))})}},{key:"_setHeight",value:function(p){var A=we.findOne(".".concat(pi),p),L=getComputedStyle(A),p=we.findOne(".".concat(zn),p),M=getComputedStyle(p),A=A.offsetHeight+parseFloat(L.marginTop)+parseFloat(L.marginBottom),L=p.offsetHeight+parseFloat(M.marginTop)+parseFloat(M.marginBottom);this._element.style.height="".concat(L+A,"px")}},{key:"_hideElement",value:function(d){we.parents(d,".".concat(rs))[0].classList.contains(eo)||this._currentView===Ei?d.classList.add(kf):d.style.display="none"}},{key:"_showElement",value:function(d){this._currentView===Ei?d.classList.remove(kf):d.style.display="block"}},{key:"_animateHorizontalStep",value:function(d){var p,M=this,A=d>this._activeStepIndex,L=we.findOne(".".concat(pi),this._steps[d]),H=we.findOne(".".concat(pi),this.activeStep);this._steps.forEach(function(B,Q){B=we.findOne(".".concat(pi),B),M._clearStepAnimation(B),Q!==d&&Q!==M._activeStepIndex&&M._hideElement(B)}),A=A?(p="slide-out-left","slide-in-right"):(p="slide-out-right","slide-in-left"),H.classList.add(p,"animation","fast"),L.classList.add(A,"animation","fast"),this._setHeight(this._steps[d]),Ye.one(H,U0,function(B){M._clearStepAnimation(B.target),M._hideElement(B.target)}),Ye.one(L,U0,function(B){M._clearStepAnimation(B.target)})}},{key:"_animateVerticalStep",value:function(p){var p=we.findOne(".".concat(pi),this._steps[p]),M=we.findOne(".".concat(pi),this.activeStep);this._hideElement(M),this._showElement(p)}},{key:"_clearStepAnimation",value:function(d){d.classList.remove("slide-out-left","slide-in-right","slide-out-right","slide-in-left","animation","fast")}}])&&N0(m.prototype,b),x&&N0(m,x),Object.defineProperty(m,"prototype",{writable:!1}),g}(),to=(we.find('[data-mdb-stepper="stepper"]').forEach(function(g){return Df.getInstance(g)||new Df(g)}),Df);window.Alert=Ht,window.Button=V,window.Dropdown=fa,window.Carousel=El,window.Collapse=xl,window.Offcanvas=tn,window.Modal=$s,window.Popover=Lt,window.ScrollSpy=vt,window.Tab=tr,window.Toast=hi,window.Tooltip=Pl,window.Ripple=wS,window.Datepicker=Js,window.Timepicker=Oe,window.Stepper=to}]);var ww=no(h_()),Sw=no(d_()),Mw=no(p_()),Tw=no(m_()),Ew=no(__()),Cw=no(C_());var Cd="141";var YE=0,A_=1,XE=2;var jy=1,JE=2,za=3,Ua=0,Ii=1,Ao=2,ZE=1;var kr=0,To=1,Tc=2,P_=3,O_=4,KE=5,wo=100,QE=101,eC=102,k_=103,D_=104,tC=200,nC=201,iC=202,rC=203,qy=204,Yy=205,sC=206,oC=207,aC=208,lC=209,cC=210,uC=0,fC=1,hC=2,Uh=3,dC=4,pC=5,mC=6,gC=7,qc=0,vC=1,_C=2,fr=0,yC=1,bC=2,xC=3,wC=4,SC=5,Xy=300,Po=301,Oo=302,Hh=303,Vh=304,Yc=306,Wh=1e3,ki=1001,Gh=1002,Bn=1003,I_=1004;var L_=1005;var gi=1006,MC=1007;var Xc=1008;var ys=1009,TC=1010,EC=1011,Jy=1012,CC=1013,ps=1014,ms=1015,Ha=1016,AC=1017,PC=1018,Eo=1020,OC=1021,kC=1022,Di=1023,DC=1024,IC=1025,vs=1026,ko=1027,LC=1028,RC=1029,NC=1030,zC=1031,FC=1033,ah=33776,lh=33777,ch=33778,uh=33779,R_=35840,N_=35841,z_=35842,F_=35843,BC=36196,B_=37492,U_=37496,H_=37808,V_=37809,W_=37810,G_=37811,$_=37812,j_=37813,q_=37814,Y_=37815,X_=37816,J_=37817,Z_=37818,K_=37819,Q_=37820,ey=37821,ty=36492;var Ec=2300,Cc=2301,fh=2302,ny=2400,iy=2401,ry=2402;var UC=2501;var bs=3e3,Rt=3001,HC=3200,VC=3201,No=0,WC=1;var cr="srgb",gs="srgb-linear";var hh=7680;var GC=519,sy=35044;var oy="300 es",$h=1035,Dr=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let i=this._listeners[e];if(i!==void 0){let s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let n=this._listeners[e.type];if(n!==void 0){e.target=this;let i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}},fn=[];for(let r=0;r<256;r++)fn[r]=(r<16?"0":"")+r.toString(16);var dh=Math.PI/180,ay=180/Math.PI;function qa(){let r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(fn[r&255]+fn[r>>8&255]+fn[r>>16&255]+fn[r>>24&255]+"-"+fn[e&255]+fn[e>>8&255]+"-"+fn[e>>16&15|64]+fn[e>>24&255]+"-"+fn[t&63|128]+fn[t>>8&255]+"-"+fn[t>>16&255]+fn[t>>24&255]+fn[n&255]+fn[n>>8&255]+fn[n>>16&255]+fn[n>>24&255]).toLowerCase()}function Un(r,e,t){return Math.max(e,Math.min(t,r))}function $C(r,e){return(r%e+e)%e}function ph(r,e,t){return(1-t)*r+t*e}function ly(r){return(r&r-1)===0&&r!==0}function jh(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}var Xe=class{constructor(e=0,t=0){this.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*i+e.x,this.y=s*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},_i=class{constructor(){this.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,s,o,a,l,c){let u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=n,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,s=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],u=n[4],h=n[7],f=n[2],y=n[5],w=n[8],_=i[0],v=i[3],S=i[6],C=i[1],T=i[4],E=i[7],k=i[2],O=i[5],R=i[8];return s[0]=o*_+a*C+l*k,s[3]=o*v+a*T+l*O,s[6]=o*S+a*E+l*R,s[1]=c*_+u*C+h*k,s[4]=c*v+u*T+h*O,s[7]=c*S+u*E+h*R,s[2]=f*_+y*C+w*k,s[5]=f*v+y*T+w*O,s[8]=f*S+y*E+w*R,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-n*s*u+n*a*l+i*s*c-i*o*l}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,f=a*l-u*s,y=c*s-o*l,w=t*h+n*f+i*y;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);let _=1/w;return e[0]=h*_,e[1]=(i*c-u*n)*_,e[2]=(a*n-i*o)*_,e[3]=f*_,e[4]=(u*t-i*l)*_,e[5]=(i*s-a*t)*_,e[6]=y*_,e[7]=(n*l-c*t)*_,e[8]=(o*t-n*s)*_,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,s,o,a){let l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){let n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){let t=Math.cos(e),n=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*s+n*l,i[3]=t*o+n*c,i[6]=t*a+n*u,i[1]=-n*s+t*l,i[4]=-n*o+t*c,i[7]=-n*a+t*u,this}translate(e,t){let n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}};function Zy(r){for(let e=r.length-1;e>=0;--e)if(r[e]>65535)return!0;return!1}function Va(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function _s(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function Mc(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}var mh={[cr]:{[gs]:_s},[gs]:{[cr]:Mc}},Ci={legacyMode:!0,get workingColorSpace(){return gs},set workingColorSpace(r){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(r,e,t){if(this.legacyMode||e===t||!e||!t)return r;if(mh[e]&&mh[e][t]!==void 0){let n=mh[e][t];return r.r=n(r.r),r.g=n(r.g),r.b=n(r.b),r}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(r,e){return this.convert(r,this.workingColorSpace,e)},toWorkingColorSpace:function(r,e){return this.convert(r,e,this.workingColorSpace)}},Ky={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qt={r:0,g:0,b:0},Ai={h:0,s:0,l:0},nc={h:0,s:0,l:0};function gh(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}function ic(r,e){return e.r=r.r,e.g=r.g,e.b=r.b,e}var tt=class{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=cr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ci.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=gs){return this.r=e,this.g=t,this.b=n,Ci.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=gs){if(e=$C(e,1),t=Un(t,0,1),n=Un(n,0,1),t===0)this.r=this.g=this.b=n;else{let s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=gh(o,s,e+1/3),this.g=gh(o,s,e),this.b=gh(o,s,e-1/3)}return Ci.toWorkingColorSpace(this,i),this}setStyle(e,t=cr){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s,o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Ci.toWorkingColorSpace(this,t),n(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Ci.toWorkingColorSpace(this,t),n(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){let l=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,u=parseInt(s[3],10)/100;return n(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){let s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Ci.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Ci.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=cr){let n=Ky[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=_s(e.r),this.g=_s(e.g),this.b=_s(e.b),this}copyLinearToSRGB(e){return this.r=Mc(e.r),this.g=Mc(e.g),this.b=Mc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=cr){return Ci.fromWorkingColorSpace(ic(this,qt),e),Un(qt.r*255,0,255)<<16^Un(qt.g*255,0,255)<<8^Un(qt.b*255,0,255)<<0}getHexString(e=cr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=gs){Ci.fromWorkingColorSpace(ic(this,qt),t);let n=qt.r,i=qt.g,s=qt.b,o=Math.max(n,i,s),a=Math.min(n,i,s),l,c,u=(a+o)/2;if(a===o)l=0,c=0;else{let h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case n:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-n)/h+2;break;case s:l=(n-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=gs){return Ci.fromWorkingColorSpace(ic(this,qt),t),e.r=qt.r,e.g=qt.g,e.b=qt.b,e}getStyle(e=cr){return Ci.fromWorkingColorSpace(ic(this,qt),e),e!==cr?`color(${e} ${qt.r} ${qt.g} ${qt.b})`:`rgb(${qt.r*255|0},${qt.g*255|0},${qt.b*255|0})`}offsetHSL(e,t,n){return this.getHSL(Ai),Ai.h+=e,Ai.s+=t,Ai.l+=n,this.setHSL(Ai.h,Ai.s,Ai.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ai),e.getHSL(nc);let n=ph(Ai.h,nc.h,t),i=ph(Ai.s,nc.s,t),s=ph(Ai.l,nc.l,t);return this.setHSL(n,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};tt.NAMES=Ky;var ao,Ac=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ao===void 0&&(ao=Va("canvas")),ao.width=e.width,ao.height=e.height;let n=ao.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ao}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=Va("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let i=n.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=_s(s[o]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){let t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(_s(t[n]/255)*255):t[n]=_s(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},Pc=class{constructor(e=null){this.isSource=!0,this.uuid=qa(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(vh(i[o].image)):s.push(vh(i[o]))}else s=vh(i);n.url=s}return t||(e.images[this.uuid]=n),n}};function vh(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?Ac.getDataURL(r):r.data?{data:Array.prototype.slice.call(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var jC=0,Hn=class extends Dr{constructor(e=Hn.DEFAULT_IMAGE,t=Hn.DEFAULT_MAPPING,n=ki,i=ki,s=gi,o=Xc,a=Di,l=ys,c=1,u=bs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:jC++}),this.uuid=qa(),this.name="",this.source=new Pc(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Xe(0,0),this.repeat=new Xe(1,1),this.center=new Xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _i,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Xy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Wh:e.x=e.x-Math.floor(e.x);break;case ki:e.x=e.x<0?0:1;break;case Gh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Wh:e.y=e.y-Math.floor(e.y);break;case ki:e.y=e.y<0?0:1;break;case Gh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};Hn.DEFAULT_IMAGE=null;Hn.DEFAULT_MAPPING=Xy;var sn=class{constructor(e=0,t=0,n=0,i=1){this.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,s,l=e.elements,c=l[0],u=l[4],h=l[8],f=l[1],y=l[5],w=l[9],_=l[2],v=l[6],S=l[10];if(Math.abs(u-f)<.01&&Math.abs(h-_)<.01&&Math.abs(w-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(h+_)<.1&&Math.abs(w+v)<.1&&Math.abs(c+y+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let T=(c+1)/2,E=(y+1)/2,k=(S+1)/2,O=(u+f)/4,R=(h+_)/4,P=(w+v)/4;return T>E&&T>k?T<.01?(n=0,i=.707106781,s=.707106781):(n=Math.sqrt(T),i=O/n,s=R/n):E>k?E<.01?(n=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),n=O/i,s=P/i):k<.01?(n=.707106781,i=.707106781,s=0):(s=Math.sqrt(k),n=R/s,i=P/s),this.set(n,i,s,t),this}let C=Math.sqrt((v-w)*(v-w)+(h-_)*(h-_)+(f-u)*(f-u));return Math.abs(C)<.001&&(C=1),this.x=(v-w)/C,this.y=(h-_)/C,this.z=(f-u)/C,this.w=Math.acos((c+y+S-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},gn=class extends Dr{constructor(e,t,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new sn(0,0,e,t),this.scissorTest=!1,this.viewport=new sn(0,0,e,t);let i={width:e,height:t,depth:1};this.texture=new Hn(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:gi,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new Pc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Oc=class extends Hn{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=ki,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var qh=class extends Hn{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=ki,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var qi=class{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerp(e,t,n,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,i)}static slerpFlat(e,t,n,i,s,o,a){let l=n[i+0],c=n[i+1],u=n[i+2],h=n[i+3],f=s[o+0],y=s[o+1],w=s[o+2],_=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=f,e[t+1]=y,e[t+2]=w,e[t+3]=_;return}if(h!==_||l!==f||c!==y||u!==w){let v=1-a,S=l*f+c*y+u*w+h*_,C=S>=0?1:-1,T=1-S*S;if(T>Number.EPSILON){let k=Math.sqrt(T),O=Math.atan2(k,S*C);v=Math.sin(v*O)/k,a=Math.sin(a*O)/k}let E=a*C;if(l=l*v+f*E,c=c*v+y*E,u=u*v+w*E,h=h*v+_*E,v===1-a){let k=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=k,c*=k,u*=k,h*=k}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,i,s,o){let a=n[i],l=n[i+1],c=n[i+2],u=n[i+3],h=s[o],f=s[o+1],y=s[o+2],w=s[o+3];return e[t]=a*w+u*h+l*y-c*f,e[t+1]=l*w+u*f+c*h-a*y,e[t+2]=c*w+u*y+a*f-l*h,e[t+3]=u*w-a*h-l*f-c*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");let n=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(n/2),u=a(i/2),h=a(s/2),f=l(n/2),y=l(i/2),w=l(s/2);switch(o){case"XYZ":this._x=f*u*h+c*y*w,this._y=c*y*h-f*u*w,this._z=c*u*w+f*y*h,this._w=c*u*h-f*y*w;break;case"YXZ":this._x=f*u*h+c*y*w,this._y=c*y*h-f*u*w,this._z=c*u*w-f*y*h,this._w=c*u*h+f*y*w;break;case"ZXY":this._x=f*u*h-c*y*w,this._y=c*y*h+f*u*w,this._z=c*u*w+f*y*h,this._w=c*u*h-f*y*w;break;case"ZYX":this._x=f*u*h-c*y*w,this._y=c*y*h+f*u*w,this._z=c*u*w-f*y*h,this._w=c*u*h+f*y*w;break;case"YZX":this._x=f*u*h+c*y*w,this._y=c*y*h+f*u*w,this._z=c*u*w-f*y*h,this._w=c*u*h-f*y*w;break;case"XZY":this._x=f*u*h-c*y*w,this._y=c*y*h-f*u*w,this._z=c*u*w+f*y*h,this._w=c*u*h+f*y*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],f=n+a+h;if(f>0){let y=.5/Math.sqrt(f+1);this._w=.25/y,this._x=(u-l)*y,this._y=(s-c)*y,this._z=(o-i)*y}else if(n>a&&n>h){let y=2*Math.sqrt(1+n-a-h);this._w=(u-l)/y,this._x=.25*y,this._y=(i+o)/y,this._z=(s+c)/y}else if(a>h){let y=2*Math.sqrt(1+a-n-h);this._w=(s-c)/y,this._x=(i+o)/y,this._y=.25*y,this._z=(l+u)/y}else{let y=2*Math.sqrt(1+h-n-a);this._w=(o-i)/y,this._x=(s+c)/y,this._y=(l+u)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Un(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(n===0)return this;let i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-n*c,this._z=s*u+o*c+n*l-i*a,this._w=o*u-n*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let n=this._x,i=this._y,s=this._z,o=this._w,a=o*e._w+n*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=i,this._z=s,this;let l=1-a*a;if(l<=Number.EPSILON){let y=1-t;return this._w=y*o+t*this._w,this._x=y*n+t*this._x,this._y=y*i+t*this._y,this._z=y*s+t*this._z,this.normalize(),this._onChangeCallback(),this}let c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=o*h+this._w*f,this._x=n*h+this._x*f,this._y=i*h+this._y*f,this._z=s*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(s),n*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},ne=class{constructor(e=0,t=0,n=0){this.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(cy.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(cy.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*i,this.y=s[1]*t+s[4]*n+s[7]*i,this.z=s[2]*t+s[5]*n+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*i+s[14])*o,this}applyQuaternion(e){let t=this.x,n=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*n,u=l*n+a*t-s*i,h=l*i+s*n-o*t,f=-s*t-o*n-a*i;return this.x=c*l+f*-s+u*-a-h*-o,this.y=u*l+f*-o+h*-s-c*-a,this.z=h*l+f*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i,this.y=s[1]*t+s[5]*n+s[9]*i,this.z=s[2]*t+s[6]*n+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-n*l,this.z=n*a-i*o,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return _h.copy(this).projectOnVector(e),this.sub(_h)}reflect(e){return this.sub(_h.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(Un(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},_h=new ne,cy=new qi,xs=class{constructor(e=new ne(1/0,1/0,1/0),t=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){let u=e[l],h=e[l+1],f=e[l+2];u<t&&(t=u),h<n&&(n=h),f<i&&(i=f),u>s&&(s=u),h>o&&(o=h),f>a&&(a=f)}return this.min.set(t,n,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){let u=e.getX(l),h=e.getY(l),f=e.getZ(l);u<t&&(t=u),h<n&&(n=h),f<i&&(i=f),u>s&&(s=u),h>o&&(o=h),f>a&&(a=f)}return this.min.set(t,n,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=cs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){let s=n.attributes.position;for(let o=0,a=s.count;o<a;o++)cs.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(cs)}else n.boundingBox===null&&n.computeBoundingBox(),yh.copy(n.boundingBox),yh.applyMatrix4(e.matrixWorld),this.union(yh);let i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,cs),cs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(La),rc.subVectors(this.max,La),lo.subVectors(e.a,La),co.subVectors(e.b,La),uo.subVectors(e.c,La),Mr.subVectors(co,lo),Tr.subVectors(uo,co),us.subVectors(lo,uo);let t=[0,-Mr.z,Mr.y,0,-Tr.z,Tr.y,0,-us.z,us.y,Mr.z,0,-Mr.x,Tr.z,0,-Tr.x,us.z,0,-us.x,-Mr.y,Mr.x,0,-Tr.y,Tr.x,0,-us.y,us.x,0];return!bh(t,lo,co,uo,rc)||(t=[1,0,0,0,1,0,0,0,1],!bh(t,lo,co,uo,rc))?!1:(sc.crossVectors(Mr,Tr),t=[sc.x,sc.y,sc.z],bh(t,lo,co,uo,rc))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return cs.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(cs).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(rr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),rr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),rr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),rr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),rr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),rr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),rr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),rr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(rr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},rr=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],cs=new ne,yh=new xs,lo=new ne,co=new ne,uo=new ne,Mr=new ne,Tr=new ne,us=new ne,La=new ne,rc=new ne,sc=new ne,fs=new ne;function bh(r,e,t,n,i){for(let s=0,o=r.length-3;s<=o;s+=3){fs.fromArray(r,s);let a=i.x*Math.abs(fs.x)+i.y*Math.abs(fs.y)+i.z*Math.abs(fs.z),l=e.dot(fs),c=t.dot(fs),u=n.dot(fs);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}var qC=new xs,uy=new ne,oc=new ne,xh=new ne,Do=class{constructor(e=new ne,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;t!==void 0?n.copy(t):qC.setFromPoints(e).getCenter(n);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){xh.subVectors(e,this.center);let t=xh.lengthSq();if(t>this.radius*this.radius){let n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.add(xh.multiplyScalar(i/n)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?oc.set(0,0,1).multiplyScalar(e.radius):oc.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(uy.copy(e.center).add(oc)),this.expandByPoint(uy.copy(e.center).sub(oc)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},sr=new ne,wh=new ne,ac=new ne,Er=new ne,Sh=new ne,lc=new ne,Mh=new ne,Wa=class{constructor(e=new ne,t=new ne(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,sr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=sr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(sr.copy(this.direction).multiplyScalar(t).add(this.origin),sr.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){wh.copy(e).add(t).multiplyScalar(.5),ac.copy(t).sub(e).normalize(),Er.copy(this.origin).sub(wh);let s=e.distanceTo(t)*.5,o=-this.direction.dot(ac),a=Er.dot(this.direction),l=-Er.dot(ac),c=Er.lengthSq(),u=Math.abs(1-o*o),h,f,y,w;if(u>0)if(h=o*l-a,f=o*a-l,w=s*u,h>=0)if(f>=-w)if(f<=w){let _=1/u;h*=_,f*=_,y=h*(h+o*f+2*a)+f*(o*h+f+2*l)+c}else f=s,h=Math.max(0,-(o*f+a)),y=-h*h+f*(f+2*l)+c;else f=-s,h=Math.max(0,-(o*f+a)),y=-h*h+f*(f+2*l)+c;else f<=-w?(h=Math.max(0,-(-o*s+a)),f=h>0?-s:Math.min(Math.max(-s,-l),s),y=-h*h+f*(f+2*l)+c):f<=w?(h=0,f=Math.min(Math.max(-s,-l),s),y=f*(f+2*l)+c):(h=Math.max(0,-(o*s+a)),f=h>0?s:Math.min(Math.max(-s,-l),s),y=-h*h+f*(f+2*l)+c);else f=o>0?-s:s,h=Math.max(0,-(o*f+a)),y=-h*h+f*(f+2*l)+c;return n&&n.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(ac).multiplyScalar(f).add(wh),y}intersectSphere(e,t){sr.subVectors(e.center,this.origin);let n=sr.dot(this.direction),i=sr.dot(sr)-n*n,s=e.radius*e.radius;if(i>s)return null;let o=Math.sqrt(s-i),a=n-o,l=n+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,s,o,a,l,c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,f=this.origin;return c>=0?(n=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(n=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),n>o||s>i||((s>n||n!==n)&&(n=s),(o<i||i!==i)&&(i=o),h>=0?(a=(e.min.z-f.z)*h,l=(e.max.z-f.z)*h):(a=(e.max.z-f.z)*h,l=(e.min.z-f.z)*h),n>l||a>i)||((a>n||n!==n)&&(n=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,sr)!==null}intersectTriangle(e,t,n,i,s){Sh.subVectors(t,e),lc.subVectors(n,e),Mh.crossVectors(Sh,lc);let o=this.direction.dot(Mh),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Er.subVectors(this.origin,e);let l=a*this.direction.dot(lc.crossVectors(Er,lc));if(l<0)return null;let c=a*this.direction.dot(Sh.cross(Er));if(c<0||l+c>o)return null;let u=-a*Er.dot(Mh);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Xt=class{constructor(){this.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,s,o,a,l,c,u,h,f,y,w,_,v){let S=this.elements;return S[0]=e,S[4]=t,S[8]=n,S[12]=i,S[1]=s,S[5]=o,S[9]=a,S[13]=l,S[2]=c,S[6]=u,S[10]=h,S[14]=f,S[3]=y,S[7]=w,S[11]=_,S[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xt().fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,i=1/fo.setFromMatrixColumn(e,0).length(),s=1/fo.setFromMatrixColumn(e,1).length(),o=1/fo.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");let t=this.elements,n=e.x,i=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){let f=o*u,y=o*h,w=a*u,_=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=y+w*c,t[5]=f-_*c,t[9]=-a*l,t[2]=_-f*c,t[6]=w+y*c,t[10]=o*l}else if(e.order==="YXZ"){let f=l*u,y=l*h,w=c*u,_=c*h;t[0]=f+_*a,t[4]=w*a-y,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=y*a-w,t[6]=_+f*a,t[10]=o*l}else if(e.order==="ZXY"){let f=l*u,y=l*h,w=c*u,_=c*h;t[0]=f-_*a,t[4]=-o*h,t[8]=w+y*a,t[1]=y+w*a,t[5]=o*u,t[9]=_-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){let f=o*u,y=o*h,w=a*u,_=a*h;t[0]=l*u,t[4]=w*c-y,t[8]=f*c+_,t[1]=l*h,t[5]=_*c+f,t[9]=y*c-w,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){let f=o*l,y=o*c,w=a*l,_=a*c;t[0]=l*u,t[4]=_-f*h,t[8]=w*h+y,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=y*h+w,t[10]=f-_*h}else if(e.order==="XZY"){let f=o*l,y=o*c,w=a*l,_=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=f*h+_,t[5]=o*u,t[9]=y*h-w,t[2]=w*h-y,t[6]=a*u,t[10]=_*h+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(YC,e,XC)}lookAt(e,t,n){let i=this.elements;return ri.subVectors(e,t),ri.lengthSq()===0&&(ri.z=1),ri.normalize(),Cr.crossVectors(n,ri),Cr.lengthSq()===0&&(Math.abs(n.z)===1?ri.x+=1e-4:ri.z+=1e-4,ri.normalize(),Cr.crossVectors(n,ri)),Cr.normalize(),cc.crossVectors(ri,Cr),i[0]=Cr.x,i[4]=cc.x,i[8]=ri.x,i[1]=Cr.y,i[5]=cc.y,i[9]=ri.y,i[2]=Cr.z,i[6]=cc.z,i[10]=ri.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,s=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],u=n[1],h=n[5],f=n[9],y=n[13],w=n[2],_=n[6],v=n[10],S=n[14],C=n[3],T=n[7],E=n[11],k=n[15],O=i[0],R=i[4],P=i[8],D=i[12],z=i[1],I=i[5],F=i[9],j=i[13],U=i[2],W=i[6],G=i[10],N=i[14],$=i[3],q=i[7],J=i[11],re=i[15];return s[0]=o*O+a*z+l*U+c*$,s[4]=o*R+a*I+l*W+c*q,s[8]=o*P+a*F+l*G+c*J,s[12]=o*D+a*j+l*N+c*re,s[1]=u*O+h*z+f*U+y*$,s[5]=u*R+h*I+f*W+y*q,s[9]=u*P+h*F+f*G+y*J,s[13]=u*D+h*j+f*N+y*re,s[2]=w*O+_*z+v*U+S*$,s[6]=w*R+_*I+v*W+S*q,s[10]=w*P+_*F+v*G+S*J,s[14]=w*D+_*j+v*N+S*re,s[3]=C*O+T*z+E*U+k*$,s[7]=C*R+T*I+E*W+k*q,s[11]=C*P+T*F+E*G+k*J,s[15]=C*D+T*j+E*N+k*re,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],f=e[10],y=e[14],w=e[3],_=e[7],v=e[11],S=e[15];return w*(+s*l*h-i*c*h-s*a*f+n*c*f+i*a*y-n*l*y)+_*(+t*l*y-t*c*f+s*o*f-i*o*y+i*c*u-s*l*u)+v*(+t*c*h-t*a*y-s*o*h+n*o*y+s*a*u-n*c*u)+S*(-i*a*u-t*l*h+t*a*f+i*o*h-n*o*f+n*l*u)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],y=e[11],w=e[12],_=e[13],v=e[14],S=e[15],C=h*v*c-_*f*c+_*l*y-a*v*y-h*l*S+a*f*S,T=w*f*c-u*v*c-w*l*y+o*v*y+u*l*S-o*f*S,E=u*_*c-w*h*c+w*a*y-o*_*y-u*a*S+o*h*S,k=w*h*l-u*_*l-w*a*f+o*_*f+u*a*v-o*h*v,O=t*C+n*T+i*E+s*k;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let R=1/O;return e[0]=C*R,e[1]=(_*f*s-h*v*s-_*i*y+n*v*y+h*i*S-n*f*S)*R,e[2]=(a*v*s-_*l*s+_*i*c-n*v*c-a*i*S+n*l*S)*R,e[3]=(h*l*s-a*f*s-h*i*c+n*f*c+a*i*y-n*l*y)*R,e[4]=T*R,e[5]=(u*v*s-w*f*s+w*i*y-t*v*y-u*i*S+t*f*S)*R,e[6]=(w*l*s-o*v*s-w*i*c+t*v*c+o*i*S-t*l*S)*R,e[7]=(o*f*s-u*l*s+u*i*c-t*f*c-o*i*y+t*l*y)*R,e[8]=E*R,e[9]=(w*h*s-u*_*s-w*n*y+t*_*y+u*n*S-t*h*S)*R,e[10]=(o*_*s-w*a*s+w*n*c-t*_*c-o*n*S+t*a*S)*R,e[11]=(u*a*s-o*h*s-u*n*c+t*h*c+o*n*y-t*a*y)*R,e[12]=k*R,e[13]=(u*_*i-w*h*i+w*n*f-t*_*f-u*n*v+t*h*v)*R,e[14]=(w*a*i-o*_*i-w*n*l+t*_*l+o*n*v-t*a*v)*R,e[15]=(o*h*i-u*a*i+u*n*l-t*h*l-o*n*f+t*a*f)*R,this}scale(e){let t=this.elements,n=e.x,i=e.y,s=e.z;return t[0]*=n,t[4]*=i,t[8]*=s,t[1]*=n,t[5]*=i,t[9]*=s,t[2]*=n,t[6]*=i,t[10]*=s,t[3]*=n,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),i=Math.sin(t),s=1-n,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+n,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+n,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,s,o){return this.set(1,n,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){let i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,f=s*c,y=s*u,w=s*h,_=o*u,v=o*h,S=a*h,C=l*c,T=l*u,E=l*h,k=n.x,O=n.y,R=n.z;return i[0]=(1-(_+S))*k,i[1]=(y+E)*k,i[2]=(w-T)*k,i[3]=0,i[4]=(y-E)*O,i[5]=(1-(f+S))*O,i[6]=(v+C)*O,i[7]=0,i[8]=(w+T)*R,i[9]=(v-C)*R,i[10]=(1-(f+_))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){let i=this.elements,s=fo.set(i[0],i[1],i[2]).length(),o=fo.set(i[4],i[5],i[6]).length(),a=fo.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Pi.copy(this);let c=1/s,u=1/o,h=1/a;return Pi.elements[0]*=c,Pi.elements[1]*=c,Pi.elements[2]*=c,Pi.elements[4]*=u,Pi.elements[5]*=u,Pi.elements[6]*=u,Pi.elements[8]*=h,Pi.elements[9]*=h,Pi.elements[10]*=h,t.setFromRotationMatrix(Pi),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");let a=this.elements,l=2*s/(t-e),c=2*s/(n-i),u=(t+e)/(t-e),h=(n+i)/(n-i),f=-(o+s)/(o-s),y=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=y,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,i,s,o){let a=this.elements,l=1/(t-e),c=1/(n-i),u=1/(o-s),h=(t+e)*l,f=(n+i)*c,y=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-y,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},fo=new ne,Pi=new Xt,YC=new ne(0,0,0),XC=new ne(1,1,1),Cr=new ne,cc=new ne,ri=new ne,fy=new Xt,hy=new qi,ws=class{constructor(e=0,t=0,n=0,i=ws.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],h=i[2],f=i[6],y=i[10];switch(t){case"XYZ":this._y=Math.asin(Un(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,y),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Un(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,y),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Un(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,y),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Un(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,y),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Un(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,y));break;case"XZY":this._z=Math.asin(-Un(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return fy.makeRotationFromQuaternion(e),this.setFromRotationMatrix(fy,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return hy.setFromEuler(this),this.setFromQuaternion(hy,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}};ws.DefaultOrder="XYZ";ws.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Ga=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},JC=0,dy=new ne,ho=new qi,or=new Xt,uc=new ne,Ra=new ne,ZC=new ne,KC=new qi,py=new ne(1,0,0),my=new ne(0,1,0),gy=new ne(0,0,1),QC={type:"added"},vy={type:"removed"},Vn=class extends Dr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:JC++}),this.uuid=qa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vn.DefaultUp.clone();let e=new ne,t=new ws,n=new qi,i=new ne(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xt},normalMatrix:{value:new _i}}),this.matrix=new Xt,this.matrixWorld=new Xt,this.matrixAutoUpdate=Vn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ga,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ho.setFromAxisAngle(e,t),this.quaternion.multiply(ho),this}rotateOnWorldAxis(e,t){return ho.setFromAxisAngle(e,t),this.quaternion.premultiply(ho),this}rotateX(e){return this.rotateOnAxis(py,e)}rotateY(e){return this.rotateOnAxis(my,e)}rotateZ(e){return this.rotateOnAxis(gy,e)}translateOnAxis(e,t){return dy.copy(e).applyQuaternion(this.quaternion),this.position.add(dy.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(py,e)}translateY(e){return this.translateOnAxis(my,e)}translateZ(e){return this.translateOnAxis(gy,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(or.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?uc.copy(e):uc.set(e,t,n);let i=this.parent;this.updateWorldMatrix(!0,!1),Ra.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?or.lookAt(Ra,uc,this.up):or.lookAt(uc,Ra,this.up),this.quaternion.setFromRotationMatrix(or),i&&(or.extractRotation(i.matrixWorld),ho.setFromRotationMatrix(or),this.quaternion.premultiply(ho.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(QC)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(vy)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(vy)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),or.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),or.multiply(e.parent.matrixWorld)),e.applyMatrix4(or),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){let o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ra,e,ZC),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ra,KC,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){let n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){let t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);let a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){let l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){let h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){let l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){let a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),f=o(e.skeletons),y=o(e.animations),w=o(e.nodes);a.length>0&&(n.geometries=a),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),h.length>0&&(n.shapes=h),f.length>0&&(n.skeletons=f),y.length>0&&(n.animations=y),w.length>0&&(n.nodes=w)}return n.object=i,n;function o(a){let l=[];for(let c in a){let u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){let i=e.children[n];this.add(i.clone())}return this}};Vn.DefaultUp=new ne(0,1,0);Vn.DefaultMatrixAutoUpdate=!0;var Oi=new ne,ar=new ne,Th=new ne,lr=new ne,po=new ne,mo=new ne,_y=new ne,Eh=new ne,Ch=new ne,Ah=new ne,vi=class{constructor(e=new ne,t=new ne,n=new ne){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Oi.subVectors(e,t),i.cross(Oi);let s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,n,i,s){Oi.subVectors(i,t),ar.subVectors(n,t),Th.subVectors(e,t);let o=Oi.dot(Oi),a=Oi.dot(ar),l=Oi.dot(Th),c=ar.dot(ar),u=ar.dot(Th),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);let f=1/h,y=(c*l-a*u)*f,w=(o*u-a*l)*f;return s.set(1-y-w,w,y)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,lr),lr.x>=0&&lr.y>=0&&lr.x+lr.y<=1}static getUV(e,t,n,i,s,o,a,l){return this.getBarycoord(e,t,n,i,lr),l.set(0,0),l.addScaledVector(s,lr.x),l.addScaledVector(o,lr.y),l.addScaledVector(a,lr.z),l}static isFrontFacing(e,t,n,i){return Oi.subVectors(n,t),ar.subVectors(e,t),Oi.cross(ar).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Oi.subVectors(this.c,this.b),ar.subVectors(this.a,this.b),Oi.cross(ar).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return vi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return vi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,s){return vi.getUV(e,this.a,this.b,this.c,t,n,i,s)}containsPoint(e){return vi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return vi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let n=this.a,i=this.b,s=this.c,o,a;po.subVectors(i,n),mo.subVectors(s,n),Eh.subVectors(e,n);let l=po.dot(Eh),c=mo.dot(Eh);if(l<=0&&c<=0)return t.copy(n);Ch.subVectors(e,i);let u=po.dot(Ch),h=mo.dot(Ch);if(u>=0&&h<=u)return t.copy(i);let f=l*h-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(n).addScaledVector(po,o);Ah.subVectors(e,s);let y=po.dot(Ah),w=mo.dot(Ah);if(w>=0&&y<=w)return t.copy(s);let _=y*c-l*w;if(_<=0&&c>=0&&w<=0)return a=c/(c-w),t.copy(n).addScaledVector(mo,a);let v=u*w-y*h;if(v<=0&&h-u>=0&&y-w>=0)return _y.subVectors(s,i),a=(h-u)/(h-u+(y-w)),t.copy(i).addScaledVector(_y,a);let S=1/(v+_+f);return o=_*S,a=f*S,t.copy(n).addScaledVector(po,o).addScaledVector(mo,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},eA=0,Jt=class extends Dr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:eA++}),this.uuid=qa(),this.name="",this.type="Material",this.blending=To,this.side=Ua,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=qy,this.blendDst=Yy,this.blendEquation=wo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Uh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=GC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=hh,this.stencilZFail=hh,this.stencilZPass=hh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===ZE;continue}let i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==To&&(n.blending=this.blending),this.side!==Ua&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(s){let o=[];for(let a in s){let l=s[a];delete l.metadata,o.push(l)}return o}if(t){let s=i(e.textures),o=i(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(t!==null){let i=t.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}get vertexTangents(){return console.warn("THREE."+this.type+": .vertexTangents has been removed."),!1}set vertexTangents(e){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}};Jt.fromType=function(){return null};var hr=class extends Jt{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=qc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},$t=new ne,fc=new Xe,Ft=class{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=sy,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){let t=this.array,n=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new tt),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}copyVector2sArray(e){let t=this.array,n=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Xe),t[n++]=o.x,t[n++]=o.y}return this}copyVector3sArray(e){let t=this.array,n=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new ne),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}copyVector4sArray(e){let t=this.array,n=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new sn),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)fc.fromBufferAttribute(this,t),fc.applyMatrix3(e),this.setXY(t,fc.x,fc.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)$t.fromBufferAttribute(this,t),$t.applyMatrix3(e),this.setXYZ(t,$t.x,$t.y,$t.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)$t.fromBufferAttribute(this,t),$t.applyMatrix4(e),this.setXYZ(t,$t.x,$t.y,$t.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)$t.fromBufferAttribute(this,t),$t.applyNormalMatrix(e),this.setXYZ(t,$t.x,$t.y,$t.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)$t.fromBufferAttribute(this,t),$t.transformDirection(e),this.setXYZ(t,$t.x,$t.y,$t.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==sy&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}};var kc=class extends Ft{constructor(e,t,n){super(new Uint16Array(e),t,n)}};var Dc=class extends Ft{constructor(e,t,n){super(new Uint32Array(e),t,n)}};var En=class extends Ft{constructor(e,t,n){super(new Float32Array(e),t,n)}};var tA=0,mi=new Xt,Ph=new Vn,go=new ne,si=new xs,Na=new xs,rn=new ne,vn=class extends Dr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:tA++}),this.uuid=qa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Zy(e)?Dc:kc)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(n!==void 0){let s=new _i().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return mi.makeRotationFromQuaternion(e),this.applyMatrix4(mi),this}rotateX(e){return mi.makeRotationX(e),this.applyMatrix4(mi),this}rotateY(e){return mi.makeRotationY(e),this.applyMatrix4(mi),this}rotateZ(e){return mi.makeRotationZ(e),this.applyMatrix4(mi),this}translate(e,t,n){return mi.makeTranslation(e,t,n),this.applyMatrix4(mi),this}scale(e,t,n){return mi.makeScale(e,t,n),this.applyMatrix4(mi),this}lookAt(e){return Ph.lookAt(e),Ph.updateMatrix(),this.applyMatrix4(Ph.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(go).negate(),this.translate(go.x,go.y,go.z),this}setFromPoints(e){let t=[];for(let n=0,i=e.length;n<i;n++){let s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new En(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xs);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){let s=t[n];si.setFromBufferAttribute(s),this.morphTargetsRelative?(rn.addVectors(this.boundingBox.min,si.min),this.boundingBox.expandByPoint(rn),rn.addVectors(this.boundingBox.max,si.max),this.boundingBox.expandByPoint(rn)):(this.boundingBox.expandByPoint(si.min),this.boundingBox.expandByPoint(si.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Do);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ne,1/0);return}if(e){let n=this.boundingSphere.center;if(si.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){let a=t[s];Na.setFromBufferAttribute(a),this.morphTargetsRelative?(rn.addVectors(si.min,Na.min),si.expandByPoint(rn),rn.addVectors(si.max,Na.max),si.expandByPoint(rn)):(si.expandByPoint(Na.min),si.expandByPoint(Na.max))}si.getCenter(n);let i=0;for(let s=0,o=e.count;s<o;s++)rn.fromBufferAttribute(e,s),i=Math.max(i,n.distanceToSquared(rn));if(t)for(let s=0,o=t.length;s<o;s++){let a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)rn.fromBufferAttribute(a,c),l&&(go.fromBufferAttribute(e,c),rn.add(go)),i=Math.max(i,n.distanceToSquared(rn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let n=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ft(new Float32Array(4*a),4));let l=this.getAttribute("tangent").array,c=[],u=[];for(let z=0;z<a;z++)c[z]=new ne,u[z]=new ne;let h=new ne,f=new ne,y=new ne,w=new Xe,_=new Xe,v=new Xe,S=new ne,C=new ne;function T(z,I,F){h.fromArray(i,z*3),f.fromArray(i,I*3),y.fromArray(i,F*3),w.fromArray(o,z*2),_.fromArray(o,I*2),v.fromArray(o,F*2),f.sub(h),y.sub(h),_.sub(w),v.sub(w);let j=1/(_.x*v.y-v.x*_.y);!isFinite(j)||(S.copy(f).multiplyScalar(v.y).addScaledVector(y,-_.y).multiplyScalar(j),C.copy(y).multiplyScalar(_.x).addScaledVector(f,-v.x).multiplyScalar(j),c[z].add(S),c[I].add(S),c[F].add(S),u[z].add(C),u[I].add(C),u[F].add(C))}let E=this.groups;E.length===0&&(E=[{start:0,count:n.length}]);for(let z=0,I=E.length;z<I;++z){let F=E[z],j=F.start,U=F.count;for(let W=j,G=j+U;W<G;W+=3)T(n[W+0],n[W+1],n[W+2])}let k=new ne,O=new ne,R=new ne,P=new ne;function D(z){R.fromArray(s,z*3),P.copy(R);let I=c[z];k.copy(I),k.sub(R.multiplyScalar(R.dot(I))).normalize(),O.crossVectors(P,I);let j=O.dot(u[z])<0?-1:1;l[z*4]=k.x,l[z*4+1]=k.y,l[z*4+2]=k.z,l[z*4+3]=j}for(let z=0,I=E.length;z<I;++z){let F=E[z],j=F.start,U=F.count;for(let W=j,G=j+U;W<G;W+=3)D(n[W+0]),D(n[W+1]),D(n[W+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ft(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let f=0,y=n.count;f<y;f++)n.setXYZ(f,0,0,0);let i=new ne,s=new ne,o=new ne,a=new ne,l=new ne,c=new ne,u=new ne,h=new ne;if(e)for(let f=0,y=e.count;f<y;f+=3){let w=e.getX(f+0),_=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(t,w),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,v),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(n,w),l.fromBufferAttribute(n,_),c.fromBufferAttribute(n,v),a.add(u),l.add(u),c.add(u),n.setXYZ(w,a.x,a.y,a.z),n.setXYZ(_,l.x,l.y,l.z),n.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,y=t.count;f<y;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),n.setXYZ(f+0,u.x,u.y,u.z),n.setXYZ(f+1,u.x,u.y,u.z),n.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));let n=this.attributes;for(let i in n){if(e.attributes[i]===void 0)continue;let o=n[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*t,u=Math.min(l.length,o.length-c);for(let h=0,f=c;h<u;h++,f++)o[f]=l[h]}return this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)rn.fromBufferAttribute(e,t),rn.normalize(),e.setXYZ(t,rn.x,rn.y,rn.z)}toNonIndexed(){function e(a,l){let c=a.array,u=a.itemSize,h=a.normalized,f=new c.constructor(l.length*u),y=0,w=0;for(let _=0,v=l.length;_<v;_++){a.isInterleavedBufferAttribute?y=l[_]*a.data.stride+a.offset:y=l[_]*u;for(let S=0;S<u;S++)f[w++]=c[y++]}return new Ft(f,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new vn,n=this.index.array,i=this.attributes;for(let a in i){let l=i[a],c=e(l,n);t.setAttribute(a,c)}let s=this.morphAttributes;for(let a in s){let l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){let f=c[u],y=e(f,n);l.push(y)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let a=0,l=o.length;a<l;a++){let c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let l=this.parameters;for(let c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let l in n){let c=n[l];e.data.attributes[l]=c.toJSON(e.data)}let i={},s=!1;for(let l in this.morphAttributes){let c=this.morphAttributes[l],u=[];for(let h=0,f=c.length;h<f;h++){let y=c[h];u.push(y.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;n!==null&&this.setIndex(n.clone(t));let i=e.attributes;for(let c in i){let u=i[c];this.setAttribute(c,u.clone(t))}let s=e.morphAttributes;for(let c in s){let u=[],h=s[c];for(let f=0,y=h.length;f<y;f++)u.push(h[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let c=0,u=o.length;c<u;c++){let h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}let a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());let l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},yy=new Xt,vo=new Wa,Oh=new Do,Ar=new ne,Pr=new ne,Or=new ne,kh=new ne,Dh=new ne,Ih=new ne,hc=new ne,dc=new ne,pc=new ne,mc=new Xe,gc=new Xe,vc=new Xe,Lh=new ne,_c=new ne,Tn=class extends Vn{constructor(e=new vn,t=new hr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){let a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){let n=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),Oh.copy(n.boundingSphere),Oh.applyMatrix4(s),e.ray.intersectsSphere(Oh)===!1)||(yy.copy(s).invert(),vo.copy(e.ray).applyMatrix4(yy),n.boundingBox!==null&&vo.intersectsBox(n.boundingBox)===!1))return;let o,a=n.index,l=n.attributes.position,c=n.morphAttributes.position,u=n.morphTargetsRelative,h=n.attributes.uv,f=n.attributes.uv2,y=n.groups,w=n.drawRange;if(a!==null)if(Array.isArray(i))for(let _=0,v=y.length;_<v;_++){let S=y[_],C=i[S.materialIndex],T=Math.max(S.start,w.start),E=Math.min(a.count,Math.min(S.start+S.count,w.start+w.count));for(let k=T,O=E;k<O;k+=3){let R=a.getX(k),P=a.getX(k+1),D=a.getX(k+2);o=yc(this,C,e,vo,l,c,u,h,f,R,P,D),o&&(o.faceIndex=Math.floor(k/3),o.face.materialIndex=S.materialIndex,t.push(o))}}else{let _=Math.max(0,w.start),v=Math.min(a.count,w.start+w.count);for(let S=_,C=v;S<C;S+=3){let T=a.getX(S),E=a.getX(S+1),k=a.getX(S+2);o=yc(this,i,e,vo,l,c,u,h,f,T,E,k),o&&(o.faceIndex=Math.floor(S/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let _=0,v=y.length;_<v;_++){let S=y[_],C=i[S.materialIndex],T=Math.max(S.start,w.start),E=Math.min(l.count,Math.min(S.start+S.count,w.start+w.count));for(let k=T,O=E;k<O;k+=3){let R=k,P=k+1,D=k+2;o=yc(this,C,e,vo,l,c,u,h,f,R,P,D),o&&(o.faceIndex=Math.floor(k/3),o.face.materialIndex=S.materialIndex,t.push(o))}}else{let _=Math.max(0,w.start),v=Math.min(l.count,w.start+w.count);for(let S=_,C=v;S<C;S+=3){let T=S,E=S+1,k=S+2;o=yc(this,i,e,vo,l,c,u,h,f,T,E,k),o&&(o.faceIndex=Math.floor(S/3),t.push(o))}}}};function nA(r,e,t,n,i,s,o,a){let l;if(e.side===Ii?l=n.intersectTriangle(o,s,i,!0,a):l=n.intersectTriangle(i,s,o,e.side!==Ao,a),l===null)return null;_c.copy(a),_c.applyMatrix4(r.matrixWorld);let c=t.ray.origin.distanceTo(_c);return c<t.near||c>t.far?null:{distance:c,point:_c.clone(),object:r}}function yc(r,e,t,n,i,s,o,a,l,c,u,h){Ar.fromBufferAttribute(i,c),Pr.fromBufferAttribute(i,u),Or.fromBufferAttribute(i,h);let f=r.morphTargetInfluences;if(s&&f){hc.set(0,0,0),dc.set(0,0,0),pc.set(0,0,0);for(let w=0,_=s.length;w<_;w++){let v=f[w],S=s[w];v!==0&&(kh.fromBufferAttribute(S,c),Dh.fromBufferAttribute(S,u),Ih.fromBufferAttribute(S,h),o?(hc.addScaledVector(kh,v),dc.addScaledVector(Dh,v),pc.addScaledVector(Ih,v)):(hc.addScaledVector(kh.sub(Ar),v),dc.addScaledVector(Dh.sub(Pr),v),pc.addScaledVector(Ih.sub(Or),v)))}Ar.add(hc),Pr.add(dc),Or.add(pc)}r.isSkinnedMesh&&(r.boneTransform(c,Ar),r.boneTransform(u,Pr),r.boneTransform(h,Or));let y=nA(r,e,t,n,Ar,Pr,Or,Lh);if(y){a&&(mc.fromBufferAttribute(a,c),gc.fromBufferAttribute(a,u),vc.fromBufferAttribute(a,h),y.uv=vi.getUV(Lh,Ar,Pr,Or,mc,gc,vc,new Xe)),l&&(mc.fromBufferAttribute(l,c),gc.fromBufferAttribute(l,u),vc.fromBufferAttribute(l,h),y.uv2=vi.getUV(Lh,Ar,Pr,Or,mc,gc,vc,new Xe));let w={a:c,b:u,c:h,normal:new ne,materialIndex:0};vi.getNormal(Ar,Pr,Or,w.normal),y.face=w}return y}var Ss=class extends vn{constructor(e=1,t=1,n=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:s,depthSegments:o};let a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);let l=[],c=[],u=[],h=[],f=0,y=0;w("z","y","x",-1,-1,n,t,e,o,s,0),w("z","y","x",1,-1,n,t,-e,o,s,1),w("x","z","y",1,1,e,n,t,i,o,2),w("x","z","y",1,-1,e,n,-t,i,o,3),w("x","y","z",1,-1,e,t,n,i,s,4),w("x","y","z",-1,-1,e,t,-n,i,s,5),this.setIndex(l),this.setAttribute("position",new En(c,3)),this.setAttribute("normal",new En(u,3)),this.setAttribute("uv",new En(h,2));function w(_,v,S,C,T,E,k,O,R,P,D){let z=E/R,I=k/P,F=E/2,j=k/2,U=O/2,W=R+1,G=P+1,N=0,$=0,q=new ne;for(let J=0;J<G;J++){let re=J*I-j;for(let te=0;te<W;te++){let pe=te*z-F;q[_]=pe*C,q[v]=re*T,q[S]=U,c.push(q.x,q.y,q.z),q[_]=0,q[v]=0,q[S]=O>0?1:-1,u.push(q.x,q.y,q.z),h.push(te/R),h.push(1-J/P),N+=1}}for(let J=0;J<P;J++)for(let re=0;re<R;re++){let te=f+re+W*J,pe=f+re+W*(J+1),ye=f+(re+1)+W*(J+1),Ae=f+(re+1)+W*J;l.push(te,pe,Ae),l.push(pe,ye,Ae),$+=6}a.addGroup(y,$,D),y+=$,f+=N}}static fromJSON(e){return new Ss(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Io(r){let e={};for(let t in r){e[t]={};for(let n in r[t]){let i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function mn(r){let e={};for(let t=0;t<r.length;t++){let n=Io(r[t]);for(let i in n)e[i]=n[i]}return e}var zo={clone:Io,merge:mn},iA=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,rA=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Zt=class extends Jt{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=iA,this.fragmentShader=rA,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Io(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let n={};for(let i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}},Ic=class extends Vn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xt,this.projectionMatrix=new Xt,this.projectionMatrixInverse=new Xt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Mn=class extends Ic{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=ay*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(dh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ay*2*Math.atan(Math.tan(dh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(dh*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,s=-.5*i,o=this.view;if(this.view!==null&&this.view.enabled){let l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*n/c,i*=o.width/l,n*=o.height/c}let a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},_o=90,yo=1,Yh=class extends Vn{constructor(e,t,n){if(super(),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;let i=new Mn(_o,yo,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new ne(1,0,0)),this.add(i);let s=new Mn(_o,yo,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ne(-1,0,0)),this.add(s);let o=new Mn(_o,yo,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new ne(0,1,0)),this.add(o);let a=new Mn(_o,yo,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ne(0,-1,0)),this.add(a);let l=new Mn(_o,yo,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ne(0,0,1)),this.add(l);let c=new Mn(_o,yo,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new ne(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();let n=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),h=e.toneMapping,f=e.xr.enabled;e.toneMapping=fr,e.xr.enabled=!1;let y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,s),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=y,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=h,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}},Lc=class extends Hn{constructor(e,t,n,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Po,super(e,t,n,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},Xh=class extends gn{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new Lc(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:gi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ss(5,5,5),s=new Zt({name:"CubemapFromEquirect",uniforms:Io(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Ii,blending:kr});s.uniforms.tEquirect.value=t;let o=new Tn(i,s),a=t.minFilter;return t.minFilter===Xc&&(t.minFilter=gi),new Yh(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){let s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(s)}},Rh=new ne,sA=new ne,oA=new _i,ur=class{constructor(e=new ne(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let i=Rh.subVectors(n,t).cross(sA.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let n=e.delta(Rh),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(n).multiplyScalar(s).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||oA.getNormalMatrix(e),i=this.coplanarPoint(Rh).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},bo=new Do,bc=new ne,Rc=class{constructor(e=new ur,t=new ur,n=new ur,i=new ur,s=new ur,o=new ur){this.planes=[e,t,n,i,s,o]}set(e,t,n,i,s,o){let a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=this.planes,n=e.elements,i=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=n[6],h=n[7],f=n[8],y=n[9],w=n[10],_=n[11],v=n[12],S=n[13],C=n[14],T=n[15];return t[0].setComponents(a-i,h-l,_-f,T-v).normalize(),t[1].setComponents(a+i,h+l,_+f,T+v).normalize(),t[2].setComponents(a+s,h+c,_+y,T+S).normalize(),t[3].setComponents(a-s,h-c,_-y,T-S).normalize(),t[4].setComponents(a-o,h-u,_-w,T-C).normalize(),t[5].setComponents(a+o,h+u,_+w,T+C).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),bo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(bo)}intersectsSprite(e){return bo.center.set(0,0,0),bo.radius=.7071067811865476,bo.applyMatrix4(e.matrixWorld),this.intersectsSphere(bo)}intersectsSphere(e){let t=this.planes,n=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let i=t[n];if(bc.x=i.normal.x>0?e.max.x:e.min.x,bc.y=i.normal.y>0?e.max.y:e.min.y,bc.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(bc)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function Qy(){let r=null,e=!1,t=null,n=null;function i(s,o){t(s,o),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){r=s}}}function aA(r,e){let t=e.isWebGL2,n=new WeakMap;function i(c,u){let h=c.array,f=c.usage,y=r.createBuffer();r.bindBuffer(u,y),r.bufferData(u,h,f),c.onUploadCallback();let w;if(h instanceof Float32Array)w=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)w=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else w=5123;else if(h instanceof Int16Array)w=5122;else if(h instanceof Uint32Array)w=5125;else if(h instanceof Int32Array)w=5124;else if(h instanceof Int8Array)w=5120;else if(h instanceof Uint8Array)w=5121;else if(h instanceof Uint8ClampedArray)w=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:y,type:w,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){let f=u.array,y=u.updateRange;r.bindBuffer(h,c),y.count===-1?r.bufferSubData(h,0,f):(t?r.bufferSubData(h,y.offset*f.BYTES_PER_ELEMENT,f,y.offset,y.count):r.bufferSubData(h,y.offset*f.BYTES_PER_ELEMENT,f.subarray(y.offset,y.offset+y.count)),y.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);let u=n.get(c);u&&(r.deleteBuffer(u.buffer),n.delete(c))}function l(c,u){if(c.isGLBufferAttribute){let f=n.get(c);(!f||f.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);let h=n.get(c);h===void 0?n.set(c,i(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}var Ms=class extends vn{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};let s=e/2,o=t/2,a=Math.floor(n),l=Math.floor(i),c=a+1,u=l+1,h=e/a,f=t/l,y=[],w=[],_=[],v=[];for(let S=0;S<u;S++){let C=S*f-o;for(let T=0;T<c;T++){let E=T*h-s;w.push(E,-C,0),_.push(0,0,1),v.push(T/a),v.push(1-S/l)}}for(let S=0;S<l;S++)for(let C=0;C<a;C++){let T=C+c*S,E=C+c*(S+1),k=C+1+c*(S+1),O=C+1+c*S;y.push(T,E,O),y.push(E,k,O)}this.setIndex(y),this.setAttribute("position",new En(w,3)),this.setAttribute("normal",new En(_,3)),this.setAttribute("uv",new En(v,2))}static fromJSON(e){return new Ms(e.width,e.height,e.widthSegments,e.heightSegments)}},lA=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,cA=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uA=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,fA=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,hA=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,dA=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,pA="vec3 transformed = vec3( position );",mA=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gA=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,vA=`#ifdef USE_IRIDESCENCE
const mat3 XYZ_TO_REC709 = mat3(
    3.2404542, -0.9692660,  0.0556434,
   -1.5371385,  1.8760108, -0.2040259,
   -0.4985314,  0.0415560,  1.0572252
);
vec3 Fresnel0ToIor( vec3 fresnel0 ) {
   vec3 sqrtF0 = sqrt( fresnel0 );
   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
}
vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
}
float IorToFresnel0( float transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
}
vec3 evalSensitivity( float OPD, vec3 shift ) {
   float phase = 2.0 * PI * OPD * 1.0e-9;
   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );
   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );
   xyz /= 1.0685e-7;
   vec3 srgb = XYZ_TO_REC709 * xyz;
   return srgb;
}
vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
   vec3 I;
   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
   float cosTheta2Sq = 1.0 - sinTheta2Sq;
   if ( cosTheta2Sq < 0.0 ) {
       return vec3( 1.0 );
   }
   float cosTheta2 = sqrt( cosTheta2Sq );
   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
   float R12 = F_Schlick( R0, 1.0, cosTheta1 );
   float R21 = R12;
   float T121 = 1.0 - R12;
   float phi12 = 0.0;
   if ( iridescenceIOR < outsideIOR ) phi12 = PI;
   float phi21 = PI - phi12;
   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
   vec3 phi23 = vec3( 0.0 );
   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;
   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;
   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;
   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
   vec3 phi = vec3( phi21 ) + phi23;
   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
   vec3 r123 = sqrt( R123 );
   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
   vec3 C0 = R12 + Rs;
   I = C0;
   vec3 Cm = Rs - T121;
   for ( int m = 1; m <= 2; ++m ) {
       Cm *= r123;
       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
       I += Cm * Sm;
   }
   return max( I, vec3( 0.0 ) );
}
#endif`,_A=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,yA=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,bA=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xA=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,wA=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,SA=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,MA=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,TA=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,EA=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,CA=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,AA=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,PA=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,OA=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,kA=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,DA=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,IA=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,LA="gl_FragColor = linearToOutputTexel( gl_FragColor );",RA=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,NA=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,zA=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,FA=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,BA=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,UA=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,HA=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,VA=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,WA=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,GA=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$A=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,jA=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,qA=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,YA=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,XA=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,JA=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,ZA=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,KA=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,QA=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,eP=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,tP=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,nP=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,iP=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
float dotNVi = saturate( dot( normal, geometry.viewDir ) );
if ( material.iridescenceThickness == 0.0 ) {
	material.iridescence = 0.0;
} else {
	material.iridescence = saturate( material.iridescence );
}
if ( material.iridescence > 0.0 ) {
	material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
	material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,rP=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,sP=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,oP=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,aP=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,lP=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,cP=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,uP=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,fP=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,hP=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dP=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pP=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,mP=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,gP=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,vP=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,_P=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,yP=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,bP=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,xP=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wP=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,SP=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,MP=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,TP=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,EP=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,CP=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,AP=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,PP=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,OP=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kP=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,DP=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,IP=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,LP=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,RP=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,NP=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,zP=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,FP=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,BP=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,UP=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,HP=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,VP=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,WP=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,GP=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$P=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jP=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,qP=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,YP=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,XP=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,JP=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,ZP=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,KP=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,QP=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,e2=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,t2=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,n2=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,i2=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,r2=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,s2=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,o2=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,a2=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,l2=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,c2=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,u2=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,f2=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,h2=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,d2=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,p2=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,m2=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,g2=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,v2=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,_2=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,y2=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,b2=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,x2=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,w2=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,S2=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,M2=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,T2=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,E2=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,C2=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,A2=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,P2=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,O2=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k2=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,D2=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,I2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,L2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,R2=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,N2=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,mt={alphamap_fragment:lA,alphamap_pars_fragment:cA,alphatest_fragment:uA,alphatest_pars_fragment:fA,aomap_fragment:hA,aomap_pars_fragment:dA,begin_vertex:pA,beginnormal_vertex:mA,bsdfs:gA,iridescence_fragment:vA,bumpmap_pars_fragment:_A,clipping_planes_fragment:yA,clipping_planes_pars_fragment:bA,clipping_planes_pars_vertex:xA,clipping_planes_vertex:wA,color_fragment:SA,color_pars_fragment:MA,color_pars_vertex:TA,color_vertex:EA,common:CA,cube_uv_reflection_fragment:AA,defaultnormal_vertex:PA,displacementmap_pars_vertex:OA,displacementmap_vertex:kA,emissivemap_fragment:DA,emissivemap_pars_fragment:IA,encodings_fragment:LA,encodings_pars_fragment:RA,envmap_fragment:NA,envmap_common_pars_fragment:zA,envmap_pars_fragment:FA,envmap_pars_vertex:BA,envmap_physical_pars_fragment:JA,envmap_vertex:UA,fog_vertex:HA,fog_pars_vertex:VA,fog_fragment:WA,fog_pars_fragment:GA,gradientmap_pars_fragment:$A,lightmap_fragment:jA,lightmap_pars_fragment:qA,lights_lambert_vertex:YA,lights_pars_begin:XA,lights_toon_fragment:ZA,lights_toon_pars_fragment:KA,lights_phong_fragment:QA,lights_phong_pars_fragment:eP,lights_physical_fragment:tP,lights_physical_pars_fragment:nP,lights_fragment_begin:iP,lights_fragment_maps:rP,lights_fragment_end:sP,logdepthbuf_fragment:oP,logdepthbuf_pars_fragment:aP,logdepthbuf_pars_vertex:lP,logdepthbuf_vertex:cP,map_fragment:uP,map_pars_fragment:fP,map_particle_fragment:hP,map_particle_pars_fragment:dP,metalnessmap_fragment:pP,metalnessmap_pars_fragment:mP,morphcolor_vertex:gP,morphnormal_vertex:vP,morphtarget_pars_vertex:_P,morphtarget_vertex:yP,normal_fragment_begin:bP,normal_fragment_maps:xP,normal_pars_fragment:wP,normal_pars_vertex:SP,normal_vertex:MP,normalmap_pars_fragment:TP,clearcoat_normal_fragment_begin:EP,clearcoat_normal_fragment_maps:CP,clearcoat_pars_fragment:AP,iridescence_pars_fragment:PP,output_fragment:OP,packing:kP,premultiplied_alpha_fragment:DP,project_vertex:IP,dithering_fragment:LP,dithering_pars_fragment:RP,roughnessmap_fragment:NP,roughnessmap_pars_fragment:zP,shadowmap_pars_fragment:FP,shadowmap_pars_vertex:BP,shadowmap_vertex:UP,shadowmask_pars_fragment:HP,skinbase_vertex:VP,skinning_pars_vertex:WP,skinning_vertex:GP,skinnormal_vertex:$P,specularmap_fragment:jP,specularmap_pars_fragment:qP,tonemapping_fragment:YP,tonemapping_pars_fragment:XP,transmission_fragment:JP,transmission_pars_fragment:ZP,uv_pars_fragment:KP,uv_pars_vertex:QP,uv_vertex:e2,uv2_pars_fragment:t2,uv2_pars_vertex:n2,uv2_vertex:i2,worldpos_vertex:r2,background_vert:s2,background_frag:o2,cube_vert:a2,cube_frag:l2,depth_vert:c2,depth_frag:u2,distanceRGBA_vert:f2,distanceRGBA_frag:h2,equirect_vert:d2,equirect_frag:p2,linedashed_vert:m2,linedashed_frag:g2,meshbasic_vert:v2,meshbasic_frag:_2,meshlambert_vert:y2,meshlambert_frag:b2,meshmatcap_vert:x2,meshmatcap_frag:w2,meshnormal_vert:S2,meshnormal_frag:M2,meshphong_vert:T2,meshphong_frag:E2,meshphysical_vert:C2,meshphysical_frag:A2,meshtoon_vert:P2,meshtoon_frag:O2,points_vert:k2,points_frag:D2,shadow_vert:I2,shadow_frag:L2,sprite_vert:R2,sprite_frag:N2},Ne={common:{diffuse:{value:new tt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new _i},uv2Transform:{value:new _i},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _i}},sprite:{diffuse:{value:new tt(16777215)},opacity:{value:1},center:{value:new Xe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _i}}},ji={basic:{uniforms:mn([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.fog]),vertexShader:mt.meshbasic_vert,fragmentShader:mt.meshbasic_frag},lambert:{uniforms:mn([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.fog,Ne.lights,{emissive:{value:new tt(0)}}]),vertexShader:mt.meshlambert_vert,fragmentShader:mt.meshlambert_frag},phong:{uniforms:mn([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new tt(0)},specular:{value:new tt(1118481)},shininess:{value:30}}]),vertexShader:mt.meshphong_vert,fragmentShader:mt.meshphong_frag},standard:{uniforms:mn([Ne.common,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.roughnessmap,Ne.metalnessmap,Ne.fog,Ne.lights,{emissive:{value:new tt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag},toon:{uniforms:mn([Ne.common,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.gradientmap,Ne.fog,Ne.lights,{emissive:{value:new tt(0)}}]),vertexShader:mt.meshtoon_vert,fragmentShader:mt.meshtoon_frag},matcap:{uniforms:mn([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,{matcap:{value:null}}]),vertexShader:mt.meshmatcap_vert,fragmentShader:mt.meshmatcap_frag},points:{uniforms:mn([Ne.points,Ne.fog]),vertexShader:mt.points_vert,fragmentShader:mt.points_frag},dashed:{uniforms:mn([Ne.common,Ne.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mt.linedashed_vert,fragmentShader:mt.linedashed_frag},depth:{uniforms:mn([Ne.common,Ne.displacementmap]),vertexShader:mt.depth_vert,fragmentShader:mt.depth_frag},normal:{uniforms:mn([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,{opacity:{value:1}}]),vertexShader:mt.meshnormal_vert,fragmentShader:mt.meshnormal_frag},sprite:{uniforms:mn([Ne.sprite,Ne.fog]),vertexShader:mt.sprite_vert,fragmentShader:mt.sprite_frag},background:{uniforms:{uvTransform:{value:new _i},t2D:{value:null}},vertexShader:mt.background_vert,fragmentShader:mt.background_frag},cube:{uniforms:mn([Ne.envmap,{opacity:{value:1}}]),vertexShader:mt.cube_vert,fragmentShader:mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mt.equirect_vert,fragmentShader:mt.equirect_frag},distanceRGBA:{uniforms:mn([Ne.common,Ne.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mt.distanceRGBA_vert,fragmentShader:mt.distanceRGBA_frag},shadow:{uniforms:mn([Ne.lights,Ne.fog,{color:{value:new tt(0)},opacity:{value:1}}]),vertexShader:mt.shadow_vert,fragmentShader:mt.shadow_frag}};ji.physical={uniforms:mn([ji.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Xe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new tt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new tt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new tt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag};function z2(r,e,t,n,i,s){let o=new tt(0),a=i===!0?0:1,l,c,u=null,h=0,f=null;function y(_,v){let S=!1,C=v.isScene===!0?v.background:null;C&&C.isTexture&&(C=e.get(C));let T=r.xr,E=T.getSession&&T.getSession();E&&E.environmentBlendMode==="additive"&&(C=null),C===null?w(o,a):C&&C.isColor&&(w(C,1),S=!0),(r.autoClear||S)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),C&&(C.isCubeTexture||C.mapping===Yc)?(c===void 0&&(c=new Tn(new Ss(1,1,1),new Zt({name:"BackgroundCubeMaterial",uniforms:Io(ji.cube.uniforms),vertexShader:ji.cube.vertexShader,fragmentShader:ji.cube.fragmentShader,side:Ii,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(k,O,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=C,c.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,(u!==C||h!==C.version||f!==r.toneMapping)&&(c.material.needsUpdate=!0,u=C,h=C.version,f=r.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null)):C&&C.isTexture&&(l===void 0&&(l=new Tn(new Ms(2,2),new Zt({name:"BackgroundMaterial",uniforms:Io(ji.background.uniforms),vertexShader:ji.background.vertexShader,fragmentShader:ji.background.fragmentShader,side:Ua,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(l)),l.material.uniforms.t2D.value=C,C.matrixAutoUpdate===!0&&C.updateMatrix(),l.material.uniforms.uvTransform.value.copy(C.matrix),(u!==C||h!==C.version||f!==r.toneMapping)&&(l.material.needsUpdate=!0,u=C,h=C.version,f=r.toneMapping),l.layers.enableAll(),_.unshift(l,l.geometry,l.material,0,0,null))}function w(_,v){t.buffers.color.setClear(_.r,_.g,_.b,v,s)}return{getClearColor:function(){return o},setClearColor:function(_,v=1){o.set(_),a=v,w(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(_){a=_,w(o,a)},render:y}}function F2(r,e,t,n){let i=r.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||s!==null,a={},l=v(null),c=l,u=!1;function h(U,W,G,N,$){let q=!1;if(o){let J=_(N,G,W);c!==J&&(c=J,y(c.object)),q=S(U,N,G,$),q&&C(U,N,G,$)}else{let J=W.wireframe===!0;(c.geometry!==N.id||c.program!==G.id||c.wireframe!==J)&&(c.geometry=N.id,c.program=G.id,c.wireframe=J,q=!0)}$!==null&&t.update($,34963),(q||u)&&(u=!1,P(U,W,G,N),$!==null&&r.bindBuffer(34963,t.get($).buffer))}function f(){return n.isWebGL2?r.createVertexArray():s.createVertexArrayOES()}function y(U){return n.isWebGL2?r.bindVertexArray(U):s.bindVertexArrayOES(U)}function w(U){return n.isWebGL2?r.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function _(U,W,G){let N=G.wireframe===!0,$=a[U.id];$===void 0&&($={},a[U.id]=$);let q=$[W.id];q===void 0&&(q={},$[W.id]=q);let J=q[N];return J===void 0&&(J=v(f()),q[N]=J),J}function v(U){let W=[],G=[],N=[];for(let $=0;$<i;$++)W[$]=0,G[$]=0,N[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:G,attributeDivisors:N,object:U,attributes:{},index:null}}function S(U,W,G,N){let $=c.attributes,q=W.attributes,J=0,re=G.getAttributes();for(let te in re)if(re[te].location>=0){let ye=$[te],Ae=q[te];if(Ae===void 0&&(te==="instanceMatrix"&&U.instanceMatrix&&(Ae=U.instanceMatrix),te==="instanceColor"&&U.instanceColor&&(Ae=U.instanceColor)),ye===void 0||ye.attribute!==Ae||Ae&&ye.data!==Ae.data)return!0;J++}return c.attributesNum!==J||c.index!==N}function C(U,W,G,N){let $={},q=W.attributes,J=0,re=G.getAttributes();for(let te in re)if(re[te].location>=0){let ye=q[te];ye===void 0&&(te==="instanceMatrix"&&U.instanceMatrix&&(ye=U.instanceMatrix),te==="instanceColor"&&U.instanceColor&&(ye=U.instanceColor));let Ae={};Ae.attribute=ye,ye&&ye.data&&(Ae.data=ye.data),$[te]=Ae,J++}c.attributes=$,c.attributesNum=J,c.index=N}function T(){let U=c.newAttributes;for(let W=0,G=U.length;W<G;W++)U[W]=0}function E(U){k(U,0)}function k(U,W){let G=c.newAttributes,N=c.enabledAttributes,$=c.attributeDivisors;G[U]=1,N[U]===0&&(r.enableVertexAttribArray(U),N[U]=1),$[U]!==W&&((n.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,W),$[U]=W)}function O(){let U=c.newAttributes,W=c.enabledAttributes;for(let G=0,N=W.length;G<N;G++)W[G]!==U[G]&&(r.disableVertexAttribArray(G),W[G]=0)}function R(U,W,G,N,$,q){n.isWebGL2===!0&&(G===5124||G===5125)?r.vertexAttribIPointer(U,W,G,$,q):r.vertexAttribPointer(U,W,G,N,$,q)}function P(U,W,G,N){if(n.isWebGL2===!1&&(U.isInstancedMesh||N.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;T();let $=N.attributes,q=G.getAttributes(),J=W.defaultAttributeValues;for(let re in q){let te=q[re];if(te.location>=0){let pe=$[re];if(pe===void 0&&(re==="instanceMatrix"&&U.instanceMatrix&&(pe=U.instanceMatrix),re==="instanceColor"&&U.instanceColor&&(pe=U.instanceColor)),pe!==void 0){let ye=pe.normalized,Ae=pe.itemSize,ae=t.get(pe);if(ae===void 0)continue;let je=ae.buffer,oe=ae.type,Ee=ae.bytesPerElement;if(pe.isInterleavedBufferAttribute){let ve=pe.data,st=ve.stride,Ve=pe.offset;if(ve.isInstancedInterleavedBuffer){for(let He=0;He<te.locationSize;He++)k(te.location+He,ve.meshPerAttribute);U.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let He=0;He<te.locationSize;He++)E(te.location+He);r.bindBuffer(34962,je);for(let He=0;He<te.locationSize;He++)R(te.location+He,Ae/te.locationSize,oe,ye,st*Ee,(Ve+Ae/te.locationSize*He)*Ee)}else{if(pe.isInstancedBufferAttribute){for(let ve=0;ve<te.locationSize;ve++)k(te.location+ve,pe.meshPerAttribute);U.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let ve=0;ve<te.locationSize;ve++)E(te.location+ve);r.bindBuffer(34962,je);for(let ve=0;ve<te.locationSize;ve++)R(te.location+ve,Ae/te.locationSize,oe,ye,Ae*Ee,Ae/te.locationSize*ve*Ee)}}else if(J!==void 0){let ye=J[re];if(ye!==void 0)switch(ye.length){case 2:r.vertexAttrib2fv(te.location,ye);break;case 3:r.vertexAttrib3fv(te.location,ye);break;case 4:r.vertexAttrib4fv(te.location,ye);break;default:r.vertexAttrib1fv(te.location,ye)}}}}O()}function D(){F();for(let U in a){let W=a[U];for(let G in W){let N=W[G];for(let $ in N)w(N[$].object),delete N[$];delete W[G]}delete a[U]}}function z(U){if(a[U.id]===void 0)return;let W=a[U.id];for(let G in W){let N=W[G];for(let $ in N)w(N[$].object),delete N[$];delete W[G]}delete a[U.id]}function I(U){for(let W in a){let G=a[W];if(G[U.id]===void 0)continue;let N=G[U.id];for(let $ in N)w(N[$].object),delete N[$];delete G[U.id]}}function F(){j(),u=!0,c!==l&&(c=l,y(c.object))}function j(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:F,resetDefaultState:j,dispose:D,releaseStatesOfGeometry:z,releaseStatesOfProgram:I,initAttributes:T,enableAttribute:E,disableUnusedAttributes:O}}function B2(r,e,t,n){let i=n.isWebGL2,s;function o(c){s=c}function a(c,u){r.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,h){if(h===0)return;let f,y;if(i)f=r,y="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[y](s,c,u,h),t.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function U2(r,e,t){let n;function i(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){let R=e.get("EXT_texture_filter_anisotropic");n=r.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(R){if(R==="highp"){if(r.getShaderPrecisionFormat(35633,36338).precision>0&&r.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&r.getShaderPrecisionFormat(35633,36337).precision>0&&r.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let o=typeof WebGL2RenderingContext<"u"&&r instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&r instanceof WebGL2ComputeRenderingContext,a=t.precision!==void 0?t.precision:"highp",l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);let c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,h=r.getParameter(34930),f=r.getParameter(35660),y=r.getParameter(3379),w=r.getParameter(34076),_=r.getParameter(34921),v=r.getParameter(36347),S=r.getParameter(36348),C=r.getParameter(36349),T=f>0,E=o||e.has("OES_texture_float"),k=T&&E,O=o?r.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:f,maxTextureSize:y,maxCubemapSize:w,maxAttributes:_,maxVertexUniforms:v,maxVaryings:S,maxFragmentUniforms:C,vertexTextures:T,floatFragmentTextures:E,floatVertexTextures:k,maxSamples:O}}function H2(r){let e=this,t=null,n=0,i=!1,s=!1,o=new ur,a=new _i,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f,y){let w=h.length!==0||f||n!==0||i;return i=f,t=u(h,y,0),n=h.length,w},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(h,f,y){let w=h.clippingPlanes,_=h.clipIntersection,v=h.clipShadows,S=r.get(h);if(!i||w===null||w.length===0||s&&!v)s?u(null):c();else{let C=s?0:n,T=C*4,E=S.clippingState||null;l.value=E,E=u(w,f,T,y);for(let k=0;k!==T;++k)E[k]=t[k];S.clippingState=E,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=C}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(h,f,y,w){let _=h!==null?h.length:0,v=null;if(_!==0){if(v=l.value,w!==!0||v===null){let S=y+_*4,C=f.matrixWorldInverse;a.getNormalMatrix(C),(v===null||v.length<S)&&(v=new Float32Array(S));for(let T=0,E=y;T!==_;++T,E+=4)o.copy(h[T]).applyMatrix4(C,a),o.normal.toArray(v,E),v[E+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,v}}function V2(r){let e=new WeakMap;function t(o,a){return a===Hh?o.mapping=Po:a===Vh&&(o.mapping=Oo),o}function n(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){let a=o.mapping;if(a===Hh||a===Vh)if(e.has(o)){let l=e.get(o).texture;return t(l,o.mapping)}else{let l=o.image;if(l&&l.height>0){let c=new Xh(l.height/2);return c.fromEquirectangularTexture(r,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){let a=o.target;a.removeEventListener("dispose",i);let l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}var Ts=class extends Ic{constructor(e=-1,t=1,n=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,s=n-e,o=n+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){let c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},So=4,by=[.125,.215,.35,.446,.526,.582],ds=20,Nh=new Ts,xy=new tt,zh=null,hs=(1+Math.sqrt(5))/2,xo=1/hs,wy=[new ne(1,1,1),new ne(-1,1,1),new ne(1,1,-1),new ne(-1,1,-1),new ne(0,hs,xo),new ne(0,hs,-xo),new ne(xo,0,hs),new ne(-xo,0,hs),new ne(hs,xo,0),new ne(-hs,xo,0)],Nc=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){zh=this._renderer.getRenderTarget(),this._setSize(256);let s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Ty(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=My(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(zh),e.scissorTest=!1,xc(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Po||e.mapping===Oo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),zh=this._renderer.getRenderTarget();let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:gi,minFilter:gi,generateMipmaps:!1,type:Ha,format:Di,encoding:bs,depthBuffer:!1},i=Sy(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Sy(e,t,n);let{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=W2(s)),this._blurMaterial=G2(s,e,t)}return i}_compileMaterial(e){let t=new Tn(this._lodPlanes[0],e);this._renderer.compile(t,Nh)}_sceneToCubeUV(e,t,n,i){let a=new Mn(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(xy),u.toneMapping=fr,u.autoClear=!1;let y=new hr({name:"PMREM.Background",side:Ii,depthWrite:!1,depthTest:!1}),w=new Tn(new Ss,y),_=!1,v=e.background;v?v.isColor&&(y.color.copy(v),e.background=null,_=!0):(y.color.copy(xy),_=!0);for(let S=0;S<6;S++){let C=S%3;C===0?(a.up.set(0,l[S],0),a.lookAt(c[S],0,0)):C===1?(a.up.set(0,0,l[S]),a.lookAt(0,c[S],0)):(a.up.set(0,l[S],0),a.lookAt(0,0,c[S]));let T=this._cubeSize;xc(i,C*T,S>2?T:0,T,T),u.setRenderTarget(i),_&&u.render(w,a),u.render(e,a)}w.geometry.dispose(),w.material.dispose(),u.toneMapping=f,u.autoClear=h,e.background=v}_textureToCubeUV(e,t){let n=this._renderer,i=e.mapping===Po||e.mapping===Oo;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Ty()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=My());let s=i?this._cubemapMaterial:this._equirectMaterial,o=new Tn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;let l=this._cubeSize;xc(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(o,Nh)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){let s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=wy[(i-1)%wy.length];this._blur(e,i-1,i,s,o)}t.autoClear=n}_blur(e,t,n,i,s){let o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",s),this._halfBlur(o,e,n,n,i,"longitudinal",s)}_halfBlur(e,t,n,i,s,o,a){let l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let u=3,h=new Tn(this._lodPlanes[i],c),f=c.uniforms,y=this._sizeLods[n]-1,w=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*ds-1),_=s/w,v=isFinite(s)?1+Math.floor(u*_):ds;v>ds&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${ds}`);let S=[],C=0;for(let R=0;R<ds;++R){let P=R/_,D=Math.exp(-P*P/2);S.push(D),R===0?C+=D:R<v&&(C+=2*D)}for(let R=0;R<S.length;R++)S[R]=S[R]/C;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=S,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);let{_lodMax:T}=this;f.dTheta.value=w,f.mipInt.value=T-n;let E=this._sizeLods[i],k=3*E*(i>T-So?i-T+So:0),O=4*(this._cubeSize-E);xc(t,k,O,3*E,2*E),l.setRenderTarget(t),l.render(h,Nh)}};function W2(r){let e=[],t=[],n=[],i=r,s=r-So+1+by.length;for(let o=0;o<s;o++){let a=Math.pow(2,i);t.push(a);let l=1/a;o>r-So?l=by[o-r+So-1]:o===0&&(l=0),n.push(l);let c=1/(a-2),u=-c,h=1+c,f=[u,u,h,u,h,h,u,u,h,h,u,h],y=6,w=6,_=3,v=2,S=1,C=new Float32Array(_*w*y),T=new Float32Array(v*w*y),E=new Float32Array(S*w*y);for(let O=0;O<y;O++){let R=O%3*2/3-1,P=O>2?0:-1,D=[R,P,0,R+2/3,P,0,R+2/3,P+1,0,R,P,0,R+2/3,P+1,0,R,P+1,0];C.set(D,_*w*O),T.set(f,v*w*O);let z=[O,O,O,O,O,O];E.set(z,S*w*O)}let k=new vn;k.setAttribute("position",new Ft(C,_)),k.setAttribute("uv",new Ft(T,v)),k.setAttribute("faceIndex",new Ft(E,S)),e.push(k),i>So&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function Sy(r,e,t){let n=new gn(r,e,t);return n.texture.mapping=Yc,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function xc(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function G2(r,e,t){let n=new Float32Array(ds),i=new ne(0,1,0);return new Zt({name:"SphericalGaussianBlur",defines:{n:ds,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Ad(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:kr,depthTest:!1,depthWrite:!1})}function My(){return new Zt({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Ad(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:kr,depthTest:!1,depthWrite:!1})}function Ty(){return new Zt({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Ad(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:kr,depthTest:!1,depthWrite:!1})}function Ad(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $2(r){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture){let l=a.mapping,c=l===Hh||l===Vh,u=l===Po||l===Oo;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new Nc(r)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{let h=a.image;if(c&&h&&h.height>0||u&&h&&i(h)){t===null&&(t=new Nc(r));let f=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function i(a){let l=0,c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){let l=a.target;l.removeEventListener("dispose",s);let c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function j2(r){let e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){let i=t(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function q2(r,e,t,n){let i={},s=new WeakMap;function o(h){let f=h.target;f.index!==null&&e.remove(f.index);for(let w in f.attributes)e.remove(f.attributes[w]);f.removeEventListener("dispose",o),delete i[f.id];let y=s.get(f);y&&(e.remove(y),s.delete(f)),n.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(h,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,t.memory.geometries++),f}function l(h){let f=h.attributes;for(let w in f)e.update(f[w],34962);let y=h.morphAttributes;for(let w in y){let _=y[w];for(let v=0,S=_.length;v<S;v++)e.update(_[v],34962)}}function c(h){let f=[],y=h.index,w=h.attributes.position,_=0;if(y!==null){let C=y.array;_=y.version;for(let T=0,E=C.length;T<E;T+=3){let k=C[T+0],O=C[T+1],R=C[T+2];f.push(k,O,O,R,R,k)}}else{let C=w.array;_=w.version;for(let T=0,E=C.length/3-1;T<E;T+=3){let k=T+0,O=T+1,R=T+2;f.push(k,O,O,R,R,k)}}let v=new(Zy(f)?Dc:kc)(f,1);v.version=_;let S=s.get(h);S&&e.remove(S),s.set(h,v)}function u(h){let f=s.get(h);if(f){let y=h.index;y!==null&&f.version<y.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Y2(r,e,t,n){let i=n.isWebGL2,s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,y){r.drawElements(s,y,a,f*l),t.update(y,s,1)}function h(f,y,w){if(w===0)return;let _,v;if(i)_=r,v="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[v](s,y,a,f*l,w),t.update(y,s,w)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function X2(r){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function J2(r,e){return r[0]-e[0]}function Z2(r,e){return Math.abs(e[1])-Math.abs(r[1])}function Fh(r,e){let t=1,n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),r.divideScalar(t)}function K2(r,e,t){let n={},i=new Float32Array(8),s=new WeakMap,o=new sn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h,f){let y=c.morphTargetInfluences;if(e.isWebGL2===!0){let w=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,_=w!==void 0?w.length:0,v=s.get(u);if(v===void 0||v.count!==_){let W=function(){j.dispose(),s.delete(u),u.removeEventListener("dispose",W)};v!==void 0&&v.texture.dispose();let T=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,k=u.morphAttributes.color!==void 0,O=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],P=u.morphAttributes.color||[],D=0;T===!0&&(D=1),E===!0&&(D=2),k===!0&&(D=3);let z=u.attributes.position.count*D,I=1;z>e.maxTextureSize&&(I=Math.ceil(z/e.maxTextureSize),z=e.maxTextureSize);let F=new Float32Array(z*I*4*_),j=new Oc(F,z,I,_);j.type=ms,j.needsUpdate=!0;let U=D*4;for(let G=0;G<_;G++){let N=O[G],$=R[G],q=P[G],J=z*I*4*G;for(let re=0;re<N.count;re++){let te=re*U;T===!0&&(o.fromBufferAttribute(N,re),N.normalized===!0&&Fh(o,N),F[J+te+0]=o.x,F[J+te+1]=o.y,F[J+te+2]=o.z,F[J+te+3]=0),E===!0&&(o.fromBufferAttribute($,re),$.normalized===!0&&Fh(o,$),F[J+te+4]=o.x,F[J+te+5]=o.y,F[J+te+6]=o.z,F[J+te+7]=0),k===!0&&(o.fromBufferAttribute(q,re),q.normalized===!0&&Fh(o,q),F[J+te+8]=o.x,F[J+te+9]=o.y,F[J+te+10]=o.z,F[J+te+11]=q.itemSize===4?o.w:1)}}v={count:_,texture:j,size:new Xe(z,I)},s.set(u,v),u.addEventListener("dispose",W)}let S=0;for(let T=0;T<y.length;T++)S+=y[T];let C=u.morphTargetsRelative?1:1-S;f.getUniforms().setValue(r,"morphTargetBaseInfluence",C),f.getUniforms().setValue(r,"morphTargetInfluences",y),f.getUniforms().setValue(r,"morphTargetsTexture",v.texture,t),f.getUniforms().setValue(r,"morphTargetsTextureSize",v.size)}else{let w=y===void 0?0:y.length,_=n[u.id];if(_===void 0||_.length!==w){_=[];for(let E=0;E<w;E++)_[E]=[E,0];n[u.id]=_}for(let E=0;E<w;E++){let k=_[E];k[0]=E,k[1]=y[E]}_.sort(Z2);for(let E=0;E<8;E++)E<w&&_[E][1]?(a[E][0]=_[E][0],a[E][1]=_[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(J2);let v=u.morphAttributes.position,S=u.morphAttributes.normal,C=0;for(let E=0;E<8;E++){let k=a[E],O=k[0],R=k[1];O!==Number.MAX_SAFE_INTEGER&&R?(v&&u.getAttribute("morphTarget"+E)!==v[O]&&u.setAttribute("morphTarget"+E,v[O]),S&&u.getAttribute("morphNormal"+E)!==S[O]&&u.setAttribute("morphNormal"+E,S[O]),i[E]=R,C+=R):(v&&u.hasAttribute("morphTarget"+E)===!0&&u.deleteAttribute("morphTarget"+E),S&&u.hasAttribute("morphNormal"+E)===!0&&u.deleteAttribute("morphNormal"+E),i[E]=0)}let T=u.morphTargetsRelative?1:1-C;f.getUniforms().setValue(r,"morphTargetBaseInfluence",T),f.getUniforms().setValue(r,"morphTargetInfluences",i)}}return{update:l}}function Q2(r,e,t,n){let i=new WeakMap;function s(l){let c=n.render.frame,u=l.geometry,h=e.get(l,u);return i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){let c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}var eb=new Hn,tb=new Oc,nb=new qh,ib=new Lc,Ey=[],Cy=[],Ay=new Float32Array(16),Py=new Float32Array(9),Oy=new Float32Array(4);function Fo(r,e,t){let n=r[0];if(n<=0||n>0)return r;let i=e*t,s=Ey[i];if(s===void 0&&(s=new Float32Array(i),Ey[i]=s),e!==0){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,r[o].toArray(s,a)}return s}function Cn(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function An(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function Jc(r,e){let t=Cy[e];t===void 0&&(t=new Int32Array(e),Cy[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function eO(r,e){let t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function tO(r,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Cn(t,e))return;r.uniform2fv(this.addr,e),An(t,e)}}function nO(r,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Cn(t,e))return;r.uniform3fv(this.addr,e),An(t,e)}}function iO(r,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Cn(t,e))return;r.uniform4fv(this.addr,e),An(t,e)}}function rO(r,e){let t=this.cache,n=e.elements;if(n===void 0){if(Cn(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),An(t,e)}else{if(Cn(t,n))return;Oy.set(n),r.uniformMatrix2fv(this.addr,!1,Oy),An(t,n)}}function sO(r,e){let t=this.cache,n=e.elements;if(n===void 0){if(Cn(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),An(t,e)}else{if(Cn(t,n))return;Py.set(n),r.uniformMatrix3fv(this.addr,!1,Py),An(t,n)}}function oO(r,e){let t=this.cache,n=e.elements;if(n===void 0){if(Cn(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),An(t,e)}else{if(Cn(t,n))return;Ay.set(n),r.uniformMatrix4fv(this.addr,!1,Ay),An(t,n)}}function aO(r,e){let t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function lO(r,e){let t=this.cache;Cn(t,e)||(r.uniform2iv(this.addr,e),An(t,e))}function cO(r,e){let t=this.cache;Cn(t,e)||(r.uniform3iv(this.addr,e),An(t,e))}function uO(r,e){let t=this.cache;Cn(t,e)||(r.uniform4iv(this.addr,e),An(t,e))}function fO(r,e){let t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function hO(r,e){let t=this.cache;Cn(t,e)||(r.uniform2uiv(this.addr,e),An(t,e))}function dO(r,e){let t=this.cache;Cn(t,e)||(r.uniform3uiv(this.addr,e),An(t,e))}function pO(r,e){let t=this.cache;Cn(t,e)||(r.uniform4uiv(this.addr,e),An(t,e))}function mO(r,e,t){let n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2D(e||eb,i)}function gO(r,e,t){let n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||nb,i)}function vO(r,e,t){let n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||ib,i)}function _O(r,e,t){let n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||tb,i)}function yO(r){switch(r){case 5126:return eO;case 35664:return tO;case 35665:return nO;case 35666:return iO;case 35674:return rO;case 35675:return sO;case 35676:return oO;case 5124:case 35670:return aO;case 35667:case 35671:return lO;case 35668:case 35672:return cO;case 35669:case 35673:return uO;case 5125:return fO;case 36294:return hO;case 36295:return dO;case 36296:return pO;case 35678:case 36198:case 36298:case 36306:case 35682:return mO;case 35679:case 36299:case 36307:return gO;case 35680:case 36300:case 36308:case 36293:return vO;case 36289:case 36303:case 36311:case 36292:return _O}}function bO(r,e){r.uniform1fv(this.addr,e)}function xO(r,e){let t=Fo(e,this.size,2);r.uniform2fv(this.addr,t)}function wO(r,e){let t=Fo(e,this.size,3);r.uniform3fv(this.addr,t)}function SO(r,e){let t=Fo(e,this.size,4);r.uniform4fv(this.addr,t)}function MO(r,e){let t=Fo(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function TO(r,e){let t=Fo(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function EO(r,e){let t=Fo(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function CO(r,e){r.uniform1iv(this.addr,e)}function AO(r,e){r.uniform2iv(this.addr,e)}function PO(r,e){r.uniform3iv(this.addr,e)}function OO(r,e){r.uniform4iv(this.addr,e)}function kO(r,e){r.uniform1uiv(this.addr,e)}function DO(r,e){r.uniform2uiv(this.addr,e)}function IO(r,e){r.uniform3uiv(this.addr,e)}function LO(r,e){r.uniform4uiv(this.addr,e)}function RO(r,e,t){let n=e.length,i=Jc(t,n);r.uniform1iv(this.addr,i);for(let s=0;s!==n;++s)t.setTexture2D(e[s]||eb,i[s])}function NO(r,e,t){let n=e.length,i=Jc(t,n);r.uniform1iv(this.addr,i);for(let s=0;s!==n;++s)t.setTexture3D(e[s]||nb,i[s])}function zO(r,e,t){let n=e.length,i=Jc(t,n);r.uniform1iv(this.addr,i);for(let s=0;s!==n;++s)t.setTextureCube(e[s]||ib,i[s])}function FO(r,e,t){let n=e.length,i=Jc(t,n);r.uniform1iv(this.addr,i);for(let s=0;s!==n;++s)t.setTexture2DArray(e[s]||tb,i[s])}function BO(r){switch(r){case 5126:return bO;case 35664:return xO;case 35665:return wO;case 35666:return SO;case 35674:return MO;case 35675:return TO;case 35676:return EO;case 5124:case 35670:return CO;case 35667:case 35671:return AO;case 35668:case 35672:return PO;case 35669:case 35673:return OO;case 5125:return kO;case 36294:return DO;case 36295:return IO;case 36296:return LO;case 35678:case 36198:case 36298:case 36306:case 35682:return RO;case 35679:case 36299:case 36307:return NO;case 35680:case 36300:case 36308:case 36293:return zO;case 36289:case 36303:case 36311:case 36292:return FO}}var Jh=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=yO(t.type)}},Zh=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=BO(t.type)}},Kh=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let i=this.seq;for(let s=0,o=i.length;s!==o;++s){let a=i[s];a.setValue(e,t[a.id],n)}}},Bh=/(\w+)(\])?(\[|\.)?/g;function ky(r,e){r.seq.push(e),r.map[e.id]=e}function UO(r,e,t){let n=r.name,i=n.length;for(Bh.lastIndex=0;;){let s=Bh.exec(n),o=Bh.lastIndex,a=s[1],l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){ky(t,c===void 0?new Jh(a,r,e):new Zh(a,r,e));break}else{let h=t.map[a];h===void 0&&(h=new Kh(a),ky(t,h)),t=h}}}var Co=class{constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){let s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);UO(s,o,this)}}setValue(e,t,n,i){let s=this.map[t];s!==void 0&&s.setValue(e,n,i)}setOptional(e,t,n){let i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let s=0,o=t.length;s!==o;++s){let a=t[s],l=n[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){let n=[];for(let i=0,s=e.length;i!==s;++i){let o=e[i];o.id in t&&n.push(o)}return n}};function Dy(r,e,t){let n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}var HO=0;function VO(r,e){let t=r.split(`
`),n=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){let a=o+1;n.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return n.join(`
`)}function WO(r){switch(r){case bs:return["Linear","( value )"];case Rt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",r),["Linear","( value )"]}}function Iy(r,e,t){let n=r.getShaderParameter(e,35713),i=r.getShaderInfoLog(e).trim();if(n&&i==="")return"";let s=/ERROR: 0:(\d+)/.exec(i);if(s){let o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+VO(r.getShaderSource(e),o)}else return i}function GO(r,e){let t=WO(e);return"vec4 "+r+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function $O(r,e){let t;switch(e){case yC:t="Linear";break;case bC:t="Reinhard";break;case xC:t="OptimizedCineon";break;case wC:t="ACESFilmic";break;case SC:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function jO(r){return[r.extensionDerivatives||!!r.envMapCubeUVHeight||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Fa).join(`
`)}function qO(r){let e=[];for(let t in r){let n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function YO(r,e){let t={},n=r.getProgramParameter(e,35721);for(let i=0;i<n;i++){let s=r.getActiveAttrib(e,i),o=s.name,a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:r.getAttribLocation(e,o),locationSize:a}}return t}function Fa(r){return r!==""}function Ly(r,e){return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ry(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var XO=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qh(r){return r.replace(XO,JO)}function JO(r,e){let t=mt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return Qh(t)}var ZO=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,KO=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ny(r){return r.replace(KO,rb).replace(ZO,QO)}function QO(r,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),rb(r,e,t,n)}function rb(r,e,t,n){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function zy(r){let e="precision "+r.precision+` float;
precision `+r.precision+" int;";return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function e3(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===jy?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===JE?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===za&&(e="SHADOWMAP_TYPE_VSM"),e}function t3(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Po:case Oo:e="ENVMAP_TYPE_CUBE";break;case Yc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function n3(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case Oo:e="ENVMAP_MODE_REFRACTION";break}return e}function i3(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case qc:e="ENVMAP_BLENDING_MULTIPLY";break;case vC:e="ENVMAP_BLENDING_MIX";break;case _C:e="ENVMAP_BLENDING_ADD";break}return e}function r3(r){let e=r.envMapCubeUVHeight;if(e===null)return null;let t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function s3(r,e,t,n){let i=r.getContext(),s=t.defines,o=t.vertexShader,a=t.fragmentShader,l=e3(t),c=t3(t),u=n3(t),h=i3(t),f=r3(t),y=t.isWebGL2?"":jO(t),w=qO(s),_=i.createProgram(),v,S,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[w].filter(Fa).join(`
`),v.length>0&&(v+=`
`),S=[y,w].filter(Fa).join(`
`),S.length>0&&(S+=`
`)):(v=[zy(t),"#define SHADER_NAME "+t.shaderName,w,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fa).join(`
`),S=[y,zy(t),"#define SHADER_NAME "+t.shaderName,w,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==fr?"#define TONE_MAPPING":"",t.toneMapping!==fr?mt.tonemapping_pars_fragment:"",t.toneMapping!==fr?$O("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",mt.encodings_pars_fragment,GO("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Fa).join(`
`)),o=Qh(o),o=Ly(o,t),o=Ry(o,t),a=Qh(a),a=Ly(a,t),a=Ry(a,t),o=Ny(o),a=Ny(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,S=["#define varying in",t.glslVersion===oy?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===oy?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);let T=C+v+o,E=C+S+a,k=Dy(i,35633,T),O=Dy(i,35632,E);if(i.attachShader(_,k),i.attachShader(_,O),t.index0AttributeName!==void 0?i.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_),r.debug.checkShaderErrors){let D=i.getProgramInfoLog(_).trim(),z=i.getShaderInfoLog(k).trim(),I=i.getShaderInfoLog(O).trim(),F=!0,j=!0;if(i.getProgramParameter(_,35714)===!1){F=!1;let U=Iy(i,k,"vertex"),W=Iy(i,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,35715)+`

Program Info Log: `+D+`
`+U+`
`+W)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):(z===""||I==="")&&(j=!1);j&&(this.diagnostics={runnable:F,programLog:D,vertexShader:{log:z,prefix:v},fragmentShader:{log:I,prefix:S}})}i.deleteShader(k),i.deleteShader(O);let R;this.getUniforms=function(){return R===void 0&&(R=new Co(i,_)),R};let P;return this.getAttributes=function(){return P===void 0&&(P=YO(i,_)),P},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.name=t.shaderName,this.id=HO++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=k,this.fragmentShader=O,this}var o3=0,ed=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){let t=this.shaderCache;if(t.has(e)===!1){let n=new td(e);t.set(e,n)}return t.get(e)}},td=class{constructor(e){this.id=o3++,this.code=e,this.usedTimes=0}};function a3(r,e,t,n,i,s,o){let a=new Ga,l=new ed,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,f=i.vertexTextures,y=i.precision,w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(P,D,z,I,F){let j=I.fog,U=F.geometry,W=P.isMeshStandardMaterial?I.environment:null,G=(P.isMeshStandardMaterial?t:e).get(P.envMap||W),N=!!G&&G.mapping===Yc?G.image.height:null,$=w[P.type];P.precision!==null&&(y=i.getMaxPrecision(P.precision),y!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",y,"instead."));let q=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,J=q!==void 0?q.length:0,re=0;U.morphAttributes.position!==void 0&&(re=1),U.morphAttributes.normal!==void 0&&(re=2),U.morphAttributes.color!==void 0&&(re=3);let te,pe,ye,Ae;if($){let st=ji[$];te=st.vertexShader,pe=st.fragmentShader}else te=P.vertexShader,pe=P.fragmentShader,l.update(P),ye=l.getVertexShaderID(P),Ae=l.getFragmentShaderID(P);let ae=r.getRenderTarget(),je=P.alphaTest>0,oe=P.clearcoat>0,Ee=P.iridescence>0;return{isWebGL2:u,shaderID:$,shaderName:P.type,vertexShader:te,fragmentShader:pe,defines:P.defines,customVertexShaderID:ye,customFragmentShaderID:Ae,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:y,instancing:F.isInstancedMesh===!0,instancingColor:F.isInstancedMesh===!0&&F.instanceColor!==null,supportsVertexTextures:f,outputEncoding:ae===null?r.outputEncoding:ae.isXRRenderTarget===!0?ae.texture.encoding:bs,map:!!P.map,matcap:!!P.matcap,envMap:!!G,envMapMode:G&&G.mapping,envMapCubeUVHeight:N,lightMap:!!P.lightMap,aoMap:!!P.aoMap,emissiveMap:!!P.emissiveMap,bumpMap:!!P.bumpMap,normalMap:!!P.normalMap,objectSpaceNormalMap:P.normalMapType===WC,tangentSpaceNormalMap:P.normalMapType===No,decodeVideoTexture:!!P.map&&P.map.isVideoTexture===!0&&P.map.encoding===Rt,clearcoat:oe,clearcoatMap:oe&&!!P.clearcoatMap,clearcoatRoughnessMap:oe&&!!P.clearcoatRoughnessMap,clearcoatNormalMap:oe&&!!P.clearcoatNormalMap,iridescence:Ee,iridescenceMap:Ee&&!!P.iridescenceMap,iridescenceThicknessMap:Ee&&!!P.iridescenceThicknessMap,displacementMap:!!P.displacementMap,roughnessMap:!!P.roughnessMap,metalnessMap:!!P.metalnessMap,specularMap:!!P.specularMap,specularIntensityMap:!!P.specularIntensityMap,specularColorMap:!!P.specularColorMap,opaque:P.transparent===!1&&P.blending===To,alphaMap:!!P.alphaMap,alphaTest:je,gradientMap:!!P.gradientMap,sheen:P.sheen>0,sheenColorMap:!!P.sheenColorMap,sheenRoughnessMap:!!P.sheenRoughnessMap,transmission:P.transmission>0,transmissionMap:!!P.transmissionMap,thicknessMap:!!P.thicknessMap,combine:P.combine,vertexTangents:!!P.normalMap&&!!U.attributes.tangent,vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,vertexUvs:!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatMap||!!P.clearcoatRoughnessMap||!!P.clearcoatNormalMap||!!P.iridescenceMap||!!P.iridescenceThicknessMap||!!P.displacementMap||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||!!P.sheenColorMap||!!P.sheenRoughnessMap,uvsVertexOnly:!(!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatNormalMap||!!P.iridescenceMap||!!P.iridescenceThicknessMap||P.transmission>0||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||P.sheen>0||!!P.sheenColorMap||!!P.sheenRoughnessMap)&&!!P.displacementMap,fog:!!j,useFog:P.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:!!P.flatShading,sizeAttenuation:P.sizeAttenuation,logarithmicDepthBuffer:h,skinning:F.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:re,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:r.shadowMap.enabled&&z.length>0,shadowMapType:r.shadowMap.type,toneMapping:P.toneMapped?r.toneMapping:fr,physicallyCorrectLights:r.physicallyCorrectLights,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Ao,flipSided:P.side===Ii,useDepthPacking:!!P.depthPacking,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:P.extensions&&P.extensions.derivatives,extensionFragDepth:P.extensions&&P.extensions.fragDepth,extensionDrawBuffers:P.extensions&&P.extensions.drawBuffers,extensionShaderTextureLOD:P.extensions&&P.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function v(P){let D=[];if(P.shaderID?D.push(P.shaderID):(D.push(P.customVertexShaderID),D.push(P.customFragmentShaderID)),P.defines!==void 0)for(let z in P.defines)D.push(z),D.push(P.defines[z]);return P.isRawShaderMaterial===!1&&(S(D,P),C(D,P),D.push(r.outputEncoding)),D.push(P.customProgramCacheKey),D.join()}function S(P,D){P.push(D.precision),P.push(D.outputEncoding),P.push(D.envMapMode),P.push(D.envMapCubeUVHeight),P.push(D.combine),P.push(D.vertexUvs),P.push(D.fogExp2),P.push(D.sizeAttenuation),P.push(D.morphTargetsCount),P.push(D.morphAttributeCount),P.push(D.numDirLights),P.push(D.numPointLights),P.push(D.numSpotLights),P.push(D.numHemiLights),P.push(D.numRectAreaLights),P.push(D.numDirLightShadows),P.push(D.numPointLightShadows),P.push(D.numSpotLightShadows),P.push(D.shadowMapType),P.push(D.toneMapping),P.push(D.numClippingPlanes),P.push(D.numClipIntersection),P.push(D.depthPacking)}function C(P,D){a.disableAll(),D.isWebGL2&&a.enable(0),D.supportsVertexTextures&&a.enable(1),D.instancing&&a.enable(2),D.instancingColor&&a.enable(3),D.map&&a.enable(4),D.matcap&&a.enable(5),D.envMap&&a.enable(6),D.lightMap&&a.enable(7),D.aoMap&&a.enable(8),D.emissiveMap&&a.enable(9),D.bumpMap&&a.enable(10),D.normalMap&&a.enable(11),D.objectSpaceNormalMap&&a.enable(12),D.tangentSpaceNormalMap&&a.enable(13),D.clearcoat&&a.enable(14),D.clearcoatMap&&a.enable(15),D.clearcoatRoughnessMap&&a.enable(16),D.clearcoatNormalMap&&a.enable(17),D.iridescence&&a.enable(18),D.iridescenceMap&&a.enable(19),D.iridescenceThicknessMap&&a.enable(20),D.displacementMap&&a.enable(21),D.specularMap&&a.enable(22),D.roughnessMap&&a.enable(23),D.metalnessMap&&a.enable(24),D.gradientMap&&a.enable(25),D.alphaMap&&a.enable(26),D.alphaTest&&a.enable(27),D.vertexColors&&a.enable(28),D.vertexAlphas&&a.enable(29),D.vertexUvs&&a.enable(30),D.vertexTangents&&a.enable(31),D.uvsVertexOnly&&a.enable(32),D.fog&&a.enable(33),P.push(a.mask),a.disableAll(),D.useFog&&a.enable(0),D.flatShading&&a.enable(1),D.logarithmicDepthBuffer&&a.enable(2),D.skinning&&a.enable(3),D.morphTargets&&a.enable(4),D.morphNormals&&a.enable(5),D.morphColors&&a.enable(6),D.premultipliedAlpha&&a.enable(7),D.shadowMapEnabled&&a.enable(8),D.physicallyCorrectLights&&a.enable(9),D.doubleSided&&a.enable(10),D.flipSided&&a.enable(11),D.useDepthPacking&&a.enable(12),D.dithering&&a.enable(13),D.specularIntensityMap&&a.enable(14),D.specularColorMap&&a.enable(15),D.transmission&&a.enable(16),D.transmissionMap&&a.enable(17),D.thicknessMap&&a.enable(18),D.sheen&&a.enable(19),D.sheenColorMap&&a.enable(20),D.sheenRoughnessMap&&a.enable(21),D.decodeVideoTexture&&a.enable(22),D.opaque&&a.enable(23),P.push(a.mask)}function T(P){let D=w[P.type],z;if(D){let I=ji[D];z=zo.clone(I.uniforms)}else z=P.uniforms;return z}function E(P,D){let z;for(let I=0,F=c.length;I<F;I++){let j=c[I];if(j.cacheKey===D){z=j,++z.usedTimes;break}}return z===void 0&&(z=new s3(r,D,P,s),c.push(z)),z}function k(P){if(--P.usedTimes===0){let D=c.indexOf(P);c[D]=c[c.length-1],c.pop(),P.destroy()}}function O(P){l.remove(P)}function R(){l.dispose()}return{getParameters:_,getProgramCacheKey:v,getUniforms:T,acquireProgram:E,releaseProgram:k,releaseShaderCache:O,programs:c,dispose:R}}function l3(){let r=new WeakMap;function e(s){let o=r.get(s);return o===void 0&&(o={},r.set(s,o)),o}function t(s){r.delete(s)}function n(s,o,a){r.get(s)[o]=a}function i(){r=new WeakMap}return{get:e,remove:t,update:n,dispose:i}}function c3(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function Fy(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function By(){let r=[],e=0,t=[],n=[],i=[];function s(){e=0,t.length=0,n.length=0,i.length=0}function o(h,f,y,w,_,v){let S=r[e];return S===void 0?(S={id:h.id,object:h,geometry:f,material:y,groupOrder:w,renderOrder:h.renderOrder,z:_,group:v},r[e]=S):(S.id=h.id,S.object=h,S.geometry=f,S.material=y,S.groupOrder=w,S.renderOrder=h.renderOrder,S.z=_,S.group=v),e++,S}function a(h,f,y,w,_,v){let S=o(h,f,y,w,_,v);y.transmission>0?n.push(S):y.transparent===!0?i.push(S):t.push(S)}function l(h,f,y,w,_,v){let S=o(h,f,y,w,_,v);y.transmission>0?n.unshift(S):y.transparent===!0?i.unshift(S):t.unshift(S)}function c(h,f){t.length>1&&t.sort(h||c3),n.length>1&&n.sort(f||Fy),i.length>1&&i.sort(f||Fy)}function u(){for(let h=e,f=r.length;h<f;h++){let y=r[h];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:n,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function u3(){let r=new WeakMap;function e(n,i){let s;return r.has(n)===!1?(s=new By,r.set(n,[s])):i>=r.get(n).length?(s=new By,r.get(n).push(s)):s=r.get(n)[i],s}function t(){r=new WeakMap}return{get:e,dispose:t}}function f3(){let r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ne,color:new tt};break;case"SpotLight":t={position:new ne,direction:new ne,color:new tt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ne,color:new tt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ne,skyColor:new tt,groundColor:new tt};break;case"RectAreaLight":t={color:new tt,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return r[e.id]=t,t}}}function h3(){let r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}var d3=0;function p3(r,e){return(e.castShadow?1:0)-(r.castShadow?1:0)}function m3(r,e){let t=new f3,n=h3(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new ne);let s=new ne,o=new Xt,a=new Xt;function l(u,h){let f=0,y=0,w=0;for(let D=0;D<9;D++)i.probe[D].set(0,0,0);let _=0,v=0,S=0,C=0,T=0,E=0,k=0,O=0;u.sort(p3);let R=h!==!0?Math.PI:1;for(let D=0,z=u.length;D<z;D++){let I=u[D],F=I.color,j=I.intensity,U=I.distance,W=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)f+=F.r*j*R,y+=F.g*j*R,w+=F.b*j*R;else if(I.isLightProbe)for(let G=0;G<9;G++)i.probe[G].addScaledVector(I.sh.coefficients[G],j);else if(I.isDirectionalLight){let G=t.get(I);if(G.color.copy(I.color).multiplyScalar(I.intensity*R),I.castShadow){let N=I.shadow,$=n.get(I);$.shadowBias=N.bias,$.shadowNormalBias=N.normalBias,$.shadowRadius=N.radius,$.shadowMapSize=N.mapSize,i.directionalShadow[_]=$,i.directionalShadowMap[_]=W,i.directionalShadowMatrix[_]=I.shadow.matrix,E++}i.directional[_]=G,_++}else if(I.isSpotLight){let G=t.get(I);if(G.position.setFromMatrixPosition(I.matrixWorld),G.color.copy(F).multiplyScalar(j*R),G.distance=U,G.coneCos=Math.cos(I.angle),G.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),G.decay=I.decay,I.castShadow){let N=I.shadow,$=n.get(I);$.shadowBias=N.bias,$.shadowNormalBias=N.normalBias,$.shadowRadius=N.radius,$.shadowMapSize=N.mapSize,i.spotShadow[S]=$,i.spotShadowMap[S]=W,i.spotShadowMatrix[S]=I.shadow.matrix,O++}i.spot[S]=G,S++}else if(I.isRectAreaLight){let G=t.get(I);G.color.copy(F).multiplyScalar(j),G.halfWidth.set(I.width*.5,0,0),G.halfHeight.set(0,I.height*.5,0),i.rectArea[C]=G,C++}else if(I.isPointLight){let G=t.get(I);if(G.color.copy(I.color).multiplyScalar(I.intensity*R),G.distance=I.distance,G.decay=I.decay,I.castShadow){let N=I.shadow,$=n.get(I);$.shadowBias=N.bias,$.shadowNormalBias=N.normalBias,$.shadowRadius=N.radius,$.shadowMapSize=N.mapSize,$.shadowCameraNear=N.camera.near,$.shadowCameraFar=N.camera.far,i.pointShadow[v]=$,i.pointShadowMap[v]=W,i.pointShadowMatrix[v]=I.shadow.matrix,k++}i.point[v]=G,v++}else if(I.isHemisphereLight){let G=t.get(I);G.skyColor.copy(I.color).multiplyScalar(j*R),G.groundColor.copy(I.groundColor).multiplyScalar(j*R),i.hemi[T]=G,T++}}C>0&&(e.isWebGL2||r.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ne.LTC_FLOAT_1,i.rectAreaLTC2=Ne.LTC_FLOAT_2):r.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ne.LTC_HALF_1,i.rectAreaLTC2=Ne.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=y,i.ambient[2]=w;let P=i.hash;(P.directionalLength!==_||P.pointLength!==v||P.spotLength!==S||P.rectAreaLength!==C||P.hemiLength!==T||P.numDirectionalShadows!==E||P.numPointShadows!==k||P.numSpotShadows!==O)&&(i.directional.length=_,i.spot.length=S,i.rectArea.length=C,i.point.length=v,i.hemi.length=T,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=k,i.pointShadowMap.length=k,i.spotShadow.length=O,i.spotShadowMap.length=O,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=k,i.spotShadowMatrix.length=O,P.directionalLength=_,P.pointLength=v,P.spotLength=S,P.rectAreaLength=C,P.hemiLength=T,P.numDirectionalShadows=E,P.numPointShadows=k,P.numSpotShadows=O,i.version=d3++)}function c(u,h){let f=0,y=0,w=0,_=0,v=0,S=h.matrixWorldInverse;for(let C=0,T=u.length;C<T;C++){let E=u[C];if(E.isDirectionalLight){let k=i.directional[f];k.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),k.direction.sub(s),k.direction.transformDirection(S),f++}else if(E.isSpotLight){let k=i.spot[w];k.position.setFromMatrixPosition(E.matrixWorld),k.position.applyMatrix4(S),k.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),k.direction.sub(s),k.direction.transformDirection(S),w++}else if(E.isRectAreaLight){let k=i.rectArea[_];k.position.setFromMatrixPosition(E.matrixWorld),k.position.applyMatrix4(S),a.identity(),o.copy(E.matrixWorld),o.premultiply(S),a.extractRotation(o),k.halfWidth.set(E.width*.5,0,0),k.halfHeight.set(0,E.height*.5,0),k.halfWidth.applyMatrix4(a),k.halfHeight.applyMatrix4(a),_++}else if(E.isPointLight){let k=i.point[y];k.position.setFromMatrixPosition(E.matrixWorld),k.position.applyMatrix4(S),y++}else if(E.isHemisphereLight){let k=i.hemi[v];k.direction.setFromMatrixPosition(E.matrixWorld),k.direction.transformDirection(S),v++}}}return{setup:l,setupView:c,state:i}}function Uy(r,e){let t=new m3(r,e),n=[],i=[];function s(){n.length=0,i.length=0}function o(h){n.push(h)}function a(h){i.push(h)}function l(h){t.setup(n,h)}function c(h){t.setupView(n,h)}return{init:s,state:{lightsArray:n,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function g3(r,e){let t=new WeakMap;function n(s,o=0){let a;return t.has(s)===!1?(a=new Uy(r,e),t.set(s,[a])):o>=t.get(s).length?(a=new Uy(r,e),t.get(s).push(a)):a=t.get(s)[o],a}function i(){t=new WeakMap}return{get:n,dispose:i}}var zc=class extends Jt{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=HC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},Fc=class extends Jt{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ne,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},v3=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,_3=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function y3(r,e,t){let n=new Rc,i=new Xe,s=new Xe,o=new sn,a=new zc({depthPacking:VC}),l=new Fc,c={},u=t.maxTextureSize,h={0:Ii,1:Ua,2:Ao},f=new Zt({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xe},radius:{value:4}},vertexShader:v3,fragmentShader:_3}),y=f.clone();y.defines.HORIZONTAL_PASS=1;let w=new vn;w.setAttribute("position",new Ft(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let _=new Tn(w,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jy,this.render=function(E,k,O){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||E.length===0)return;let R=r.getRenderTarget(),P=r.getActiveCubeFace(),D=r.getActiveMipmapLevel(),z=r.state;z.setBlending(kr),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);for(let I=0,F=E.length;I<F;I++){let j=E[I],U=j.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;i.copy(U.mapSize);let W=U.getFrameExtents();if(i.multiply(W),s.copy(U.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/W.x),i.x=s.x*W.x,U.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/W.y),i.y=s.y*W.y,U.mapSize.y=s.y)),U.map===null&&!U.isPointLightShadow&&this.type===za&&(U.map=new gn(i.x,i.y),U.map.texture.name=j.name+".shadowMap",U.mapPass=new gn(i.x,i.y),U.camera.updateProjectionMatrix()),U.map===null){let N={minFilter:Bn,magFilter:Bn,format:Di};U.map=new gn(i.x,i.y,N),U.map.texture.name=j.name+".shadowMap",U.camera.updateProjectionMatrix()}r.setRenderTarget(U.map),r.clear();let G=U.getViewportCount();for(let N=0;N<G;N++){let $=U.getViewport(N);o.set(s.x*$.x,s.y*$.y,s.x*$.z,s.y*$.w),z.viewport(o),U.updateMatrices(j,N),n=U.getFrustum(),T(k,O,U.camera,j,this.type)}!U.isPointLightShadow&&this.type===za&&S(U,O),U.needsUpdate=!1}v.needsUpdate=!1,r.setRenderTarget(R,P,D)};function S(E,k){let O=e.update(_);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,y.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,y.needsUpdate=!0),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,r.setRenderTarget(E.mapPass),r.clear(),r.renderBufferDirect(k,null,O,f,_,null),y.uniforms.shadow_pass.value=E.mapPass.texture,y.uniforms.resolution.value=E.mapSize,y.uniforms.radius.value=E.radius,r.setRenderTarget(E.map),r.clear(),r.renderBufferDirect(k,null,O,y,_,null)}function C(E,k,O,R,P,D){let z=null,I=O.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(I!==void 0?z=I:z=O.isPointLight===!0?l:a,r.localClippingEnabled&&k.clipShadows===!0&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0){let F=z.uuid,j=k.uuid,U=c[F];U===void 0&&(U={},c[F]=U);let W=U[j];W===void 0&&(W=z.clone(),U[j]=W),z=W}return z.visible=k.visible,z.wireframe=k.wireframe,D===za?z.side=k.shadowSide!==null?k.shadowSide:k.side:z.side=k.shadowSide!==null?k.shadowSide:h[k.side],z.alphaMap=k.alphaMap,z.alphaTest=k.alphaTest,z.clipShadows=k.clipShadows,z.clippingPlanes=k.clippingPlanes,z.clipIntersection=k.clipIntersection,z.displacementMap=k.displacementMap,z.displacementScale=k.displacementScale,z.displacementBias=k.displacementBias,z.wireframeLinewidth=k.wireframeLinewidth,z.linewidth=k.linewidth,O.isPointLight===!0&&z.isMeshDistanceMaterial===!0&&(z.referencePosition.setFromMatrixPosition(O.matrixWorld),z.nearDistance=R,z.farDistance=P),z}function T(E,k,O,R,P){if(E.visible===!1)return;if(E.layers.test(k.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&P===za)&&(!E.frustumCulled||n.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,E.matrixWorld);let I=e.update(E),F=E.material;if(Array.isArray(F)){let j=I.groups;for(let U=0,W=j.length;U<W;U++){let G=j[U],N=F[G.materialIndex];if(N&&N.visible){let $=C(E,N,R,O.near,O.far,P);r.renderBufferDirect(O,null,I,$,E,G)}}}else if(F.visible){let j=C(E,F,R,O.near,O.far,P);r.renderBufferDirect(O,null,I,j,E,null)}}let z=E.children;for(let I=0,F=z.length;I<F;I++)T(z[I],k,O,R,P)}}function b3(r,e,t){let n=t.isWebGL2;function i(){let Z=!1,ke=new sn,De=null,Ke=new sn(0,0,0,0);return{setMask:function(Be){De!==Be&&!Z&&(r.colorMask(Be,Be,Be,Be),De=Be)},setLocked:function(Be){Z=Be},setClear:function(Be,et,ce,Me,Ue){Ue===!0&&(Be*=Me,et*=Me,ce*=Me),ke.set(Be,et,ce,Me),Ke.equals(ke)===!1&&(r.clearColor(Be,et,ce,Me),Ke.copy(ke))},reset:function(){Z=!1,De=null,Ke.set(-1,0,0,0)}}}function s(){let Z=!1,ke=null,De=null,Ke=null;return{setTest:function(Be){Be?Ae(2929):ae(2929)},setMask:function(Be){ke!==Be&&!Z&&(r.depthMask(Be),ke=Be)},setFunc:function(Be){if(De!==Be){if(Be)switch(Be){case uC:r.depthFunc(512);break;case fC:r.depthFunc(519);break;case hC:r.depthFunc(513);break;case Uh:r.depthFunc(515);break;case dC:r.depthFunc(514);break;case pC:r.depthFunc(518);break;case mC:r.depthFunc(516);break;case gC:r.depthFunc(517);break;default:r.depthFunc(515)}else r.depthFunc(515);De=Be}},setLocked:function(Be){Z=Be},setClear:function(Be){Ke!==Be&&(r.clearDepth(Be),Ke=Be)},reset:function(){Z=!1,ke=null,De=null,Ke=null}}}function o(){let Z=!1,ke=null,De=null,Ke=null,Be=null,et=null,ce=null,Me=null,Ue=null;return{setTest:function(qe){Z||(qe?Ae(2960):ae(2960))},setMask:function(qe){ke!==qe&&!Z&&(r.stencilMask(qe),ke=qe)},setFunc:function(qe,pt,wn){(De!==qe||Ke!==pt||Be!==wn)&&(r.stencilFunc(qe,pt,wn),De=qe,Ke=pt,Be=wn)},setOp:function(qe,pt,wn){(et!==qe||ce!==pt||Me!==wn)&&(r.stencilOp(qe,pt,wn),et=qe,ce=pt,Me=wn)},setLocked:function(qe){Z=qe},setClear:function(qe){Ue!==qe&&(r.clearStencil(qe),Ue=qe)},reset:function(){Z=!1,ke=null,De=null,Ke=null,Be=null,et=null,ce=null,Me=null,Ue=null}}}let a=new i,l=new s,c=new o,u={},h={},f=new WeakMap,y=[],w=null,_=!1,v=null,S=null,C=null,T=null,E=null,k=null,O=null,R=!1,P=null,D=null,z=null,I=null,F=null,j=r.getParameter(35661),U=!1,W=0,G=r.getParameter(7938);G.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(G)[1]),U=W>=1):G.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),U=W>=2);let N=null,$={},q=r.getParameter(3088),J=r.getParameter(2978),re=new sn().fromArray(q),te=new sn().fromArray(J);function pe(Z,ke,De){let Ke=new Uint8Array(4),Be=r.createTexture();r.bindTexture(Z,Be),r.texParameteri(Z,10241,9728),r.texParameteri(Z,10240,9728);for(let et=0;et<De;et++)r.texImage2D(ke+et,0,6408,1,1,0,6408,5121,Ke);return Be}let ye={};ye[3553]=pe(3553,3553,1),ye[34067]=pe(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ae(2929),l.setFunc(Uh),ut(!1),Je(A_),Ae(2884),Ve(kr);function Ae(Z){u[Z]!==!0&&(r.enable(Z),u[Z]=!0)}function ae(Z){u[Z]!==!1&&(r.disable(Z),u[Z]=!1)}function je(Z,ke){return h[Z]!==ke?(r.bindFramebuffer(Z,ke),h[Z]=ke,n&&(Z===36009&&(h[36160]=ke),Z===36160&&(h[36009]=ke)),!0):!1}function oe(Z,ke){let De=y,Ke=!1;if(Z)if(De=f.get(ke),De===void 0&&(De=[],f.set(ke,De)),Z.isWebGLMultipleRenderTargets){let Be=Z.texture;if(De.length!==Be.length||De[0]!==36064){for(let et=0,ce=Be.length;et<ce;et++)De[et]=36064+et;De.length=Be.length,Ke=!0}}else De[0]!==36064&&(De[0]=36064,Ke=!0);else De[0]!==1029&&(De[0]=1029,Ke=!0);Ke&&(t.isWebGL2?r.drawBuffers(De):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(De))}function Ee(Z){return w!==Z?(r.useProgram(Z),w=Z,!0):!1}let ve={[wo]:32774,[QE]:32778,[eC]:32779};if(n)ve[k_]=32775,ve[D_]=32776;else{let Z=e.get("EXT_blend_minmax");Z!==null&&(ve[k_]=Z.MIN_EXT,ve[D_]=Z.MAX_EXT)}let st={[tC]:0,[nC]:1,[iC]:768,[qy]:770,[cC]:776,[aC]:774,[sC]:772,[rC]:769,[Yy]:771,[lC]:775,[oC]:773};function Ve(Z,ke,De,Ke,Be,et,ce,Me){if(Z===kr){_===!0&&(ae(3042),_=!1);return}if(_===!1&&(Ae(3042),_=!0),Z!==KE){if(Z!==v||Me!==R){if((S!==wo||E!==wo)&&(r.blendEquation(32774),S=wo,E=wo),Me)switch(Z){case To:r.blendFuncSeparate(1,771,1,771);break;case Tc:r.blendFunc(1,1);break;case P_:r.blendFuncSeparate(0,769,0,1);break;case O_:r.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case To:r.blendFuncSeparate(770,771,1,771);break;case Tc:r.blendFunc(770,1);break;case P_:r.blendFuncSeparate(0,769,0,1);break;case O_:r.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}C=null,T=null,k=null,O=null,v=Z,R=Me}return}Be=Be||ke,et=et||De,ce=ce||Ke,(ke!==S||Be!==E)&&(r.blendEquationSeparate(ve[ke],ve[Be]),S=ke,E=Be),(De!==C||Ke!==T||et!==k||ce!==O)&&(r.blendFuncSeparate(st[De],st[Ke],st[et],st[ce]),C=De,T=Ke,k=et,O=ce),v=Z,R=null}function He(Z,ke){Z.side===Ao?ae(2884):Ae(2884);let De=Z.side===Ii;ke&&(De=!De),ut(De),Z.blending===To&&Z.transparent===!1?Ve(kr):Ve(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),a.setMask(Z.colorWrite);let Ke=Z.stencilWrite;c.setTest(Ke),Ke&&(c.setMask(Z.stencilWriteMask),c.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),c.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),Le(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?Ae(32926):ae(32926)}function ut(Z){P!==Z&&(Z?r.frontFace(2304):r.frontFace(2305),P=Z)}function Je(Z){Z!==YE?(Ae(2884),Z!==D&&(Z===A_?r.cullFace(1029):Z===XE?r.cullFace(1028):r.cullFace(1032))):ae(2884),D=Z}function bt(Z){Z!==z&&(U&&r.lineWidth(Z),z=Z)}function Le(Z,ke,De){Z?(Ae(32823),(I!==ke||F!==De)&&(r.polygonOffset(ke,De),I=ke,F=De)):ae(32823)}function Ct(Z){Z?Ae(3089):ae(3089)}function ht(Z){Z===void 0&&(Z=33984+j-1),N!==Z&&(r.activeTexture(Z),N=Z)}function pn(Z,ke){N===null&&ht();let De=$[N];De===void 0&&(De={type:void 0,texture:void 0},$[N]=De),(De.type!==Z||De.texture!==ke)&&(r.bindTexture(Z,ke||ye[Z]),De.type=Z,De.texture=ke)}function It(){let Z=$[N];Z!==void 0&&Z.type!==void 0&&(r.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function X(){try{r.compressedTexImage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function V(){try{r.texSubImage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function fe(){try{r.texSubImage3D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function be(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Te(){try{r.texStorage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Pe(){try{r.texStorage3D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ze(){try{r.texImage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function he(){try{r.texImage3D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ge(Z){re.equals(Z)===!1&&(r.scissor(Z.x,Z.y,Z.z,Z.w),re.copy(Z))}function Fe(Z){te.equals(Z)===!1&&(r.viewport(Z.x,Z.y,Z.z,Z.w),te.copy(Z))}function Re(){r.disable(3042),r.disable(2884),r.disable(2929),r.disable(32823),r.disable(3089),r.disable(2960),r.disable(32926),r.blendEquation(32774),r.blendFunc(1,0),r.blendFuncSeparate(1,0,1,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(513),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(519,0,4294967295),r.stencilOp(7680,7680,7680),r.clearStencil(0),r.cullFace(1029),r.frontFace(2305),r.polygonOffset(0,0),r.activeTexture(33984),r.bindFramebuffer(36160,null),n===!0&&(r.bindFramebuffer(36009,null),r.bindFramebuffer(36008,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),u={},N=null,$={},h={},f=new WeakMap,y=[],w=null,_=!1,v=null,S=null,C=null,T=null,E=null,k=null,O=null,R=!1,P=null,D=null,z=null,I=null,F=null,re.set(0,0,r.canvas.width,r.canvas.height),te.set(0,0,r.canvas.width,r.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ae,disable:ae,bindFramebuffer:je,drawBuffers:oe,useProgram:Ee,setBlending:Ve,setMaterial:He,setFlipSided:ut,setCullFace:Je,setLineWidth:bt,setPolygonOffset:Le,setScissorTest:Ct,activeTexture:ht,bindTexture:pn,unbindTexture:It,compressedTexImage2D:X,texImage2D:Ze,texImage3D:he,texStorage2D:Te,texStorage3D:Pe,texSubImage2D:V,texSubImage3D:fe,compressedTexSubImage2D:be,scissor:Ge,viewport:Fe,reset:Re}}function x3(r,e,t,n,i,s,o){let a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,y=/OculusBrowser/g.test(navigator.userAgent),w=new WeakMap,_,v=new WeakMap,S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(X,V){return S?new OffscreenCanvas(X,V):Va("canvas")}function T(X,V,fe,be){let Te=1;if((X.width>be||X.height>be)&&(Te=be/Math.max(X.width,X.height)),Te<1||V===!0)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap){let Pe=V?jh:Math.floor,Ze=Pe(Te*X.width),he=Pe(Te*X.height);_===void 0&&(_=C(Ze,he));let Ge=fe?C(Ze,he):_;return Ge.width=Ze,Ge.height=he,Ge.getContext("2d").drawImage(X,0,0,Ze,he),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+X.width+"x"+X.height+") to ("+Ze+"x"+he+")."),Ge}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+X.width+"x"+X.height+")."),X;return X}function E(X){return ly(X.width)&&ly(X.height)}function k(X){return a?!1:X.wrapS!==ki||X.wrapT!==ki||X.minFilter!==Bn&&X.minFilter!==gi}function O(X,V){return X.generateMipmaps&&V&&X.minFilter!==Bn&&X.minFilter!==gi}function R(X){r.generateMipmap(X)}function P(X,V,fe,be,Te=!1){if(a===!1)return V;if(X!==null){if(r[X]!==void 0)return r[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let Pe=V;return V===6403&&(fe===5126&&(Pe=33326),fe===5131&&(Pe=33325),fe===5121&&(Pe=33321)),V===33319&&(fe===5126&&(Pe=33328),fe===5131&&(Pe=33327),fe===5121&&(Pe=33323)),V===6408&&(fe===5126&&(Pe=34836),fe===5131&&(Pe=34842),fe===5121&&(Pe=be===Rt&&Te===!1?35907:32856),fe===32819&&(Pe=32854),fe===32820&&(Pe=32855)),(Pe===33325||Pe===33326||Pe===33327||Pe===33328||Pe===34842||Pe===34836)&&e.get("EXT_color_buffer_float"),Pe}function D(X,V,fe){return O(X,fe)===!0||X.isFramebufferTexture&&X.minFilter!==Bn&&X.minFilter!==gi?Math.log2(Math.max(V.width,V.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?V.mipmaps.length:1}function z(X){return X===Bn||X===I_||X===L_?9728:9729}function I(X){let V=X.target;V.removeEventListener("dispose",I),j(V),V.isVideoTexture&&w.delete(V)}function F(X){let V=X.target;V.removeEventListener("dispose",F),W(V)}function j(X){let V=n.get(X);if(V.__webglInit===void 0)return;let fe=X.source,be=v.get(fe);if(be){let Te=be[V.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&U(X),Object.keys(be).length===0&&v.delete(fe)}n.remove(X)}function U(X){let V=n.get(X);r.deleteTexture(V.__webglTexture);let fe=X.source,be=v.get(fe);delete be[V.__cacheKey],o.memory.textures--}function W(X){let V=X.texture,fe=n.get(X),be=n.get(V);if(be.__webglTexture!==void 0&&(r.deleteTexture(be.__webglTexture),o.memory.textures--),X.depthTexture&&X.depthTexture.dispose(),X.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)r.deleteFramebuffer(fe.__webglFramebuffer[Te]),fe.__webglDepthbuffer&&r.deleteRenderbuffer(fe.__webglDepthbuffer[Te]);else{if(r.deleteFramebuffer(fe.__webglFramebuffer),fe.__webglDepthbuffer&&r.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&r.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let Te=0;Te<fe.__webglColorRenderbuffer.length;Te++)fe.__webglColorRenderbuffer[Te]&&r.deleteRenderbuffer(fe.__webglColorRenderbuffer[Te]);fe.__webglDepthRenderbuffer&&r.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(X.isWebGLMultipleRenderTargets)for(let Te=0,Pe=V.length;Te<Pe;Te++){let Ze=n.get(V[Te]);Ze.__webglTexture&&(r.deleteTexture(Ze.__webglTexture),o.memory.textures--),n.remove(V[Te])}n.remove(V),n.remove(X)}let G=0;function N(){G=0}function $(){let X=G;return X>=l&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+l),G+=1,X}function q(X){let V=[];return V.push(X.wrapS),V.push(X.wrapT),V.push(X.magFilter),V.push(X.minFilter),V.push(X.anisotropy),V.push(X.internalFormat),V.push(X.format),V.push(X.type),V.push(X.generateMipmaps),V.push(X.premultiplyAlpha),V.push(X.flipY),V.push(X.unpackAlignment),V.push(X.encoding),V.join()}function J(X,V){let fe=n.get(X);if(X.isVideoTexture&&pn(X),X.isRenderTargetTexture===!1&&X.version>0&&fe.__version!==X.version){let be=X.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{oe(fe,X,V);return}}t.activeTexture(33984+V),t.bindTexture(3553,fe.__webglTexture)}function re(X,V){let fe=n.get(X);if(X.version>0&&fe.__version!==X.version){oe(fe,X,V);return}t.activeTexture(33984+V),t.bindTexture(35866,fe.__webglTexture)}function te(X,V){let fe=n.get(X);if(X.version>0&&fe.__version!==X.version){oe(fe,X,V);return}t.activeTexture(33984+V),t.bindTexture(32879,fe.__webglTexture)}function pe(X,V){let fe=n.get(X);if(X.version>0&&fe.__version!==X.version){Ee(fe,X,V);return}t.activeTexture(33984+V),t.bindTexture(34067,fe.__webglTexture)}let ye={[Wh]:10497,[ki]:33071,[Gh]:33648},Ae={[Bn]:9728,[I_]:9984,[L_]:9986,[gi]:9729,[MC]:9985,[Xc]:9987};function ae(X,V,fe){if(fe?(r.texParameteri(X,10242,ye[V.wrapS]),r.texParameteri(X,10243,ye[V.wrapT]),(X===32879||X===35866)&&r.texParameteri(X,32882,ye[V.wrapR]),r.texParameteri(X,10240,Ae[V.magFilter]),r.texParameteri(X,10241,Ae[V.minFilter])):(r.texParameteri(X,10242,33071),r.texParameteri(X,10243,33071),(X===32879||X===35866)&&r.texParameteri(X,32882,33071),(V.wrapS!==ki||V.wrapT!==ki)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(X,10240,z(V.magFilter)),r.texParameteri(X,10241,z(V.minFilter)),V.minFilter!==Bn&&V.minFilter!==gi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){let be=e.get("EXT_texture_filter_anisotropic");if(V.type===ms&&e.has("OES_texture_float_linear")===!1||a===!1&&V.type===Ha&&e.has("OES_texture_half_float_linear")===!1)return;(V.anisotropy>1||n.get(V).__currentAnisotropy)&&(r.texParameterf(X,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),n.get(V).__currentAnisotropy=V.anisotropy)}}function je(X,V){let fe=!1;X.__webglInit===void 0&&(X.__webglInit=!0,V.addEventListener("dispose",I));let be=V.source,Te=v.get(be);Te===void 0&&(Te={},v.set(be,Te));let Pe=q(V);if(Pe!==X.__cacheKey){Te[Pe]===void 0&&(Te[Pe]={texture:r.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Te[Pe].usedTimes++;let Ze=Te[X.__cacheKey];Ze!==void 0&&(Te[X.__cacheKey].usedTimes--,Ze.usedTimes===0&&U(V)),X.__cacheKey=Pe,X.__webglTexture=Te[Pe].texture}return fe}function oe(X,V,fe){let be=3553;V.isDataArrayTexture&&(be=35866),V.isData3DTexture&&(be=32879);let Te=je(X,V),Pe=V.source;if(t.activeTexture(33984+fe),t.bindTexture(be,X.__webglTexture),Pe.version!==Pe.__currentVersion||Te===!0){r.pixelStorei(37440,V.flipY),r.pixelStorei(37441,V.premultiplyAlpha),r.pixelStorei(3317,V.unpackAlignment),r.pixelStorei(37443,0);let Ze=k(V)&&E(V.image)===!1,he=T(V.image,Ze,!1,u);he=It(V,he);let Ge=E(he)||a,Fe=s.convert(V.format,V.encoding),Re=s.convert(V.type),Z=P(V.internalFormat,Fe,Re,V.encoding,V.isVideoTexture);ae(be,V,Ge);let ke,De=V.mipmaps,Ke=a&&V.isVideoTexture!==!0,Be=Pe.__currentVersion===void 0||Te===!0,et=D(V,he,Ge);if(V.isDepthTexture)Z=6402,a?V.type===ms?Z=36012:V.type===ps?Z=33190:V.type===Eo?Z=35056:Z=33189:V.type===ms&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),V.format===vs&&Z===6402&&V.type!==Jy&&V.type!==ps&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),V.type=ps,Re=s.convert(V.type)),V.format===ko&&Z===6402&&(Z=34041,V.type!==Eo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),V.type=Eo,Re=s.convert(V.type))),Be&&(Ke?t.texStorage2D(3553,1,Z,he.width,he.height):t.texImage2D(3553,0,Z,he.width,he.height,0,Fe,Re,null));else if(V.isDataTexture)if(De.length>0&&Ge){Ke&&Be&&t.texStorage2D(3553,et,Z,De[0].width,De[0].height);for(let ce=0,Me=De.length;ce<Me;ce++)ke=De[ce],Ke?t.texSubImage2D(3553,ce,0,0,ke.width,ke.height,Fe,Re,ke.data):t.texImage2D(3553,ce,Z,ke.width,ke.height,0,Fe,Re,ke.data);V.generateMipmaps=!1}else Ke?(Be&&t.texStorage2D(3553,et,Z,he.width,he.height),t.texSubImage2D(3553,0,0,0,he.width,he.height,Fe,Re,he.data)):t.texImage2D(3553,0,Z,he.width,he.height,0,Fe,Re,he.data);else if(V.isCompressedTexture){Ke&&Be&&t.texStorage2D(3553,et,Z,De[0].width,De[0].height);for(let ce=0,Me=De.length;ce<Me;ce++)ke=De[ce],V.format!==Di?Fe!==null?Ke?t.compressedTexSubImage2D(3553,ce,0,0,ke.width,ke.height,Fe,ke.data):t.compressedTexImage2D(3553,ce,Z,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ke?t.texSubImage2D(3553,ce,0,0,ke.width,ke.height,Fe,Re,ke.data):t.texImage2D(3553,ce,Z,ke.width,ke.height,0,Fe,Re,ke.data)}else if(V.isDataArrayTexture)Ke?(Be&&t.texStorage3D(35866,et,Z,he.width,he.height,he.depth),t.texSubImage3D(35866,0,0,0,0,he.width,he.height,he.depth,Fe,Re,he.data)):t.texImage3D(35866,0,Z,he.width,he.height,he.depth,0,Fe,Re,he.data);else if(V.isData3DTexture)Ke?(Be&&t.texStorage3D(32879,et,Z,he.width,he.height,he.depth),t.texSubImage3D(32879,0,0,0,0,he.width,he.height,he.depth,Fe,Re,he.data)):t.texImage3D(32879,0,Z,he.width,he.height,he.depth,0,Fe,Re,he.data);else if(V.isFramebufferTexture){if(Be)if(Ke)t.texStorage2D(3553,et,Z,he.width,he.height);else{let ce=he.width,Me=he.height;for(let Ue=0;Ue<et;Ue++)t.texImage2D(3553,Ue,Z,ce,Me,0,Fe,Re,null),ce>>=1,Me>>=1}}else if(De.length>0&&Ge){Ke&&Be&&t.texStorage2D(3553,et,Z,De[0].width,De[0].height);for(let ce=0,Me=De.length;ce<Me;ce++)ke=De[ce],Ke?t.texSubImage2D(3553,ce,0,0,Fe,Re,ke):t.texImage2D(3553,ce,Z,Fe,Re,ke);V.generateMipmaps=!1}else Ke?(Be&&t.texStorage2D(3553,et,Z,he.width,he.height),t.texSubImage2D(3553,0,0,0,Fe,Re,he)):t.texImage2D(3553,0,Z,Fe,Re,he);O(V,Ge)&&R(be),Pe.__currentVersion=Pe.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function Ee(X,V,fe){if(V.image.length!==6)return;let be=je(X,V),Te=V.source;if(t.activeTexture(33984+fe),t.bindTexture(34067,X.__webglTexture),Te.version!==Te.__currentVersion||be===!0){r.pixelStorei(37440,V.flipY),r.pixelStorei(37441,V.premultiplyAlpha),r.pixelStorei(3317,V.unpackAlignment),r.pixelStorei(37443,0);let Pe=V.isCompressedTexture||V.image[0].isCompressedTexture,Ze=V.image[0]&&V.image[0].isDataTexture,he=[];for(let ce=0;ce<6;ce++)!Pe&&!Ze?he[ce]=T(V.image[ce],!1,!0,c):he[ce]=Ze?V.image[ce].image:V.image[ce],he[ce]=It(V,he[ce]);let Ge=he[0],Fe=E(Ge)||a,Re=s.convert(V.format,V.encoding),Z=s.convert(V.type),ke=P(V.internalFormat,Re,Z,V.encoding),De=a&&V.isVideoTexture!==!0,Ke=Te.__currentVersion===void 0||be===!0,Be=D(V,Ge,Fe);ae(34067,V,Fe);let et;if(Pe){De&&Ke&&t.texStorage2D(34067,Be,ke,Ge.width,Ge.height);for(let ce=0;ce<6;ce++){et=he[ce].mipmaps;for(let Me=0;Me<et.length;Me++){let Ue=et[Me];V.format!==Di?Re!==null?De?t.compressedTexSubImage2D(34069+ce,Me,0,0,Ue.width,Ue.height,Re,Ue.data):t.compressedTexImage2D(34069+ce,Me,ke,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):De?t.texSubImage2D(34069+ce,Me,0,0,Ue.width,Ue.height,Re,Z,Ue.data):t.texImage2D(34069+ce,Me,ke,Ue.width,Ue.height,0,Re,Z,Ue.data)}}}else{et=V.mipmaps,De&&Ke&&(et.length>0&&Be++,t.texStorage2D(34067,Be,ke,he[0].width,he[0].height));for(let ce=0;ce<6;ce++)if(Ze){De?t.texSubImage2D(34069+ce,0,0,0,he[ce].width,he[ce].height,Re,Z,he[ce].data):t.texImage2D(34069+ce,0,ke,he[ce].width,he[ce].height,0,Re,Z,he[ce].data);for(let Me=0;Me<et.length;Me++){let qe=et[Me].image[ce].image;De?t.texSubImage2D(34069+ce,Me+1,0,0,qe.width,qe.height,Re,Z,qe.data):t.texImage2D(34069+ce,Me+1,ke,qe.width,qe.height,0,Re,Z,qe.data)}}else{De?t.texSubImage2D(34069+ce,0,0,0,Re,Z,he[ce]):t.texImage2D(34069+ce,0,ke,Re,Z,he[ce]);for(let Me=0;Me<et.length;Me++){let Ue=et[Me];De?t.texSubImage2D(34069+ce,Me+1,0,0,Re,Z,Ue.image[ce]):t.texImage2D(34069+ce,Me+1,ke,Re,Z,Ue.image[ce])}}}O(V,Fe)&&R(34067),Te.__currentVersion=Te.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function ve(X,V,fe,be,Te){let Pe=s.convert(fe.format,fe.encoding),Ze=s.convert(fe.type),he=P(fe.internalFormat,Pe,Ze,fe.encoding);n.get(V).__hasExternalTextures||(Te===32879||Te===35866?t.texImage3D(Te,0,he,V.width,V.height,V.depth,0,Pe,Ze,null):t.texImage2D(Te,0,he,V.width,V.height,0,Pe,Ze,null)),t.bindFramebuffer(36160,X),ht(V)?f.framebufferTexture2DMultisampleEXT(36160,be,Te,n.get(fe).__webglTexture,0,Ct(V)):r.framebufferTexture2D(36160,be,Te,n.get(fe).__webglTexture,0),t.bindFramebuffer(36160,null)}function st(X,V,fe){if(r.bindRenderbuffer(36161,X),V.depthBuffer&&!V.stencilBuffer){let be=33189;if(fe||ht(V)){let Te=V.depthTexture;Te&&Te.isDepthTexture&&(Te.type===ms?be=36012:Te.type===ps&&(be=33190));let Pe=Ct(V);ht(V)?f.renderbufferStorageMultisampleEXT(36161,Pe,be,V.width,V.height):r.renderbufferStorageMultisample(36161,Pe,be,V.width,V.height)}else r.renderbufferStorage(36161,be,V.width,V.height);r.framebufferRenderbuffer(36160,36096,36161,X)}else if(V.depthBuffer&&V.stencilBuffer){let be=Ct(V);fe&&ht(V)===!1?r.renderbufferStorageMultisample(36161,be,35056,V.width,V.height):ht(V)?f.renderbufferStorageMultisampleEXT(36161,be,35056,V.width,V.height):r.renderbufferStorage(36161,34041,V.width,V.height),r.framebufferRenderbuffer(36160,33306,36161,X)}else{let be=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let Te=0;Te<be.length;Te++){let Pe=be[Te],Ze=s.convert(Pe.format,Pe.encoding),he=s.convert(Pe.type),Ge=P(Pe.internalFormat,Ze,he,Pe.encoding),Fe=Ct(V);fe&&ht(V)===!1?r.renderbufferStorageMultisample(36161,Fe,Ge,V.width,V.height):ht(V)?f.renderbufferStorageMultisampleEXT(36161,Fe,Ge,V.width,V.height):r.renderbufferStorage(36161,Ge,V.width,V.height)}}r.bindRenderbuffer(36161,null)}function Ve(X,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,X),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(V.depthTexture).__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),J(V.depthTexture,0);let be=n.get(V.depthTexture).__webglTexture,Te=Ct(V);if(V.depthTexture.format===vs)ht(V)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,be,0,Te):r.framebufferTexture2D(36160,36096,3553,be,0);else if(V.depthTexture.format===ko)ht(V)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,be,0,Te):r.framebufferTexture2D(36160,33306,3553,be,0);else throw new Error("Unknown depthTexture format")}function He(X){let V=n.get(X),fe=X.isWebGLCubeRenderTarget===!0;if(X.depthTexture&&!V.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");Ve(V.__webglFramebuffer,X)}else if(fe){V.__webglDepthbuffer=[];for(let be=0;be<6;be++)t.bindFramebuffer(36160,V.__webglFramebuffer[be]),V.__webglDepthbuffer[be]=r.createRenderbuffer(),st(V.__webglDepthbuffer[be],X,!1)}else t.bindFramebuffer(36160,V.__webglFramebuffer),V.__webglDepthbuffer=r.createRenderbuffer(),st(V.__webglDepthbuffer,X,!1);t.bindFramebuffer(36160,null)}function ut(X,V,fe){let be=n.get(X);V!==void 0&&ve(be.__webglFramebuffer,X,X.texture,36064,3553),fe!==void 0&&He(X)}function Je(X){let V=X.texture,fe=n.get(X),be=n.get(V);X.addEventListener("dispose",F),X.isWebGLMultipleRenderTargets!==!0&&(be.__webglTexture===void 0&&(be.__webglTexture=r.createTexture()),be.__version=V.version,o.memory.textures++);let Te=X.isWebGLCubeRenderTarget===!0,Pe=X.isWebGLMultipleRenderTargets===!0,Ze=E(X)||a;if(Te){fe.__webglFramebuffer=[];for(let he=0;he<6;he++)fe.__webglFramebuffer[he]=r.createFramebuffer()}else{if(fe.__webglFramebuffer=r.createFramebuffer(),Pe)if(i.drawBuffers){let he=X.texture;for(let Ge=0,Fe=he.length;Ge<Fe;Ge++){let Re=n.get(he[Ge]);Re.__webglTexture===void 0&&(Re.__webglTexture=r.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&X.samples>0&&ht(X)===!1){let he=Pe?V:[V];fe.__webglMultisampledFramebuffer=r.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer);for(let Ge=0;Ge<he.length;Ge++){let Fe=he[Ge];fe.__webglColorRenderbuffer[Ge]=r.createRenderbuffer(),r.bindRenderbuffer(36161,fe.__webglColorRenderbuffer[Ge]);let Re=s.convert(Fe.format,Fe.encoding),Z=s.convert(Fe.type),ke=P(Fe.internalFormat,Re,Z,Fe.encoding),De=Ct(X);r.renderbufferStorageMultisample(36161,De,ke,X.width,X.height),r.framebufferRenderbuffer(36160,36064+Ge,36161,fe.__webglColorRenderbuffer[Ge])}r.bindRenderbuffer(36161,null),X.depthBuffer&&(fe.__webglDepthRenderbuffer=r.createRenderbuffer(),st(fe.__webglDepthRenderbuffer,X,!0)),t.bindFramebuffer(36160,null)}}if(Te){t.bindTexture(34067,be.__webglTexture),ae(34067,V,Ze);for(let he=0;he<6;he++)ve(fe.__webglFramebuffer[he],X,V,36064,34069+he);O(V,Ze)&&R(34067),t.unbindTexture()}else if(Pe){let he=X.texture;for(let Ge=0,Fe=he.length;Ge<Fe;Ge++){let Re=he[Ge],Z=n.get(Re);t.bindTexture(3553,Z.__webglTexture),ae(3553,Re,Ze),ve(fe.__webglFramebuffer,X,Re,36064+Ge,3553),O(Re,Ze)&&R(3553)}t.unbindTexture()}else{let he=3553;(X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(a?he=X.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(he,be.__webglTexture),ae(he,V,Ze),ve(fe.__webglFramebuffer,X,V,36064,he),O(V,Ze)&&R(he),t.unbindTexture()}X.depthBuffer&&He(X)}function bt(X){let V=E(X)||a,fe=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let be=0,Te=fe.length;be<Te;be++){let Pe=fe[be];if(O(Pe,V)){let Ze=X.isWebGLCubeRenderTarget?34067:3553,he=n.get(Pe).__webglTexture;t.bindTexture(Ze,he),R(Ze),t.unbindTexture()}}}function Le(X){if(a&&X.samples>0&&ht(X)===!1){let V=X.isWebGLMultipleRenderTargets?X.texture:[X.texture],fe=X.width,be=X.height,Te=16384,Pe=[],Ze=X.stencilBuffer?33306:36096,he=n.get(X),Ge=X.isWebGLMultipleRenderTargets===!0;if(Ge)for(let Fe=0;Fe<V.length;Fe++)t.bindFramebuffer(36160,he.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+Fe,36161,null),t.bindFramebuffer(36160,he.__webglFramebuffer),r.framebufferTexture2D(36009,36064+Fe,3553,null,0);t.bindFramebuffer(36008,he.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,he.__webglFramebuffer);for(let Fe=0;Fe<V.length;Fe++){Pe.push(36064+Fe),X.depthBuffer&&Pe.push(Ze);let Re=he.__ignoreDepthValues!==void 0?he.__ignoreDepthValues:!1;if(Re===!1&&(X.depthBuffer&&(Te|=256),X.stencilBuffer&&(Te|=1024)),Ge&&r.framebufferRenderbuffer(36008,36064,36161,he.__webglColorRenderbuffer[Fe]),Re===!0&&(r.invalidateFramebuffer(36008,[Ze]),r.invalidateFramebuffer(36009,[Ze])),Ge){let Z=n.get(V[Fe]).__webglTexture;r.framebufferTexture2D(36009,36064,3553,Z,0)}r.blitFramebuffer(0,0,fe,be,0,0,fe,be,Te,9728),y&&r.invalidateFramebuffer(36008,Pe)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Ge)for(let Fe=0;Fe<V.length;Fe++){t.bindFramebuffer(36160,he.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+Fe,36161,he.__webglColorRenderbuffer[Fe]);let Re=n.get(V[Fe]).__webglTexture;t.bindFramebuffer(36160,he.__webglFramebuffer),r.framebufferTexture2D(36009,36064+Fe,3553,Re,0)}t.bindFramebuffer(36009,he.__webglMultisampledFramebuffer)}}function Ct(X){return Math.min(h,X.samples)}function ht(X){let V=n.get(X);return a&&X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function pn(X){let V=o.render.frame;w.get(X)!==V&&(w.set(X,V),X.update())}function It(X,V){let fe=X.encoding,be=X.format,Te=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||X.format===$h||fe!==bs&&(fe===Rt?a===!1?e.has("EXT_sRGB")===!0&&be===Di?(X.format=$h,X.minFilter=gi,X.generateMipmaps=!1):V=Ac.sRGBToLinear(V):(be!==Di||Te!==ys)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",fe)),V}this.allocateTextureUnit=$,this.resetTextureUnits=N,this.setTexture2D=J,this.setTexture2DArray=re,this.setTexture3D=te,this.setTextureCube=pe,this.rebindTextures=ut,this.setupRenderTarget=Je,this.updateRenderTargetMipmap=bt,this.updateMultisampleRenderTarget=Le,this.setupDepthRenderbuffer=He,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=ht}function w3(r,e,t){let n=t.isWebGL2;function i(s,o=null){let a;if(s===ys)return 5121;if(s===AC)return 32819;if(s===PC)return 32820;if(s===TC)return 5120;if(s===EC)return 5122;if(s===Jy)return 5123;if(s===CC)return 5124;if(s===ps)return 5125;if(s===ms)return 5126;if(s===Ha)return n?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===OC)return 6406;if(s===Di)return 6408;if(s===DC)return 6409;if(s===IC)return 6410;if(s===vs)return 6402;if(s===ko)return 34041;if(s===LC)return 6403;if(s===kC)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===$h)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===RC)return 36244;if(s===NC)return 33319;if(s===zC)return 33320;if(s===FC)return 36249;if(s===ah||s===lh||s===ch||s===uh)if(o===Rt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===ah)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===lh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===ch)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===uh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ah)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===lh)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===ch)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===uh)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===R_||s===N_||s===z_||s===F_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===R_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===N_)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===z_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===F_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===BC)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===B_||s===U_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===B_)return o===Rt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===U_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===H_||s===V_||s===W_||s===G_||s===$_||s===j_||s===q_||s===Y_||s===X_||s===J_||s===Z_||s===K_||s===Q_||s===ey)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===H_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===V_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===W_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===G_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===$_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===j_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===q_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Y_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===X_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===J_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Z_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===K_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Q_)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===ey)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===ty)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===ty)return o===Rt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Eo?n?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):r[s]!==void 0?r[s]:null}return{convert:i}}var nd=class extends Mn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},Mo=class extends Vn{constructor(){super(),this.isGroup=!0,this.type="Group"}},S3={type:"move"},Ba=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,s=null,o=null,a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(S3))),c&&e.hand){o=!0;for(let _ of e.hand.values()){let v=t.getJointPose(_,n);if(c.joints[_.jointName]===void 0){let C=new Mo;C.matrixAutoUpdate=!1,C.visible=!1,c.joints[_.jointName]=C,c.add(C)}let S=c.joints[_.jointName];v!==null&&(S.matrix.fromArray(v.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.jointRadius=v.radius),S.visible=v!==null}let u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],f=u.position.distanceTo(h.position),y=.02,w=.005;c.inputState.pinching&&f>y+w?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=y-w&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}},id=class extends Hn{constructor(e,t,n,i,s,o,a,l,c,u){if(u=u!==void 0?u:vs,u!==vs&&u!==ko)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===vs&&(n=ps),n===void 0&&u===ko&&(n=Eo),super(null,i,s,o,a,l,u,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Bn,this.minFilter=l!==void 0?l:Bn,this.flipY=!1,this.generateMipmaps=!1}},rd=class extends Dr{constructor(e,t){super();let n=this,i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,h=null,f=null,y=null,w=t.getContextAttributes(),_=null,v=null,S=[],C=new Map,T=new Mn;T.layers.enable(1),T.viewport=new sn;let E=new Mn;E.layers.enable(2),E.viewport=new sn;let k=[T,E],O=new nd;O.layers.enable(1),O.layers.enable(2);let R=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(q){let J=S[q];return J===void 0&&(J=new Ba,S[q]=J),J.getTargetRaySpace()},this.getControllerGrip=function(q){let J=S[q];return J===void 0&&(J=new Ba,S[q]=J),J.getGripSpace()},this.getHand=function(q){let J=S[q];return J===void 0&&(J=new Ba,S[q]=J),J.getHandSpace()};function D(q){let J=C.get(q.inputSource);J!==void 0&&J.dispatchEvent({type:q.type,data:q.inputSource})}function z(){i.removeEventListener("select",D),i.removeEventListener("selectstart",D),i.removeEventListener("selectend",D),i.removeEventListener("squeeze",D),i.removeEventListener("squeezestart",D),i.removeEventListener("squeezeend",D),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",I),C.forEach(function(q,J){q!==void 0&&q.disconnect(J)}),C.clear(),R=null,P=null,e.setRenderTarget(_),f=null,h=null,u=null,i=null,v=null,$.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(q){s=q,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(q){a=q,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(q){l=q},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return u},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(q){if(i=q,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",D),i.addEventListener("selectstart",D),i.addEventListener("selectend",D),i.addEventListener("squeeze",D),i.addEventListener("squeezestart",D),i.addEventListener("squeezeend",D),i.addEventListener("end",z),i.addEventListener("inputsourceschange",I),w.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let J={antialias:i.renderState.layers===void 0?w.antialias:!0,alpha:w.alpha,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(i,t,J),i.updateRenderState({baseLayer:f}),v=new gn(f.framebufferWidth,f.framebufferHeight,{format:Di,type:ys,encoding:e.outputEncoding})}else{let J=null,re=null,te=null;w.depth&&(te=w.stencil?35056:33190,J=w.stencil?ko:vs,re=w.stencil?Eo:ps);let pe={colorFormat:e.outputEncoding===Rt?35907:32856,depthFormat:te,scaleFactor:s};u=new XRWebGLBinding(i,t),h=u.createProjectionLayer(pe),i.updateRenderState({layers:[h]}),v=new gn(h.textureWidth,h.textureHeight,{format:Di,type:ys,depthTexture:new id(h.textureWidth,h.textureHeight,re,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:w.stencil,encoding:e.outputEncoding,samples:w.antialias?4:0});let ye=e.properties.get(v);ye.__ignoreDepthValues=h.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),$.setContext(i),$.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function I(q){let J=i.inputSources;for(let re=0;re<J.length;re++){let te=J[re].handedness==="right"?1:0;C.set(J[re],S[te])}for(let re=0;re<q.removed.length;re++){let te=q.removed[re],pe=C.get(te);pe&&(pe.dispatchEvent({type:"disconnected",data:te}),C.delete(te))}for(let re=0;re<q.added.length;re++){let te=q.added[re],pe=C.get(te);pe&&pe.dispatchEvent({type:"connected",data:te})}}let F=new ne,j=new ne;function U(q,J,re){F.setFromMatrixPosition(J.matrixWorld),j.setFromMatrixPosition(re.matrixWorld);let te=F.distanceTo(j),pe=J.projectionMatrix.elements,ye=re.projectionMatrix.elements,Ae=pe[14]/(pe[10]-1),ae=pe[14]/(pe[10]+1),je=(pe[9]+1)/pe[5],oe=(pe[9]-1)/pe[5],Ee=(pe[8]-1)/pe[0],ve=(ye[8]+1)/ye[0],st=Ae*Ee,Ve=Ae*ve,He=te/(-Ee+ve),ut=He*-Ee;J.matrixWorld.decompose(q.position,q.quaternion,q.scale),q.translateX(ut),q.translateZ(He),q.matrixWorld.compose(q.position,q.quaternion,q.scale),q.matrixWorldInverse.copy(q.matrixWorld).invert();let Je=Ae+He,bt=ae+He,Le=st-ut,Ct=Ve+(te-ut),ht=je*ae/bt*Je,pn=oe*ae/bt*Je;q.projectionMatrix.makePerspective(Le,Ct,ht,pn,Je,bt)}function W(q,J){J===null?q.matrixWorld.copy(q.matrix):q.matrixWorld.multiplyMatrices(J.matrixWorld,q.matrix),q.matrixWorldInverse.copy(q.matrixWorld).invert()}this.updateCamera=function(q){if(i===null)return;O.near=E.near=T.near=q.near,O.far=E.far=T.far=q.far,(R!==O.near||P!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),R=O.near,P=O.far);let J=q.parent,re=O.cameras;W(O,J);for(let pe=0;pe<re.length;pe++)W(re[pe],J);O.matrixWorld.decompose(O.position,O.quaternion,O.scale),q.position.copy(O.position),q.quaternion.copy(O.quaternion),q.scale.copy(O.scale),q.matrix.copy(O.matrix),q.matrixWorld.copy(O.matrixWorld);let te=q.children;for(let pe=0,ye=te.length;pe<ye;pe++)te[pe].updateMatrixWorld(!0);re.length===2?U(O,T,E):O.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return O},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(q){h!==null&&(h.fixedFoveation=q),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=q)};let G=null;function N(q,J){if(c=J.getViewerPose(l||o),y=J,c!==null){let te=c.views;f!==null&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let pe=!1;te.length!==O.cameras.length&&(O.cameras.length=0,pe=!0);for(let ye=0;ye<te.length;ye++){let Ae=te[ye],ae=null;if(f!==null)ae=f.getViewport(Ae);else{let oe=u.getViewSubImage(h,Ae);ae=oe.viewport,ye===0&&(e.setRenderTargetTextures(v,oe.colorTexture,h.ignoreDepthValues?void 0:oe.depthStencilTexture),e.setRenderTarget(v))}let je=k[ye];je===void 0&&(je=new Mn,je.layers.enable(ye),je.viewport=new sn,k[ye]=je),je.matrix.fromArray(Ae.transform.matrix),je.projectionMatrix.fromArray(Ae.projectionMatrix),je.viewport.set(ae.x,ae.y,ae.width,ae.height),ye===0&&O.matrix.copy(je.matrix),pe===!0&&O.cameras.push(je)}}let re=i.inputSources;for(let te=0;te<S.length;te++){let pe=re[te],ye=C.get(pe);ye!==void 0&&ye.update(pe,J,l||o)}G&&G(q,J),y=null}let $=new Qy;$.setAnimationLoop(N),this.setAnimationLoop=function(q){G=q},this.dispose=function(){}}};function M3(r,e){function t(_,v){_.fogColor.value.copy(v.color),v.isFog?(_.fogNear.value=v.near,_.fogFar.value=v.far):v.isFogExp2&&(_.fogDensity.value=v.density)}function n(_,v,S,C,T){v.isMeshBasicMaterial||v.isMeshLambertMaterial?i(_,v):v.isMeshToonMaterial?(i(_,v),u(_,v)):v.isMeshPhongMaterial?(i(_,v),c(_,v)):v.isMeshStandardMaterial?(i(_,v),h(_,v),v.isMeshPhysicalMaterial&&f(_,v,T)):v.isMeshMatcapMaterial?(i(_,v),y(_,v)):v.isMeshDepthMaterial?i(_,v):v.isMeshDistanceMaterial?(i(_,v),w(_,v)):v.isMeshNormalMaterial?i(_,v):v.isLineBasicMaterial?(s(_,v),v.isLineDashedMaterial&&o(_,v)):v.isPointsMaterial?a(_,v,S,C):v.isSpriteMaterial?l(_,v):v.isShadowMaterial?(_.color.value.copy(v.color),_.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(_,v){_.opacity.value=v.opacity,v.color&&_.diffuse.value.copy(v.color),v.emissive&&_.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(_.map.value=v.map),v.alphaMap&&(_.alphaMap.value=v.alphaMap),v.bumpMap&&(_.bumpMap.value=v.bumpMap,_.bumpScale.value=v.bumpScale,v.side===Ii&&(_.bumpScale.value*=-1)),v.displacementMap&&(_.displacementMap.value=v.displacementMap,_.displacementScale.value=v.displacementScale,_.displacementBias.value=v.displacementBias),v.emissiveMap&&(_.emissiveMap.value=v.emissiveMap),v.normalMap&&(_.normalMap.value=v.normalMap,_.normalScale.value.copy(v.normalScale),v.side===Ii&&_.normalScale.value.negate()),v.specularMap&&(_.specularMap.value=v.specularMap),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);let S=e.get(v).envMap;if(S&&(_.envMap.value=S,_.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=v.reflectivity,_.ior.value=v.ior,_.refractionRatio.value=v.refractionRatio),v.lightMap){_.lightMap.value=v.lightMap;let E=r.physicallyCorrectLights!==!0?Math.PI:1;_.lightMapIntensity.value=v.lightMapIntensity*E}v.aoMap&&(_.aoMap.value=v.aoMap,_.aoMapIntensity.value=v.aoMapIntensity);let C;v.map?C=v.map:v.specularMap?C=v.specularMap:v.displacementMap?C=v.displacementMap:v.normalMap?C=v.normalMap:v.bumpMap?C=v.bumpMap:v.roughnessMap?C=v.roughnessMap:v.metalnessMap?C=v.metalnessMap:v.alphaMap?C=v.alphaMap:v.emissiveMap?C=v.emissiveMap:v.clearcoatMap?C=v.clearcoatMap:v.clearcoatNormalMap?C=v.clearcoatNormalMap:v.clearcoatRoughnessMap?C=v.clearcoatRoughnessMap:v.iridescenceMap?C=v.iridescenceMap:v.iridescenceThicknessMap?C=v.iridescenceThicknessMap:v.specularIntensityMap?C=v.specularIntensityMap:v.specularColorMap?C=v.specularColorMap:v.transmissionMap?C=v.transmissionMap:v.thicknessMap?C=v.thicknessMap:v.sheenColorMap?C=v.sheenColorMap:v.sheenRoughnessMap&&(C=v.sheenRoughnessMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),_.uvTransform.value.copy(C.matrix));let T;v.aoMap?T=v.aoMap:v.lightMap&&(T=v.lightMap),T!==void 0&&(T.isWebGLRenderTarget&&(T=T.texture),T.matrixAutoUpdate===!0&&T.updateMatrix(),_.uv2Transform.value.copy(T.matrix))}function s(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity}function o(_,v){_.dashSize.value=v.dashSize,_.totalSize.value=v.dashSize+v.gapSize,_.scale.value=v.scale}function a(_,v,S,C){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.size.value=v.size*S,_.scale.value=C*.5,v.map&&(_.map.value=v.map),v.alphaMap&&(_.alphaMap.value=v.alphaMap),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);let T;v.map?T=v.map:v.alphaMap&&(T=v.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),_.uvTransform.value.copy(T.matrix))}function l(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.rotation.value=v.rotation,v.map&&(_.map.value=v.map),v.alphaMap&&(_.alphaMap.value=v.alphaMap),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);let S;v.map?S=v.map:v.alphaMap&&(S=v.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),_.uvTransform.value.copy(S.matrix))}function c(_,v){_.specular.value.copy(v.specular),_.shininess.value=Math.max(v.shininess,1e-4)}function u(_,v){v.gradientMap&&(_.gradientMap.value=v.gradientMap)}function h(_,v){_.roughness.value=v.roughness,_.metalness.value=v.metalness,v.roughnessMap&&(_.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(_.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(_.envMapIntensity.value=v.envMapIntensity)}function f(_,v,S){_.ior.value=v.ior,v.sheen>0&&(_.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),_.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(_.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(_.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(_.clearcoat.value=v.clearcoat,_.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(_.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(_.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),_.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===Ii&&_.clearcoatNormalScale.value.negate())),v.iridescence>0&&(_.iridescence.value=v.iridescence,_.iridescenceIOR.value=v.iridescenceIOR,_.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(_.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(_.transmission.value=v.transmission,_.transmissionSamplerMap.value=S.texture,_.transmissionSamplerSize.value.set(S.width,S.height),v.transmissionMap&&(_.transmissionMap.value=v.transmissionMap),_.thickness.value=v.thickness,v.thicknessMap&&(_.thicknessMap.value=v.thicknessMap),_.attenuationDistance.value=v.attenuationDistance,_.attenuationColor.value.copy(v.attenuationColor)),_.specularIntensity.value=v.specularIntensity,_.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(_.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(_.specularColorMap.value=v.specularColorMap)}function y(_,v){v.matcap&&(_.matcap.value=v.matcap)}function w(_,v){_.referencePosition.value.copy(v.referencePosition),_.nearDistance.value=v.nearDistance,_.farDistance.value=v.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function T3(){let r=Va("canvas");return r.style.display="block",r}function Pd(r={}){this.isWebGLRenderer=!0;let e=r.canvas!==void 0?r.canvas:T3(),t=r.context!==void 0?r.context:null,n=r.depth!==void 0?r.depth:!0,i=r.stencil!==void 0?r.stencil:!0,s=r.antialias!==void 0?r.antialias:!1,o=r.premultipliedAlpha!==void 0?r.premultipliedAlpha:!0,a=r.preserveDrawingBuffer!==void 0?r.preserveDrawingBuffer:!1,l=r.powerPreference!==void 0?r.powerPreference:"default",c=r.failIfMajorPerformanceCaveat!==void 0?r.failIfMajorPerformanceCaveat:!1,u;t!==null?u=t.getContextAttributes().alpha:u=r.alpha!==void 0?r.alpha:!1;let h=null,f=null,y=[],w=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=bs,this.physicallyCorrectLights=!1,this.toneMapping=fr,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});let _=this,v=!1,S=0,C=0,T=null,E=-1,k=null,O=new sn,R=new sn,P=null,D=e.width,z=e.height,I=1,F=null,j=null,U=new sn(0,0,D,z),W=new sn(0,0,D,z),G=!1,N=new Rc,$=!1,q=!1,J=null,re=new Xt,te=new Xe,pe=new ne,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return T===null?I:1}let ae=t;function je(Y,se){for(let de=0;de<Y.length;de++){let le=Y[de],_e=e.getContext(le,se);if(_e!==null)return _e}return null}try{let Y={alpha:!0,depth:n,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Cd}`),e.addEventListener("webglcontextlost",Z,!1),e.addEventListener("webglcontextrestored",ke,!1),e.addEventListener("webglcontextcreationerror",De,!1),ae===null){let se=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&se.shift(),ae=je(se,Y),ae===null)throw je(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ae.getShaderPrecisionFormat===void 0&&(ae.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let oe,Ee,ve,st,Ve,He,ut,Je,bt,Le,Ct,ht,pn,It,X,V,fe,be,Te,Pe,Ze,he,Ge;function Fe(){oe=new j2(ae),Ee=new U2(ae,oe,r),oe.init(Ee),he=new w3(ae,oe,Ee),ve=new b3(ae,oe,Ee),st=new X2(ae),Ve=new l3,He=new x3(ae,oe,ve,Ve,Ee,he,st),ut=new V2(_),Je=new $2(_),bt=new aA(ae,Ee),Ge=new F2(ae,oe,bt,Ee),Le=new q2(ae,bt,st,Ge),Ct=new Q2(ae,Le,bt,st),Te=new K2(ae,Ee,He),V=new H2(Ve),ht=new a3(_,ut,Je,oe,Ee,Ge,V),pn=new M3(_,Ve),It=new u3,X=new g3(oe,Ee),be=new z2(_,ut,ve,Ct,u,o),fe=new y3(_,Ct,Ee),Pe=new B2(ae,oe,st,Ee),Ze=new Y2(ae,oe,st,Ee),st.programs=ht.programs,_.capabilities=Ee,_.extensions=oe,_.properties=Ve,_.renderLists=It,_.shadowMap=fe,_.state=ve,_.info=st}Fe();let Re=new rd(_,ae);this.xr=Re,this.getContext=function(){return ae},this.getContextAttributes=function(){return ae.getContextAttributes()},this.forceContextLoss=function(){let Y=oe.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){let Y=oe.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(Y){Y!==void 0&&(I=Y,this.setSize(D,z,!1))},this.getSize=function(Y){return Y.set(D,z)},this.setSize=function(Y,se,de){if(Re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}D=Y,z=se,e.width=Math.floor(Y*I),e.height=Math.floor(se*I),de!==!1&&(e.style.width=Y+"px",e.style.height=se+"px"),this.setViewport(0,0,Y,se)},this.getDrawingBufferSize=function(Y){return Y.set(D*I,z*I).floor()},this.setDrawingBufferSize=function(Y,se,de){D=Y,z=se,I=de,e.width=Math.floor(Y*de),e.height=Math.floor(se*de),this.setViewport(0,0,Y,se)},this.getCurrentViewport=function(Y){return Y.copy(O)},this.getViewport=function(Y){return Y.copy(U)},this.setViewport=function(Y,se,de,le){Y.isVector4?U.set(Y.x,Y.y,Y.z,Y.w):U.set(Y,se,de,le),ve.viewport(O.copy(U).multiplyScalar(I).floor())},this.getScissor=function(Y){return Y.copy(W)},this.setScissor=function(Y,se,de,le){Y.isVector4?W.set(Y.x,Y.y,Y.z,Y.w):W.set(Y,se,de,le),ve.scissor(R.copy(W).multiplyScalar(I).floor())},this.getScissorTest=function(){return G},this.setScissorTest=function(Y){ve.setScissorTest(G=Y)},this.setOpaqueSort=function(Y){F=Y},this.setTransparentSort=function(Y){j=Y},this.getClearColor=function(Y){return Y.copy(be.getClearColor())},this.setClearColor=function(){be.setClearColor.apply(be,arguments)},this.getClearAlpha=function(){return be.getClearAlpha()},this.setClearAlpha=function(){be.setClearAlpha.apply(be,arguments)},this.clear=function(Y=!0,se=!0,de=!0){let le=0;Y&&(le|=16384),se&&(le|=256),de&&(le|=1024),ae.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Z,!1),e.removeEventListener("webglcontextrestored",ke,!1),e.removeEventListener("webglcontextcreationerror",De,!1),It.dispose(),X.dispose(),Ve.dispose(),ut.dispose(),Je.dispose(),Ct.dispose(),Ge.dispose(),ht.dispose(),Re.dispose(),Re.removeEventListener("sessionstart",Ue),Re.removeEventListener("sessionend",qe),J&&(J.dispose(),J=null),pt.stop()};function Z(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function ke(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;let Y=st.autoReset,se=fe.enabled,de=fe.autoUpdate,le=fe.needsUpdate,_e=fe.type;Fe(),st.autoReset=Y,fe.enabled=se,fe.autoUpdate=de,fe.needsUpdate=le,fe.type=_e}function De(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Ke(Y){let se=Y.target;se.removeEventListener("dispose",Ke),Be(se)}function Be(Y){et(Y),Ve.remove(Y)}function et(Y){let se=Ve.get(Y).programs;se!==void 0&&(se.forEach(function(de){ht.releaseProgram(de)}),Y.isShaderMaterial&&ht.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,se,de,le,_e,nt){se===null&&(se=ye);let lt=_e.isMesh&&_e.matrixWorld.determinant()<0,it=Dn(Y,se,de,le,_e);ve.setMaterial(le,lt);let rt=de.index,xt=de.attributes.position;if(rt===null){if(xt===void 0||xt.count===0)return}else if(rt.count===0)return;let gt=1;le.wireframe===!0&&(rt=Le.getWireframeAttribute(de),gt=2),Ge.setup(_e,le,it,de,rt);let dt,Dt=Pe;rt!==null&&(dt=bt.get(rt),Dt=Ze,Dt.setIndex(dt));let Xn=rt!==null?rt.count:xt.count,Qi=de.drawRange.start*gt,er=de.drawRange.count*gt,Jn=nt!==null?nt.start*gt:0,wt=nt!==null?nt.count*gt:1/0,Zn=Math.max(Qi,Jn),zt=Math.min(Xn,Qi+er,Jn+wt)-1,Kn=Math.max(0,zt-Zn+1);if(Kn!==0){if(_e.isMesh)le.wireframe===!0?(ve.setLineWidth(le.wireframeLinewidth*Ae()),Dt.setMode(1)):Dt.setMode(4);else if(_e.isLine){let ui=le.linewidth;ui===void 0&&(ui=1),ve.setLineWidth(ui*Ae()),_e.isLineSegments?Dt.setMode(1):_e.isLineLoop?Dt.setMode(2):Dt.setMode(3)}else _e.isPoints?Dt.setMode(0):_e.isSprite&&Dt.setMode(4);if(_e.isInstancedMesh)Dt.renderInstances(Zn,Kn,_e.count);else if(de.isInstancedBufferGeometry){let ui=Math.min(de.instanceCount,de._maxInstanceCount);Dt.renderInstances(Zn,Kn,ui)}else Dt.render(Zn,Kn)}},this.compile=function(Y,se){f=X.get(Y),f.init(),w.push(f),Y.traverseVisible(function(de){de.isLight&&de.layers.test(se.layers)&&(f.pushLight(de),de.castShadow&&f.pushShadow(de))}),f.setupLights(_.physicallyCorrectLights),Y.traverse(function(de){let le=de.material;if(le)if(Array.isArray(le))for(let _e=0;_e<le.length;_e++){let nt=le[_e];Sn(nt,Y,de)}else Sn(le,Y,de)}),w.pop(),f=null};let ce=null;function Me(Y){ce&&ce(Y)}function Ue(){pt.stop()}function qe(){pt.start()}let pt=new Qy;pt.setAnimationLoop(Me),typeof self<"u"&&pt.setContext(self),this.setAnimationLoop=function(Y){ce=Y,Re.setAnimationLoop(Y),Y===null?pt.stop():pt.start()},Re.addEventListener("sessionstart",Ue),Re.addEventListener("sessionend",qe),this.render=function(Y,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;Y.autoUpdate===!0&&Y.updateMatrixWorld(),se.parent===null&&se.updateMatrixWorld(),Re.enabled===!0&&Re.isPresenting===!0&&(Re.cameraAutoUpdate===!0&&Re.updateCamera(se),se=Re.getCamera()),Y.isScene===!0&&Y.onBeforeRender(_,Y,se,T),f=X.get(Y,w.length),f.init(),w.push(f),re.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),N.setFromProjectionMatrix(re),q=this.localClippingEnabled,$=V.init(this.clippingPlanes,q,se),h=It.get(Y,y.length),h.init(),y.push(h),wn(Y,se,0,_.sortObjects),h.finish(),_.sortObjects===!0&&h.sort(F,j),$===!0&&V.beginShadows();let de=f.state.shadowsArray;if(fe.render(de,Y,se),$===!0&&V.endShadows(),this.info.autoReset===!0&&this.info.reset(),be.render(h,Y),f.setupLights(_.physicallyCorrectLights),se.isArrayCamera){let le=se.cameras;for(let _e=0,nt=le.length;_e<nt;_e++){let lt=le[_e];Bi(h,Y,lt,lt.viewport)}}else Bi(h,Y,se);T!==null&&(He.updateMultisampleRenderTarget(T),He.updateRenderTargetMipmap(T)),Y.isScene===!0&&Y.onAfterRender(_,Y,se),Ge.resetDefaultState(),E=-1,k=null,w.pop(),w.length>0?f=w[w.length-1]:f=null,y.pop(),y.length>0?h=y[y.length-1]:h=null};function wn(Y,se,de,le){if(Y.visible===!1)return;if(Y.layers.test(se.layers)){if(Y.isGroup)de=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(se);else if(Y.isLight)f.pushLight(Y),Y.castShadow&&f.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||N.intersectsSprite(Y)){le&&pe.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(re);let lt=Ct.update(Y),it=Y.material;it.visible&&h.push(Y,lt,it,de,pe.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(Y.isSkinnedMesh&&Y.skeleton.frame!==st.render.frame&&(Y.skeleton.update(),Y.skeleton.frame=st.render.frame),!Y.frustumCulled||N.intersectsObject(Y))){le&&pe.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(re);let lt=Ct.update(Y),it=Y.material;if(Array.isArray(it)){let rt=lt.groups;for(let xt=0,gt=rt.length;xt<gt;xt++){let dt=rt[xt],Dt=it[dt.materialIndex];Dt&&Dt.visible&&h.push(Y,lt,Dt,de,pe.z,dt)}}else it.visible&&h.push(Y,lt,it,de,pe.z,null)}}let nt=Y.children;for(let lt=0,it=nt.length;lt<it;lt++)wn(nt[lt],se,de,le)}function Bi(Y,se,de,le){let _e=Y.opaque,nt=Y.transmissive,lt=Y.transparent;f.setupLightsView(de),nt.length>0&&ml(_e,se,de),le&&ve.viewport(O.copy(le)),_e.length>0&&$r(_e,se,de),nt.length>0&&$r(nt,se,de),lt.length>0&&$r(lt,se,de),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function ml(Y,se,de){let le=Ee.isWebGL2;J===null&&(J=new gn(1,1,{generateMipmaps:!0,type:oe.has("EXT_color_buffer_half_float")?Ha:ys,minFilter:Xc,samples:le&&s===!0?4:0})),_.getDrawingBufferSize(te),le?J.setSize(te.x,te.y):J.setSize(jh(te.x),jh(te.y));let _e=_.getRenderTarget();_.setRenderTarget(J),_.clear();let nt=_.toneMapping;_.toneMapping=fr,$r(Y,se,de),_.toneMapping=nt,He.updateMultisampleRenderTarget(J),He.updateRenderTargetMipmap(J),_.setRenderTarget(_e)}function $r(Y,se,de){let le=se.isScene===!0?se.overrideMaterial:null;for(let _e=0,nt=Y.length;_e<nt;_e++){let lt=Y[_e],it=lt.object,rt=lt.geometry,xt=le===null?lt.material:le,gt=lt.group;it.layers.test(de.layers)&&ci(it,se,de,rt,xt,gt)}}function ci(Y,se,de,le,_e,nt){Y.onBeforeRender(_,se,de,le,_e,nt),Y.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),_e.onBeforeRender(_,se,de,le,Y,nt),_e.transparent===!0&&_e.side===Ao?(_e.side=Ii,_e.needsUpdate=!0,_.renderBufferDirect(de,se,le,_e,Y,nt),_e.side=Ua,_e.needsUpdate=!0,_.renderBufferDirect(de,se,le,_e,Y,nt),_e.side=Ao):_.renderBufferDirect(de,se,le,_e,Y,nt),Y.onAfterRender(_,se,de,le,_e,nt)}function Sn(Y,se,de){se.isScene!==!0&&(se=ye);let le=Ve.get(Y),_e=f.state.lights,nt=f.state.shadowsArray,lt=_e.state.version,it=ht.getParameters(Y,_e.state,nt,se,de),rt=ht.getProgramCacheKey(it),xt=le.programs;le.environment=Y.isMeshStandardMaterial?se.environment:null,le.fog=se.fog,le.envMap=(Y.isMeshStandardMaterial?Je:ut).get(Y.envMap||le.environment),xt===void 0&&(Y.addEventListener("dispose",Ke),xt=new Map,le.programs=xt);let gt=xt.get(rt);if(gt!==void 0){if(le.currentProgram===gt&&le.lightsStateVersion===lt)return Ki(Y,it),gt}else it.uniforms=ht.getUniforms(Y),Y.onBuild(de,it,_),Y.onBeforeCompile(it,_),gt=ht.acquireProgram(it,rt),xt.set(rt,gt),le.uniforms=it.uniforms;let dt=le.uniforms;(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(dt.clippingPlanes=V.uniform),Ki(Y,it),le.needsLights=ra(Y),le.lightsStateVersion=lt,le.needsLights&&(dt.ambientLightColor.value=_e.state.ambient,dt.lightProbe.value=_e.state.probe,dt.directionalLights.value=_e.state.directional,dt.directionalLightShadows.value=_e.state.directionalShadow,dt.spotLights.value=_e.state.spot,dt.spotLightShadows.value=_e.state.spotShadow,dt.rectAreaLights.value=_e.state.rectArea,dt.ltc_1.value=_e.state.rectAreaLTC1,dt.ltc_2.value=_e.state.rectAreaLTC2,dt.pointLights.value=_e.state.point,dt.pointLightShadows.value=_e.state.pointShadow,dt.hemisphereLights.value=_e.state.hemi,dt.directionalShadowMap.value=_e.state.directionalShadowMap,dt.directionalShadowMatrix.value=_e.state.directionalShadowMatrix,dt.spotShadowMap.value=_e.state.spotShadowMap,dt.spotShadowMatrix.value=_e.state.spotShadowMatrix,dt.pointShadowMap.value=_e.state.pointShadowMap,dt.pointShadowMatrix.value=_e.state.pointShadowMatrix);let Dt=gt.getUniforms(),Xn=Co.seqWithValue(Dt.seq,dt);return le.currentProgram=gt,le.uniformsList=Xn,gt}function Ki(Y,se){let de=Ve.get(Y);de.outputEncoding=se.outputEncoding,de.instancing=se.instancing,de.skinning=se.skinning,de.morphTargets=se.morphTargets,de.morphNormals=se.morphNormals,de.morphColors=se.morphColors,de.morphTargetsCount=se.morphTargetsCount,de.numClippingPlanes=se.numClippingPlanes,de.numIntersection=se.numClipIntersection,de.vertexAlphas=se.vertexAlphas,de.vertexTangents=se.vertexTangents,de.toneMapping=se.toneMapping}function Dn(Y,se,de,le,_e){se.isScene!==!0&&(se=ye),He.resetTextureUnits();let nt=se.fog,lt=le.isMeshStandardMaterial?se.environment:null,it=T===null?_.outputEncoding:T.isXRRenderTarget===!0?T.texture.encoding:bs,rt=(le.isMeshStandardMaterial?Je:ut).get(le.envMap||lt),xt=le.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,gt=!!le.normalMap&&!!de.attributes.tangent,dt=!!de.morphAttributes.position,Dt=!!de.morphAttributes.normal,Xn=!!de.morphAttributes.color,Qi=le.toneMapped?_.toneMapping:fr,er=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,Jn=er!==void 0?er.length:0,wt=Ve.get(le),Zn=f.state.lights;if($===!0&&(q===!0||Y!==k)){let Qn=Y===k&&le.id===E;V.setState(le,Y,Qn)}let zt=!1;le.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==Zn.state.version||wt.outputEncoding!==it||_e.isInstancedMesh&&wt.instancing===!1||!_e.isInstancedMesh&&wt.instancing===!0||_e.isSkinnedMesh&&wt.skinning===!1||!_e.isSkinnedMesh&&wt.skinning===!0||wt.envMap!==rt||le.fog===!0&&wt.fog!==nt||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==V.numPlanes||wt.numIntersection!==V.numIntersection)||wt.vertexAlphas!==xt||wt.vertexTangents!==gt||wt.morphTargets!==dt||wt.morphNormals!==Dt||wt.morphColors!==Xn||wt.toneMapping!==Qi||Ee.isWebGL2===!0&&wt.morphTargetsCount!==Jn)&&(zt=!0):(zt=!0,wt.__version=le.version);let Kn=wt.currentProgram;zt===!0&&(Kn=Sn(le,se,_e));let ui=!1,Ui=!1,jr=!1,an=Kn.getUniforms(),Hi=wt.uniforms;if(ve.useProgram(Kn.program)&&(ui=!0,Ui=!0,jr=!0),le.id!==E&&(E=le.id,Ui=!0),ui||k!==Y){if(an.setValue(ae,"projectionMatrix",Y.projectionMatrix),Ee.logarithmicDepthBuffer&&an.setValue(ae,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),k!==Y&&(k=Y,Ui=!0,jr=!0),le.isShaderMaterial||le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshStandardMaterial||le.envMap){let Qn=an.map.cameraPosition;Qn!==void 0&&Qn.setValue(ae,pe.setFromMatrixPosition(Y.matrixWorld))}(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&an.setValue(ae,"isOrthographic",Y.isOrthographicCamera===!0),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial||le.isShadowMaterial||_e.isSkinnedMesh)&&an.setValue(ae,"viewMatrix",Y.matrixWorldInverse)}if(_e.isSkinnedMesh){an.setOptional(ae,_e,"bindMatrix"),an.setOptional(ae,_e,"bindMatrixInverse");let Qn=_e.skeleton;Qn&&(Ee.floatVertexTextures?(Qn.boneTexture===null&&Qn.computeBoneTexture(),an.setValue(ae,"boneTexture",Qn.boneTexture,He),an.setValue(ae,"boneTextureSize",Qn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let sa=de.morphAttributes;return(sa.position!==void 0||sa.normal!==void 0||sa.color!==void 0&&Ee.isWebGL2===!0)&&Te.update(_e,de,le,Kn),(Ui||wt.receiveShadow!==_e.receiveShadow)&&(wt.receiveShadow=_e.receiveShadow,an.setValue(ae,"receiveShadow",_e.receiveShadow)),Ui&&(an.setValue(ae,"toneMappingExposure",_.toneMappingExposure),wt.needsLights&&ia(Hi,jr),nt&&le.fog===!0&&pn.refreshFogUniforms(Hi,nt),pn.refreshMaterialUniforms(Hi,le,I,z,J),Co.upload(ae,wt.uniformsList,Hi,He)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(Co.upload(ae,wt.uniformsList,Hi,He),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&an.setValue(ae,"center",_e.center),an.setValue(ae,"modelViewMatrix",_e.modelViewMatrix),an.setValue(ae,"normalMatrix",_e.normalMatrix),an.setValue(ae,"modelMatrix",_e.matrixWorld),Kn}function ia(Y,se){Y.ambientLightColor.needsUpdate=se,Y.lightProbe.needsUpdate=se,Y.directionalLights.needsUpdate=se,Y.directionalLightShadows.needsUpdate=se,Y.pointLights.needsUpdate=se,Y.pointLightShadows.needsUpdate=se,Y.spotLights.needsUpdate=se,Y.spotLightShadows.needsUpdate=se,Y.rectAreaLights.needsUpdate=se,Y.hemisphereLights.needsUpdate=se}function ra(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(Y,se,de){Ve.get(Y.texture).__webglTexture=se,Ve.get(Y.depthTexture).__webglTexture=de;let le=Ve.get(Y);le.__hasExternalTextures=!0,le.__hasExternalTextures&&(le.__autoAllocateDepthBuffer=de===void 0,le.__autoAllocateDepthBuffer||oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Y,se){let de=Ve.get(Y);de.__webglFramebuffer=se,de.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(Y,se=0,de=0){T=Y,S=se,C=de;let le=!0;if(Y){let rt=Ve.get(Y);rt.__useDefaultFramebuffer!==void 0?(ve.bindFramebuffer(36160,null),le=!1):rt.__webglFramebuffer===void 0?He.setupRenderTarget(Y):rt.__hasExternalTextures&&He.rebindTextures(Y,Ve.get(Y.texture).__webglTexture,Ve.get(Y.depthTexture).__webglTexture)}let _e=null,nt=!1,lt=!1;if(Y){let rt=Y.texture;(rt.isData3DTexture||rt.isDataArrayTexture)&&(lt=!0);let xt=Ve.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(_e=xt[se],nt=!0):Ee.isWebGL2&&Y.samples>0&&He.useMultisampledRTT(Y)===!1?_e=Ve.get(Y).__webglMultisampledFramebuffer:_e=xt,O.copy(Y.viewport),R.copy(Y.scissor),P=Y.scissorTest}else O.copy(U).multiplyScalar(I).floor(),R.copy(W).multiplyScalar(I).floor(),P=G;if(ve.bindFramebuffer(36160,_e)&&Ee.drawBuffers&&le&&ve.drawBuffers(Y,_e),ve.viewport(O),ve.scissor(R),ve.setScissorTest(P),nt){let rt=Ve.get(Y.texture);ae.framebufferTexture2D(36160,36064,34069+se,rt.__webglTexture,de)}else if(lt){let rt=Ve.get(Y.texture),xt=se||0;ae.framebufferTextureLayer(36160,36064,rt.__webglTexture,de||0,xt)}E=-1},this.readRenderTargetPixels=function(Y,se,de,le,_e,nt,lt){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let it=Ve.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&lt!==void 0&&(it=it[lt]),it){ve.bindFramebuffer(36160,it);try{let rt=Y.texture,xt=rt.format,gt=rt.type;if(xt!==Di&&he.convert(xt)!==ae.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let dt=gt===Ha&&(oe.has("EXT_color_buffer_half_float")||Ee.isWebGL2&&oe.has("EXT_color_buffer_float"));if(gt!==ys&&he.convert(gt)!==ae.getParameter(35738)&&!(gt===ms&&(Ee.isWebGL2||oe.has("OES_texture_float")||oe.has("WEBGL_color_buffer_float")))&&!dt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=Y.width-le&&de>=0&&de<=Y.height-_e&&ae.readPixels(se,de,le,_e,he.convert(xt),he.convert(gt),nt)}finally{let rt=T!==null?Ve.get(T).__webglFramebuffer:null;ve.bindFramebuffer(36160,rt)}}},this.copyFramebufferToTexture=function(Y,se,de=0){let le=Math.pow(2,-de),_e=Math.floor(se.image.width*le),nt=Math.floor(se.image.height*le);He.setTexture2D(se,0),ae.copyTexSubImage2D(3553,de,0,0,Y.x,Y.y,_e,nt),ve.unbindTexture()},this.copyTextureToTexture=function(Y,se,de,le=0){let _e=se.image.width,nt=se.image.height,lt=he.convert(de.format),it=he.convert(de.type);He.setTexture2D(de,0),ae.pixelStorei(37440,de.flipY),ae.pixelStorei(37441,de.premultiplyAlpha),ae.pixelStorei(3317,de.unpackAlignment),se.isDataTexture?ae.texSubImage2D(3553,le,Y.x,Y.y,_e,nt,lt,it,se.image.data):se.isCompressedTexture?ae.compressedTexSubImage2D(3553,le,Y.x,Y.y,se.mipmaps[0].width,se.mipmaps[0].height,lt,se.mipmaps[0].data):ae.texSubImage2D(3553,le,Y.x,Y.y,lt,it,se.image),le===0&&de.generateMipmaps&&ae.generateMipmap(3553),ve.unbindTexture()},this.copyTextureToTexture3D=function(Y,se,de,le,_e=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let nt=Y.max.x-Y.min.x+1,lt=Y.max.y-Y.min.y+1,it=Y.max.z-Y.min.z+1,rt=he.convert(le.format),xt=he.convert(le.type),gt;if(le.isData3DTexture)He.setTexture3D(le,0),gt=32879;else if(le.isDataArrayTexture)He.setTexture2DArray(le,0),gt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ae.pixelStorei(37440,le.flipY),ae.pixelStorei(37441,le.premultiplyAlpha),ae.pixelStorei(3317,le.unpackAlignment);let dt=ae.getParameter(3314),Dt=ae.getParameter(32878),Xn=ae.getParameter(3316),Qi=ae.getParameter(3315),er=ae.getParameter(32877),Jn=de.isCompressedTexture?de.mipmaps[0]:de.image;ae.pixelStorei(3314,Jn.width),ae.pixelStorei(32878,Jn.height),ae.pixelStorei(3316,Y.min.x),ae.pixelStorei(3315,Y.min.y),ae.pixelStorei(32877,Y.min.z),de.isDataTexture||de.isData3DTexture?ae.texSubImage3D(gt,_e,se.x,se.y,se.z,nt,lt,it,rt,xt,Jn.data):de.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ae.compressedTexSubImage3D(gt,_e,se.x,se.y,se.z,nt,lt,it,rt,Jn.data)):ae.texSubImage3D(gt,_e,se.x,se.y,se.z,nt,lt,it,rt,xt,Jn),ae.pixelStorei(3314,dt),ae.pixelStorei(32878,Dt),ae.pixelStorei(3316,Xn),ae.pixelStorei(3315,Qi),ae.pixelStorei(32877,er),_e===0&&le.generateMipmaps&&ae.generateMipmap(gt),ve.unbindTexture()},this.initTexture=function(Y){He.setTexture2D(Y,0),ve.unbindTexture()},this.resetState=function(){S=0,C=0,T=null,ve.reset(),Ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var sd=class extends Pd{};sd.prototype.isWebGL1Renderer=!0;var Bc=class extends Vn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}};var od=class extends Jt{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new tt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}};var Uc=class extends Jt{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new tt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}};var Hc=class extends Jt{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new tt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},Hy=new Xt,ad=new Wa,wc=new Do,Sc=new ne,Vc=class extends Vn{constructor(e=new vn,t=new Hc){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){let n=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),wc.copy(n.boundingSphere),wc.applyMatrix4(i),wc.radius+=s,e.ray.intersectsSphere(wc)===!1)return;Hy.copy(i).invert(),ad.copy(e.ray).applyMatrix4(Hy);let a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=n.index,h=n.attributes.position;if(c!==null){let f=Math.max(0,o.start),y=Math.min(c.count,o.start+o.count);for(let w=f,_=y;w<_;w++){let v=c.getX(w);Sc.fromBufferAttribute(h,v),Vy(Sc,v,l,i,e,t,this)}}else{let f=Math.max(0,o.start),y=Math.min(h.count,o.start+o.count);for(let w=f,_=y;w<_;w++)Sc.fromBufferAttribute(h,w),Vy(Sc,w,l,i,e,t,this)}}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){let a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function Vy(r,e,t,n,i,s,o){let a=ad.distanceSqToPoint(r);if(a<t){let l=new ne;ad.closestPointToPoint(r,l),l.applyMatrix4(n);let c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}function Od(){let r=0,e=0,t=0,n=0;function i(s,o,a,l){r=s,e=a,t=-3*s+3*o-2*a-l,n=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,y=(a-o)/u-(l-o)/(u+h)+(l-a)/h;f*=u,y*=u,i(o,a,f,y)},calc:function(s){let o=s*s,a=o*s;return r+e*s+t*o+n*a}}}var kI=new ne,DI=new Od,II=new Od,LI=new Od;var RI=new ne,NI=new ne,zI=new ne,FI=new vi;var ld=class extends Jt{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new tt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}},$a=class extends Zt{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}},Wc=class extends Jt{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new tt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=No,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},cd=class extends Wc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Un(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new tt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new tt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new tt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}},ud=class extends Jt{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new tt(16777215),this.specular=new tt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=No,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=qc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},fd=class extends Jt{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=No,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},hd=class extends Jt{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=No,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}},dd=class extends Jt{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=qc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},pd=class extends Jt{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=No,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}},md=class extends Uc{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}},E3={ShadowMaterial:ld,SpriteMaterial:od,RawShaderMaterial:$a,ShaderMaterial:Zt,PointsMaterial:Hc,MeshPhysicalMaterial:cd,MeshStandardMaterial:Wc,MeshPhongMaterial:ud,MeshToonMaterial:fd,MeshNormalMaterial:hd,MeshLambertMaterial:dd,MeshDepthMaterial:zc,MeshDistanceMaterial:Fc,MeshBasicMaterial:hr,MeshMatcapMaterial:pd,LineDashedMaterial:md,LineBasicMaterial:Uc,Material:Jt};Jt.fromType=function(r){return new E3[r]};var Yt={arraySlice:function(r,e,t){return Yt.isTypedArray(r)?new r.constructor(r.subarray(e,t!==void 0?t:r.length)):r.slice(e,t)},convertArray:function(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)},isTypedArray:function(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)},getKeyframeOrder:function(r){function e(i,s){return r[i]-r[s]}let t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n},sortedArray:function(r,e,t){let n=r.length,i=new r.constructor(n);for(let s=0,o=0;o!==n;++s){let a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=r[a+l]}return i},flattenJSON:function(r,e,t,n){let i=1,s=r[0];for(;s!==void 0&&s[n]===void 0;)s=r[i++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=r[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=r[i++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=r[i++];while(s!==void 0)},subclip:function(r,e,t,n,i=30){let s=r.clone();s.name=e;let o=[];for(let l=0;l<s.tracks.length;++l){let c=s.tracks[l],u=c.getValueSize(),h=[],f=[];for(let y=0;y<c.times.length;++y){let w=c.times[y]*i;if(!(w<t||w>=n)){h.push(c.times[y]);for(let _=0;_<u;++_)f.push(c.values[y*u+_])}}h.length!==0&&(c.times=Yt.convertArray(h,c.times.constructor),c.values=Yt.convertArray(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(r,e=0,t=r,n=30){n<=0&&(n=30);let i=t.tracks.length,s=e/n;for(let o=0;o<i;++o){let a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;let c=r.tracks.find(function(S){return S.name===a.name&&S.ValueTypeName===l});if(c===void 0)continue;let u=0,h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let f=0,y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=y/3);let w=a.times.length-1,_;if(s<=a.times[0]){let S=u,C=h-u;_=Yt.arraySlice(a.values,S,C)}else if(s>=a.times[w]){let S=w*h+u,C=S+h-u;_=Yt.arraySlice(a.values,S,C)}else{let S=a.createInterpolant(),C=u,T=h-u;S.evaluate(s),_=Yt.arraySlice(S.resultBuffer,C,T)}l==="quaternion"&&new qi().fromArray(_).normalize().conjugate().toArray(_);let v=c.times.length;for(let S=0;S<v;++S){let C=S*y+f;if(l==="quaternion")qi.multiplyQuaternionsFlat(c.values,C,_,0,c.values,C);else{let T=y-f*2;for(let E=0;E<T;++E)c.values[C+E]-=_[E]}}}return r.blendMode=UC,r}},Lo=class{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=n+2;;){if(i===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(s=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=s)){let a=t[1];e<a&&(n=2,s=a);for(let l=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(i=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){let a=n+o>>>1;e<t[a]?o=a:n=a+1}if(i=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},gd=class extends Lo{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ny,endingEnd:ny}}intervalChanged_(e,t,n){let i=this.parameterPositions,s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case iy:s=e,a=2*t-n;break;case ry:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=n}if(l===void 0)switch(this.getSettings_().endingEnd){case iy:o=e,l=2*n-t;break;case ry:o=1,l=n+i[1]-i[0];break;default:o=e-1,l=t}let c=(n-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,n,i){let s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,y=this._weightNext,w=(n-t)/(i-t),_=w*w,v=_*w,S=-f*v+2*f*_-f*w,C=(1+f)*v+(-1.5-2*f)*_+(-.5+f)*w+1,T=(-1-y)*v+(1.5+y)*_+.5*w,E=y*v-y*_;for(let k=0;k!==a;++k)s[k]=S*o[u+k]+C*o[c+k]+T*o[l+k]+E*o[h+k];return s}},vd=class extends Lo{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(n-t)/(i-t),h=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*h+o[l+f]*u;return s}},_d=class extends Lo{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}},Li=class{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Yt.convertArray(t,this.TimeBufferType),this.values=Yt.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Yt.convertArray(e.times,Array),values:Yt.convertArray(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new _d(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new vd(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new gd(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ec:t=this.InterpolantFactoryMethodDiscrete;break;case Cc:t=this.InterpolantFactoryMethodLinear;break;case fh:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ec;case this.InterpolantFactoryMethodLinear:return Cc;case this.InterpolantFactoryMethodSmooth:return fh}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){let n=this.times,i=n.length,s=0,o=i-1;for(;s!==i&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);let a=this.getValueSize();this.times=Yt.arraySlice(n,s,o),this.values=Yt.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){let l=n[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Yt.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){let c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){let e=Yt.arraySlice(this.times),t=Yt.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===fh,s=e.length-1,o=1;for(let a=1;a<s;++a){let l=!1,c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{let h=a*n,f=h-n,y=h+n;for(let w=0;w!==n;++w){let _=t[h+w];if(_!==t[f+w]||_!==t[y+w]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];let h=a*n,f=o*n;for(let y=0;y!==n;++y)t[f+y]=t[h+y]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,l=o*n,c=0;c!==n;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Yt.arraySlice(e,0,o),this.values=Yt.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this}clone(){let e=Yt.arraySlice(this.times,0),t=Yt.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};Li.prototype.TimeBufferType=Float32Array;Li.prototype.ValueBufferType=Float32Array;Li.prototype.DefaultInterpolation=Cc;var Es=class extends Li{};Es.prototype.ValueTypeName="bool";Es.prototype.ValueBufferType=Array;Es.prototype.DefaultInterpolation=Ec;Es.prototype.InterpolantFactoryMethodLinear=void 0;Es.prototype.InterpolantFactoryMethodSmooth=void 0;var yd=class extends Li{};yd.prototype.ValueTypeName="color";var bd=class extends Li{};bd.prototype.ValueTypeName="number";var xd=class extends Lo{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-t)/(i-t),c=e*a;for(let u=c+a;c!==u;c+=4)qi.slerpFlat(s,0,o,c-a,o,c,l);return s}},ja=class extends Li{InterpolantFactoryMethodLinear(e){return new xd(this.times,this.values,this.getValueSize(),e)}};ja.prototype.ValueTypeName="quaternion";ja.prototype.DefaultInterpolation=Cc;ja.prototype.InterpolantFactoryMethodSmooth=void 0;var Cs=class extends Li{};Cs.prototype.ValueTypeName="string";Cs.prototype.ValueBufferType=Array;Cs.prototype.DefaultInterpolation=Ec;Cs.prototype.InterpolantFactoryMethodLinear=void 0;Cs.prototype.InterpolantFactoryMethodSmooth=void 0;var wd=class extends Li{};wd.prototype.ValueTypeName="vector";var Wy={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}},Sd=class{constructor(e,t,n){let i=this,s=!1,o=0,a=0,l,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){let h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,f=c.length;h<f;h+=2){let y=c[h],w=c[h+1];if(y.global&&(y.lastIndex=0),y.test(u))return w}return null}}},C3=new Sd,Gc=class{constructor(e){this.manager=e!==void 0?e:C3,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(i,s){n.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};var Md=class extends Gc{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let s=this,o=Wy.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;let a=Va("img");function l(){u(),Wy.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}};var $c=class extends Gc{constructor(e){super(e)}load(e,t,n,i){let s=new Hn,o=new Md(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},n,i),s}};var Ro=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Gy(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=Gy();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function Gy(){return(typeof performance>"u"?Date:performance).now()}var kd="\\[\\]\\.:\\/",A3=new RegExp("["+kd+"]","g"),Dd="[^"+kd+"]",P3="[^"+kd.replace("\\.","")+"]",O3=/((?:WC+[\/:])*)/.source.replace("WC",Dd),k3=/(WCOD+)?/.source.replace("WCOD",P3),D3=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Dd),I3=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Dd),L3=new RegExp("^"+O3+k3+D3+I3+"$"),R3=["material","materials","bones"],Td=class{constructor(e,t,n){let i=n||Et.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Et=class{constructor(e,t,n){this.path=t,this.parsedPath=n||Et.parseTrackName(t),this.node=Et.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Et.Composite(e,t,n):new Et(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(A3,"")}static parseTrackName(e){let t=L3.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let s=n.nodeName.substring(i+1);R3.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){let n=function(s){for(let o=0;o<s.length;o++){let a=s[o];if(a.name===t||a.uuid===t)return a;let l=n(a.children);if(l)return l}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,s=t.propertyIndex;if(e||(e=Et.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}let o=e[i];if(o===void 0){let c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};Et.Composite=Td;Et.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Et.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Et.prototype.GetterByBindingType=[Et.prototype._getValue_direct,Et.prototype._getValue_array,Et.prototype._getValue_arrayElement,Et.prototype._getValue_toArray];Et.prototype.SetterByBindingTypeAndVersioning=[[Et.prototype._setValue_direct,Et.prototype._setValue_direct_setNeedsUpdate,Et.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_array,Et.prototype._setValue_array_setNeedsUpdate,Et.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_arrayElement,Et.prototype._setValue_arrayElement_setNeedsUpdate,Et.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_fromArray,Et.prototype._setValue_fromArray_setNeedsUpdate,Et.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var jc=class{constructor(e,t,n=0,i=1/0){this.ray=new Wa(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Ga,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return Ed(e,this,n,t),n.sort($y),n}intersectObjects(e,t=!0,n=[]){for(let i=0,s=e.length;i<s;i++)Ed(e[i],this,n,t);return n.sort($y),n}};function $y(r,e){return r.distance-e.distance}function Ed(r,e,t,n){if(r.layers.test(e.layers)&&r.raycast(e,t),n===!0){let i=r.children;for(let s=0,o=i.length;s<o;s++)Ed(i[s],e,t,!0)}}var sb=new ArrayBuffer(4),BI=new Float32Array(sb),UI=new Uint32Array(sb),Gi=new Uint32Array(512),$i=new Uint32Array(512);for(let r=0;r<256;++r){let e=r-127;e<-27?(Gi[r]=0,Gi[r|256]=32768,$i[r]=24,$i[r|256]=24):e<-14?(Gi[r]=1024>>-e-14,Gi[r|256]=1024>>-e-14|32768,$i[r]=-e-1,$i[r|256]=-e-1):e<=15?(Gi[r]=e+15<<10,Gi[r|256]=e+15<<10|32768,$i[r]=13,$i[r|256]=13):e<128?(Gi[r]=31744,Gi[r|256]=64512,$i[r]=24,$i[r|256]=24):(Gi[r]=31744,Gi[r|256]=64512,$i[r]=13,$i[r|256]=13)}var ob=new Uint32Array(2048),Ya=new Uint32Array(64),N3=new Uint32Array(64);for(let r=1;r<1024;++r){let e=r<<13,t=0;for(;(e&8388608)===0;)e<<=1,t-=8388608;e&=-8388609,t+=947912704,ob[r]=e|t}for(let r=1024;r<2048;++r)ob[r]=939524096+(r-1024<<13);for(let r=1;r<31;++r)Ya[r]=r<<23;Ya[31]=1199570944;Ya[32]=2147483648;for(let r=33;r<63;++r)Ya[r]=2147483648+(r-32<<23);Ya[63]=3347054592;for(let r=1;r<64;++r)r!==32&&(N3[r]=1024);typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Cd}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Cd);var Bo={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );
			gl_FragColor.a *= opacity;


		}`};var Ri=class{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},F3=new Ts(-1,1,1,-1,0,1),Id=new vn;Id.setAttribute("position",new En([-1,3,0,-1,-1,0,3,-1,0],3));Id.setAttribute("uv",new En([0,2,0,0,2,0],2));var Uo=class{constructor(e){this._mesh=new Tn(Id,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,F3)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}};var Xa=class extends Ri{constructor(e,t){super(),this.textureID=t!==void 0?t:"tDiffuse",e instanceof Zt?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=zo.clone(e.uniforms),this.material=new Zt({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Uo(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}};var Ja=class extends Ri{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){let i=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),s.buffers.stencil.setFunc(i.ALWAYS,o,4294967295),s.buffers.stencil.setClear(a),s.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(i.EQUAL,1,4294967295),s.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),s.buffers.stencil.setLocked(!0)}},Zc=class extends Ri{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}};var Kc=class{constructor(e,t){if(this.renderer=e,t===void 0){let n=e.getSize(new Xe);this._pixelRatio=e.getPixelRatio(),this._width=n.width,this._height=n.height,t=new gn(this._width*this._pixelRatio,this._height*this._pixelRatio),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],Bo===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),Xa===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new Xa(Bo),this.clock=new Ro}swapBuffers(){let e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){let t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());let t=this.renderer.getRenderTarget(),n=!1;for(let i=0,s=this.passes.length;i<s;i++){let o=this.passes[i];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),o.needsSwap){if(n){let a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}Ja!==void 0&&(o instanceof Ja?n=!0:o instanceof Zc&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){let t=this.renderer.getSize(new Xe);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;let n=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(n,i),this.renderTarget2.setSize(n,i);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(n,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}};var eL=new Ts(-1,1,1,-1,0,1),ab=new vn;ab.setAttribute("position",new En([-1,3,0,-1,-1,0,3,-1,0],3));ab.setAttribute("uv",new En([0,2,0,0,2,0],2));var Qc=class extends Ri{constructor(e,t,n,i,s){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=s!==void 0?s:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new tt}render(e,t,n){let i=e.autoClear;e.autoClear=!1;let s,o;this.overrideMaterial!==void 0&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),s=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,s),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=o),e.autoClear=i}};var Ld={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new tt(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			vec3 luma = vec3( 0.299, 0.587, 0.114 );

			float v = dot( texel.xyz, luma );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};var dr=class extends Ri{constructor(e,t,n,i){super(),this.strength=t!==void 0?t:1,this.radius=n,this.threshold=i,this.resolution=e!==void 0?new Xe(e.x,e.y):new Xe(256,256),this.clearColor=new tt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new gn(s,o),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let h=0;h<this.nMips;h++){let f=new gn(s,o);f.texture.name="UnrealBloomPass.h"+h,f.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(f);let y=new gn(s,o);y.texture.name="UnrealBloomPass.v"+h,y.texture.generateMipmaps=!1,this.renderTargetsVertical.push(y),s=Math.round(s/2),o=Math.round(o/2)}Ld===void 0&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");let a=Ld;this.highPassUniforms=zo.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Zt({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,defines:{}}),this.separableBlurMaterials=[];let l=[3,5,7,9,11];s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);for(let h=0;h<this.nMips;h++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(l[h])),this.separableBlurMaterials[h].uniforms.texSize.value=new Xe(s,o),s=Math.round(s/2),o=Math.round(o/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;let c=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=c,this.bloomTintColors=[new ne(1,1,1),new ne(1,1,1),new ne(1,1,1),new ne(1,1,1),new ne(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,Bo===void 0&&console.error("THREE.UnrealBloomPass relies on CopyShader");let u=Bo;this.copyUniforms=zo.clone(u.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Zt({uniforms:this.copyUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:Tc,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new tt,this.oldClearAlpha=1,this.basic=new hr,this.fsQuad=new Uo(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()}setSize(e,t){let n=Math.round(e/2),i=Math.round(t/2);this.renderTargetBright.setSize(n,i);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(n,i),this.renderTargetsVertical[s].setSize(n,i),this.separableBlurMaterials[s].uniforms.texSize.value=new Xe(n,i),n=Math.round(n/2),i=Math.round(i/2)}render(e,t,n,i,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();let o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[l].uniforms.direction.value=dr.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=dr.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}getSeperableBlurMaterial(e){return new Zt({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new Xe(.5,.5)},direction:{value:new Xe(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Zt({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};dr.BlurDirectionX=new Xe(1,0);dr.BlurDirectionY=new Xe(0,1);var Ir={Linear:{None:function(r){return r}},Quadratic:{In:function(r){return r*r},Out:function(r){return r*(2-r)},InOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)}},Cubic:{In:function(r){return r*r*r},Out:function(r){return--r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)}},Quartic:{In:function(r){return r*r*r*r},Out:function(r){return 1- --r*r*r*r},InOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)}},Quintic:{In:function(r){return r*r*r*r*r},Out:function(r){return--r*r*r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)}},Sinusoidal:{In:function(r){return 1-Math.cos(r*Math.PI/2)},Out:function(r){return Math.sin(r*Math.PI/2)},InOut:function(r){return .5*(1-Math.cos(Math.PI*r))}},Exponential:{In:function(r){return r===0?0:Math.pow(1024,r-1)},Out:function(r){return r===1?1:1-Math.pow(2,-10*r)},InOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)}},Circular:{In:function(r){return 1-Math.sqrt(1-r*r)},Out:function(r){return Math.sqrt(1- --r*r)},InOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)}},Elastic:{In:function(r){return r===0?0:r===1?1:-Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI)},Out:function(r){return r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r-.1)*5*Math.PI)+1},InOut:function(r){return r===0?0:r===1?1:(r*=2,r<1?-.5*Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI):.5*Math.pow(2,-10*(r-1))*Math.sin((r-1.1)*5*Math.PI)+1)}},Back:{In:function(r){var e=1.70158;return r*r*((e+1)*r-e)},Out:function(r){var e=1.70158;return--r*r*((e+1)*r+e)+1},InOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)}},Bounce:{In:function(r){return 1-Ir.Bounce.Out(1-r)},Out:function(r){return r<.36363636363636365?7.5625*r*r:r<.7272727272727273?7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?7.5625*(r-=.8181818181818182)*r+.9375:7.5625*(r-=.9545454545454546)*r+.984375},InOut:function(r){return r<.5?Ir.Bounce.In(r*2)*.5:Ir.Bounce.Out(r*2-1)*.5+.5}}},Za;typeof self>"u"&&typeof process<"u"&&process.hrtime?Za=function(){var r=process.hrtime();return r[0]*1e3+r[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?Za=self.performance.now.bind(self.performance):Date.now!==void 0?Za=Date.now:Za=function(){return new Date().getTime()};var Ho=Za,B3=function(){function r(){this._tweens={},this._tweensAddedDuringUpdate={}}return r.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},r.prototype.removeAll=function(){this._tweens={}},r.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},r.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},r.prototype.update=function(e,t){e===void 0&&(e=Ho()),t===void 0&&(t=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!t;s&&s.update(e,o)===!1&&!t&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},r}(),Ka={Linear:function(r,e){var t=r.length-1,n=t*e,i=Math.floor(n),s=Ka.Utils.Linear;return e<0?s(r[0],r[1],n):e>1?s(r[t],r[t-1],t-n):s(r[i],r[i+1>t?t:i+1],n-i)},Bezier:function(r,e){for(var t=0,n=r.length-1,i=Math.pow,s=Ka.Utils.Bernstein,o=0;o<=n;o++)t+=i(1-e,n-o)*i(e,o)*r[o]*s(n,o);return t},CatmullRom:function(r,e){var t=r.length-1,n=t*e,i=Math.floor(n),s=Ka.Utils.CatmullRom;return r[0]===r[t]?(e<0&&(i=Math.floor(n=t*(1+e))),s(r[(i-1+t)%t],r[i],r[(i+1)%t],r[(i+2)%t],n-i)):e<0?r[0]-(s(r[0],r[0],r[1],r[1],-n)-r[0]):e>1?r[t]-(s(r[t],r[t],r[t-1],r[t-1],n-t)-r[t]):s(r[i?i-1:0],r[i],r[t<i+1?t:i+1],r[t<i+2?t:i+2],n-i)},Utils:{Linear:function(r,e,t){return(e-r)*t+r},Bernstein:function(r,e){var t=Ka.Utils.Factorial;return t(r)/t(e)/t(r-e)},Factorial:function(){var r=[1];return function(e){var t=1;if(r[e])return r[e];for(var n=e;n>1;n--)t*=n;return r[e]=t,t}}(),CatmullRom:function(r,e,t,n,i){var s=(t-r)*.5,o=(n-e)*.5,a=i*i,l=i*a;return(2*e-2*t+s+o)*l+(-3*e+3*t-2*s-o)*a+s*i+e}}},lb=function(){function r(){}return r.nextId=function(){return r._nextId++},r._nextId=0,r}(),cb=new B3,Lr=function(){function r(e,t){t===void 0&&(t=cb),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ir.Linear.None,this._interpolationFunction=Ka.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=lb.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return r.prototype.getId=function(){return this._id},r.prototype.isPlaying=function(){return this._isPlaying},r.prototype.isPaused=function(){return this._isPaused},r.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),t!==void 0&&(this._duration=t),this},r.prototype.duration=function(e){return this._duration=e,this},r.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var t in this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?Ho()+parseFloat(e):e:Ho(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},r.prototype._setupProperties=function(e,t,n,i){for(var s in n){var o=e[s],a=Array.isArray(o),l=a?"array":typeof o,c=!a&&Array.isArray(n[s]);if(!(l==="undefined"||l==="function")){if(c){var u=n[s];if(u.length===0)continue;u=u.map(this._handleRelativeValue.bind(this,o)),n[s]=[o].concat(u)}if((l==="object"||a)&&o&&!c){t[s]=a?[]:{};for(var h in o)t[s][h]=o[h];i[s]=a?[]:{},this._setupProperties(o,t[s],n[s],i[s])}else typeof t[s]>"u"&&(t[s]=o),a||(t[s]*=1),c?i[s]=n[s].slice().reverse():i[s]=t[s]||0}}},r.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},r.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},r.prototype.pause=function(e){return e===void 0&&(e=Ho()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},r.prototype.resume=function(e){return e===void 0&&(e=Ho()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},r.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},r.prototype.group=function(e){return this._group=e,this},r.prototype.delay=function(e){return this._delayTime=e,this},r.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},r.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},r.prototype.yoyo=function(e){return this._yoyo=e,this},r.prototype.easing=function(e){return this._easingFunction=e,this},r.prototype.interpolation=function(e){return this._interpolationFunction=e,this},r.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},r.prototype.onStart=function(e){return this._onStartCallback=e,this},r.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},r.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},r.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},r.prototype.onStop=function(e){return this._onStopCallback=e,this},r.prototype.update=function(e,t){if(e===void 0&&(e=Ho()),t===void 0&&(t=!0),this._isPaused)return!0;var n,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,l=this._chainedTweens.length;a<l;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},r.prototype._updateProperties=function(e,t,n,i){for(var s in n)if(t[s]!==void 0){var o=t[s]||0,a=n[s],l=Array.isArray(e[s]),c=Array.isArray(a),u=!l&&c;u?e[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*i))}},r.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},r.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},r}();var hL=lb.nextId,Yi=cb,dL=Yi.getAll.bind(Yi),pL=Yi.removeAll.bind(Yi),mL=Yi.add.bind(Yi),gL=Yi.remove.bind(Yi),ub=Yi.update.bind(Yi);function pr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function vb(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var jn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Wo={duration:.5,overwrite:!1,delay:0},Xd,bi=1e8,kt=1/bi,Hd=Math.PI*2,H3=Hd/4,V3=0,_b=Math.sqrt,W3=Math.cos,G3=Math.sin,Qt=function(e){return typeof e=="string"},on=function(e){return typeof e=="function"},vr=function(e){return typeof e=="number"},lu=function(e){return typeof e>"u"},_r=function(e){return typeof e=="object"},$n=function(e){return e!==!1},yb=function(){return typeof window<"u"},eu=function(e){return on(e)||Qt(e)},bb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},bn=Array.isArray,Vd=/(?:-?\.?\d|\.)+/gi,Jd=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ks=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Rd=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Zd=/[+-]=-?[.\d]+/,xb=/[^,'"\[\]\s]+/gi,$3=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Nt,Xi,Wd,Kd,oi={},nu={},wb,Sb=function(e){return(nu=Os(e,oi))&&ai},cu=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},iu=function(e,t){return!t&&console.warn(e)},Mb=function(e,t){return e&&(oi[e]=t)&&nu&&(nu[e]=t)||oi},rl=function(){return 0},Qd={},Nr=[],Gd={},Tb,Wn={},Nd={},fb=30,tu=[],ep="",tp=function(e){var t=e[0],n,i;if(_r(t)||on(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=tu.length;i--&&!tu[i].targetTest(t););n=tu[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new sp(e[i],n)))||e.splice(i,1);return e},zr=function(e){return e._gsap||tp(xi(e))[0]._gsap},np=function(e,t,n){return(n=e[t])&&on(n)?e[t]():lu(n)&&e.getAttribute&&e.getAttribute(t)||n},Pn=function(e,t){return(e=e.split(",")).forEach(t)||e},Bt=function(e){return Math.round(e*1e5)/1e5||0},_n=function(e){return Math.round(e*1e7)/1e7||0},Ds=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},j3=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},ru=function(){var e=Nr.length,t=Nr.slice(0),n,i;for(Gd={},Nr.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Eb=function(e,t,n,i){Nr.length&&ru(),e.render(t,n,i),Nr.length&&ru()},Cb=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(xb).length<2?t:Qt(e)?e.trim():e},Ab=function(e){return e},Si=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},q3=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},Os=function(e,t){for(var n in t)e[n]=t[n];return e},hb=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=_r(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},su=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},tl=function(e){var t=e.parent||Nt,n=e.keyframes?q3(bn(e.keyframes)):Si;if($n(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},Y3=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},Pb=function(e,t,n,i,s){n===void 0&&(n="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},uu=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},mr=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},As=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},X3=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},J3=function r(e){return!e||e._ts&&r(e.parent)},db=function(e){return e._repeat?Go(e._tTime,e=e.duration()+e._rDelay)*e:0},Go=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},ou=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},fu=function(e){return e._end=_n(e._start+(e._tDur/Math.abs(e._ts||e._rts||kt)||0))},ip=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=_n(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),fu(e),n._dirty||As(n,e)),e},Ob=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=ou(e.rawTime(),t),(!t._dur||al(0,t.totalDuration(),n)-t._tTime>kt)&&t.render(n,!0)),As(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-kt}},Ji=function(e,t,n,i){return t.parent&&mr(t),t._start=_n((vr(n)?n:n||e!==Nt?yi(e,n,t):e._time)+t._delay),t._end=_n(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Pb(e,t,"_first","_last",e._sort?"_start":0),$d(t)||(e._recent=t),i||Ob(e,t),e},kb=function(e,t){return(oi.ScrollTrigger||cu("scrollTrigger",t))&&oi.ScrollTrigger.create(t,e)},Db=function(e,t,n,i){if(lp(e,t),!e._initted)return 1;if(!n&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Tb!==Gn.frame)return Nr.push(e),e._lazy=[t,i],1},Z3=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},$d=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},K3=function(e,t,n,i){var s=e.ratio,o=t<0||!t&&(!e._start&&Z3(e)&&!(!e._initted&&$d(e))||(e._ts<0||e._dp._ts<0)&&!$d(e))?0:1,a=e._rDelay,l=0,c,u,h;if(a&&e._repeat&&(l=al(0,e._tDur,t),u=Go(l,a),e._yoyo&&u&1&&(o=1-o),u!==Go(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||i||e._zTime===kt||!t&&e._zTime){if(!e._initted&&Db(e,t,i,n))return;for(h=e._zTime,e._zTime=t||(n?kt:0),n||(n=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!n&&wi(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&wi(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&mr(e,1),n||(wi(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Q3=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},$o=function(e,t,n,i){var s=e._repeat,o=_n(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:_n(o*(s+1)+e._rDelay*s):o,a>0&&!i?ip(e,e._tTime=e._tDur*a):e.parent&&fu(e),n||As(e.parent,e),e},pb=function(e){return e instanceof yn?As(e):$o(e,e._dur)},ek={_start:0,endTime:rl,totalDuration:rl},yi=function r(e,t,n){var i=e.labels,s=e._recent||ek,o=e.duration()>=bi?s.endTime(!1):e._dur,a,l,c;return Qt(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:n).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&n&&(l=l/100*(bn(n)?n[0]:n).totalDuration()),a>1?r(e,t.substr(0,a-1),n)+l:o+l)):t==null?o:+t},nl=function(e,t,n){var i=vr(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=$n(l.vars.inherit)&&l.parent;o.immediateRender=$n(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Kt(t[0],o,t[s+1])},Fr=function(e,t){return e||e===0?t(e):t},al=function(e,t,n){return n<e?e:n>t?t:n},hn=function(e,t){return!Qt(e)||!(t=$3.exec(e))?"":t[1]},tk=function(e,t,n){return Fr(n,function(i){return al(e,t,i)})},jd=[].slice,Ib=function(e,t){return e&&_r(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&_r(e[0]))&&!e.nodeType&&e!==Xi},nk=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return Qt(i)&&!t||Ib(i,1)?(s=n).push.apply(s,xi(i)):n.push(i)})||n},xi=function(e,t,n){return Qt(e)&&!n&&(Wd||!jo())?jd.call((t||Kd).querySelectorAll(e),0):bn(e)?nk(e,n):Ib(e)?jd.call(e,0):e?[e]:[]},ik=function(e){return e=xi(e)[0]||iu("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return xi(t,n.querySelectorAll?n:n===e?iu("Invalid scope")||Kd.createElement("div"):e)}},Lb=function(e){return e.sort(function(){return .5-Math.random()})},Rb=function(e){if(on(e))return e;var t=_r(e)?e:{each:e},n=Ps(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,h=i;return Qt(i)?u=h={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],h=i[1]),function(f,y,w){var _=(w||t).length,v=o[_],S,C,T,E,k,O,R,P,D;if(!v){if(D=t.grid==="auto"?0:(t.grid||[1,bi])[1],!D){for(R=-bi;R<(R=w[D++].getBoundingClientRect().left)&&D<_;);D--}for(v=o[_]=[],S=l?Math.min(D,_)*u-.5:i%D,C=D===bi?0:l?_*h/D-.5:i/D|0,R=0,P=bi,O=0;O<_;O++)T=O%D-S,E=C-(O/D|0),v[O]=k=c?Math.abs(c==="y"?E:T):_b(T*T+E*E),k>R&&(R=k),k<P&&(P=k);i==="random"&&Lb(v),v.max=R-P,v.min=P,v.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(D>_?_-1:c?c==="y"?_/D:D:Math.max(D,_/D))||0)*(i==="edges"?-1:1),v.b=_<0?s-_:s,v.u=hn(t.amount||t.each)||0,n=n&&_<0?Vb(n):n}return _=(v[f]-v.min)/v.max||0,_n(v.b+(n?n(_):_)*v.v)+v.u}},qd=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Math.round(parseFloat(n)/e)*e*t;return(i-i%1)/t+(vr(n)?0:hn(n))}},Nb=function(e,t){var n=bn(e),i,s;return!n&&_r(e)&&(i=n=e.radius||bi,e.values?(e=xi(e.values),(s=!vr(e[0]))&&(i*=i)):e=qd(e.increment)),Fr(t,n?on(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=bi,u=0,h=e.length,f,y;h--;)s?(f=e[h].x-a,y=e[h].y-l,f=f*f+y*y):f=Math.abs(e[h]-a),f<c&&(c=f,u=h);return u=!i||c<=i?e[u]:o,s||u===o||vr(o)?u:u+hn(o)}:qd(e))},zb=function(e,t,n,i){return Fr(bn(e)?!t:n===!0?!!(n=0):!i,function(){return bn(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},rk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(s,o){return o(s)},i)}},sk=function(e,t){return function(n){return e(parseFloat(n))+(t||hn(n))}},ok=function(e,t,n){return Bb(e,t,0,1,n)},Fb=function(e,t,n){return Fr(n,function(i){return e[~~t(i)]})},ak=function r(e,t,n){var i=t-e;return bn(e)?Fb(e,r(0,e.length),t):Fr(n,function(s){return(i+(s-e)%i)%i+e})},lk=function r(e,t,n){var i=t-e,s=i*2;return bn(e)?Fb(e,r(0,e.length-1),t):Fr(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},qo=function(e){for(var t=0,n="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?xb:Vd),n+=e.substr(t,i-t)+zb(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},Bb=function(e,t,n,i,s){var o=t-e,a=i-n;return Fr(s,function(l){return n+((l-e)/o*a||0)})},ck=function r(e,t,n,i){var s=isNaN(e+t)?0:function(y){return(1-y)*e+y*t};if(!s){var o=Qt(e),a={},l,c,u,h,f;if(n===!0&&(i=1)&&(n=null),o)e={p:e},t={p:t};else if(bn(e)&&!bn(t)){for(u=[],h=e.length,f=h-2,c=1;c<h;c++)u.push(r(e[c-1],e[c]));h--,s=function(w){w*=h;var _=Math.min(f,~~w);return u[_](w-_)},n=t}else i||(e=Os(bn(e)?[]:{},e));if(!u){for(l in t)op.call(a,e,l,"get",t[l]);s=function(w){return fp(w,a)||(o?e.p:e)}}}return Fr(n,s)},mb=function(e,t,n){var i=e.labels,s=bi,o,a,l;for(o in i)a=i[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},wi=function(e,t,n){var i=e.vars,s=i[t],o,a;if(!!s)return o=i[t+"Params"],a=i.callbackScope||e,n&&Nr.length&&ru(),o?s.apply(a,o):s.call(a)},Qa=function(e){return mr(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&wi(e,"onInterrupt"),e},Vo,uk=function(e){e=!e.name&&e.default||e;var t=e.name,n=on(e),i=t&&!n&&e.init?function(){this._props=[]}:e,s={init:rl,render:fp,add:op,kill:Ek,modifier:Tk,rawVars:0},o={targetTest:0,get:0,getSetter:hu,aliases:{},register:0};if(jo(),e!==i){if(Wn[t])return;Si(i,Si(su(e,s),o)),Os(i.prototype,Os(s,su(e,o))),Wn[i.prop=t]=i,e.targetTest&&(tu.push(i),Qd[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Mb(t,i),e.register&&e.register(ai,i,On)},Ot=255,el={aqua:[0,Ot,Ot],lime:[0,Ot,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ot],navy:[0,0,128],white:[Ot,Ot,Ot],olive:[128,128,0],yellow:[Ot,Ot,0],orange:[Ot,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ot,0,0],pink:[Ot,192,203],cyan:[0,Ot,Ot],transparent:[Ot,Ot,Ot,0]},zd=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Ot+.5|0},Ub=function(e,t,n){var i=e?vr(e)?[e>>16,e>>8&Ot,e&Ot]:0:el.black,s,o,a,l,c,u,h,f,y,w;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),el[e])i=el[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Ot,i&Ot,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Ot,e&Ot]}else if(e.substr(0,3)==="hsl"){if(i=w=e.match(Vd),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=zd(l+1/3,s,o),i[1]=zd(l,s,o),i[2]=zd(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(Jd),n&&i.length<4&&(i[3]=1),i}else i=e.match(Vd)||el.transparent;i=i.map(Number)}return t&&!w&&(s=i[0]/Ot,o=i[1]/Ot,a=i[2]/Ot,h=Math.max(s,o,a),f=Math.min(s,o,a),u=(h+f)/2,h===f?l=c=0:(y=h-f,c=u>.5?y/(2-h-f):y/(h+f),l=h===s?(o-a)/y+(o<a?6:0):h===o?(a-s)/y+2:(s-o)/y+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),n&&i.length<4&&(i[3]=1),i},Hb=function(e){var t=[],n=[],i=-1;return e.split(gr).forEach(function(s){var o=s.match(ks)||[];t.push.apply(t,o),n.push(i+=o.length+1)}),t.c=n,t},gb=function(e,t,n){var i="",s=(e+i).match(gr),o=t?"hsla(":"rgba(",a=0,l,c,u,h;if(!s)return e;if(s=s.map(function(f){return(f=Ub(f,t,1))&&o+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),n&&(u=Hb(e),l=n.c,l.join(i)!==u.c.join(i)))for(c=e.replace(gr,"1").split(ks),h=c.length-1;a<h;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:n).shift());if(!c)for(c=e.split(gr),h=c.length-1;a<h;a++)i+=c[a]+s[a];return i+c[h]},gr=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in el)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),fk=/hsl[a]?\(/,rp=function(e){var t=e.join(" "),n;if(gr.lastIndex=0,gr.test(t))return n=fk.test(t),e[1]=gb(e[1],n),e[0]=gb(e[0],n,Hb(e[1])),!0},sl,Gn=function(){var r=Date.now,e=500,t=33,n=r(),i=n,s=1e3/240,o=s,a=[],l,c,u,h,f,y,w=function _(v){var S=r()-i,C=v===!0,T,E,k,O;if(S>e&&(n+=S-t),i+=S,k=i-n,T=k-o,(T>0||C)&&(O=++h.frame,f=k-h.time*1e3,h.time=k=k/1e3,o+=T+(T>=s?4:s-T),E=1),C||(l=c(_)),E)for(y=0;y<a.length;y++)a[y](k,f,O,v)};return h={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(v){return f/(1e3/(v||60))},wake:function(){wb&&(!Wd&&yb()&&(Xi=Wd=window,Kd=Xi.document||{},oi.gsap=ai,(Xi.gsapVersions||(Xi.gsapVersions=[])).push(ai.version),Sb(nu||Xi.GreenSockGlobals||!Xi.gsap&&Xi||{}),u=Xi.requestAnimationFrame),l&&h.sleep(),c=u||function(v){return setTimeout(v,o-h.time*1e3+1|0)},sl=1,w(2))},sleep:function(){(u?Xi.cancelAnimationFrame:clearTimeout)(l),sl=0,c=rl},lagSmoothing:function(v,S){e=v||1/kt,t=Math.min(S,e,0)},fps:function(v){s=1e3/(v||240),o=h.time*1e3+s},add:function(v,S,C){var T=S?function(E,k,O,R){v(E,k,O,R),h.remove(T)}:v;return h.remove(v),a[C?"unshift":"push"](T),jo(),T},remove:function(v,S){~(S=a.indexOf(v))&&a.splice(S,1)&&y>=S&&y--},_listeners:a},h}(),jo=function(){return!sl&&Gn.wake()},yt={},hk=/^[\d.\-M][\d.\-,\s]/,dk=/["']/g,pk=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,l,c;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(dk,"").trim():+c,i=l.substr(a+1).trim();return t},mk=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},gk=function(e){var t=(e+"").split("("),n=yt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[pk(t[1])]:mk(e).split(",").map(Cb)):yt._CE&&hk.test(e)?yt._CE("",e):n},Vb=function(e){return function(t){return 1-e(1-t)}},Wb=function r(e,t){for(var n=e._first,i;n;)n instanceof yn?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},Ps=function(e,t){return e&&(on(e)?e:yt[e]||gk(e))||t},Is=function(e,t,n,i){n===void 0&&(n=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:i},o;return Pn(e,function(a){yt[a]=oi[a]=s,yt[o=a.toLowerCase()]=n;for(var l in s)yt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=yt[a+"."+l]=s[l]}),s},Gb=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Fd=function r(e,t,n){var i=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/Hd*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*G3((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:Gb(a);return s=Hd/s,l.config=function(c,u){return r(e,c,u)},l},Bd=function r(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:Gb(n);return i.config=function(s){return r(e,s)},i};Pn("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;Is(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});yt.Linear.easeNone=yt.none=yt.Linear.easeIn;Is("Elastic",Fd("in"),Fd("out"),Fd());(function(r,e){var t=1/e,n=2*t,i=2.5*t,s=function(a){return a<t?r*a*a:a<n?r*Math.pow(a-1.5/e,2)+.75:a<i?r*(a-=2.25/e)*a+.9375:r*Math.pow(a-2.625/e,2)+.984375};Is("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Is("Expo",function(r){return r?Math.pow(2,10*(r-1)):0});Is("Circ",function(r){return-(_b(1-r*r)-1)});Is("Sine",function(r){return r===1?1:-W3(r*H3)+1});Is("Back",Bd("in"),Bd("out"),Bd());yt.SteppedEase=yt.steps=oi.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),s=t?1:0,o=1-kt;return function(a){return((i*al(0,o,a)|0)+s)*n}}};Wo.ease=yt["quad.out"];Pn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return ep+=r+","+r+"Params,"});var sp=function(e,t){this.id=V3++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:np,this.set=t?t.getSetter:hu},ol=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,$o(this,+t.duration,1,1),this.data=t.data,sl||Gn.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,$o(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(jo(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(ip(this,n),!s._dp||s.parent||Ob(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Ji(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===kt||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Eb(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+db(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+db(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?Go(this._tTime,s)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-kt?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?ou(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-kt?0:this._rts,this.totalTime(al(-this._delay,this._tDur,i),!0),fu(this),X3(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(jo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==kt&&(this._tTime-=kt)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Ji(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+($n(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ou(i.rawTime(n),this):this._tTime:this._tTime},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,pb(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,pb(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(yi(this,n),$n(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,$n(i))},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-kt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-kt,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-kt)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=on(n)?n:Ab,a=function(){var c=i.then;i.then=null,on(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Qa(this)},r}();Si(ol.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-kt,_prom:0,_ps:!1,_rts:1});var yn=function(r){vb(e,r);function e(n,i){var s;return n===void 0&&(n={}),s=r.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=$n(n.sortChildren),Nt&&Ji(n.parent||Nt,pr(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&kb(pr(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return nl(0,arguments,this),this},t.from=function(i,s,o){return nl(1,arguments,this),this},t.fromTo=function(i,s,o,a){return nl(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,tl(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Kt(i,s,yi(this,o),1),this},t.call=function(i,s,o){return Ji(this,Kt.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Kt(i,o,yi(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,tl(o).immediateRender=$n(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,h){return a.startAt=o,tl(a).immediateRender=$n(a.immediateRender),this.staggerTo(i,s,a,l,c,u,h)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:_n(i),h=this._zTime<0!=i<0&&(this._initted||!c),f,y,w,_,v,S,C,T,E,k,O,R;if(this!==Nt&&u>l&&i>=0&&(u=l),u!==this._tTime||o||h){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),f=u,E=this._start,T=this._ts,S=!T,h&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(O=this._yoyo,v=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,s,o);if(f=_n(u%v),u===l?(_=this._repeat,f=c):(_=~~(u/v),_&&_===u/v&&(f=c,_--),f>c&&(f=c)),k=Go(this._tTime,v),!a&&this._tTime&&k!==_&&(k=_),O&&_&1&&(f=c-f,R=1),_!==k&&!this._lock){var P=O&&k&1,D=P===(O&&_&1);if(_<k&&(P=!P),a=P?0:c,this._lock=1,this.render(a||(R?0:_n(_*v)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&wi(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,D&&(this._lock=2,a=P?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;Wb(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=Q3(this,_n(a),_n(f)),C&&(u-=f-(f=C._start))),this._tTime=u,this._time=f,this._act=!T,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&f&&!s&&(wi(this,"onStart"),this._tTime!==u))return this;if(f>=a&&i>=0)for(y=this._first;y;){if(w=y._next,(y._act||f>=y._start)&&y._ts&&C!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?(f-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(f-y._start)*y._ts,s,o),f!==this._time||!this._ts&&!S){C=0,w&&(u+=this._zTime=-kt);break}}y=w}else{y=this._last;for(var z=i<0?i:f;y;){if(w=y._prev,(y._act||z<=y._end)&&y._ts&&C!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?(z-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(z-y._start)*y._ts,s,o),f!==this._time||!this._ts&&!S){C=0,w&&(u+=this._zTime=z?-kt:kt);break}}y=w}}if(C&&!s&&(this.pause(),C.render(f>=a?0:-kt)._zTime=f>=a?1:-1,this._ts))return this._start=E,fu(this),this.render(i,s,o);this._onUpdate&&!s&&wi(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(E===this._start||Math.abs(T)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&mr(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(wi(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(vr(s)||(s=yi(this,s,i)),!(i instanceof ol)){if(bn(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Qt(i))return this.addLabel(i,s);if(on(i))i=Kt.delayedCall(0,i);else return this}return this!==i?Ji(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-bi);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Kt?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Qt(i)?this.removeLabel(i):on(i)?this.killTweensOf(i):(uu(this,i),i===this._recent&&(this._recent=this._last),As(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_n(Gn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=yi(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=Kt.delayedCall(0,s||rl,o);return a.data="isPause",this._hasPause=1,Ji(this,a,yi(this,i))},t.removePause=function(i){var s=this._first;for(i=yi(this,i);s;)s._start===i&&s.data==="isPause"&&mr(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Rr!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=xi(i),l=this._first,c=vr(s),u;l;)l instanceof Kt?j3(l._targets,a)&&(c?(!Rr||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=yi(o,i),l=s,c=l.startAt,u=l.onStart,h=l.onStartParams,f=l.immediateRender,y,w=Kt.to(o,Si({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||kt,onStart:function(){if(o.pause(),!y){var v=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());w._dur!==v&&$o(w,v,0,1).render(w._time,!0,!0),y=1}u&&u.apply(w,h||[])}},s));return f?w.render(0):w},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Si({startAt:{time:yi(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),mb(this,yi(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),mb(this,yi(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+kt)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return As(this)},t.invalidate=function(){var i=this._first;for(this._lock=0;i;)i.invalidate(),i=i._next;return r.prototype.invalidate.call(this)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),As(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=bi,c,u,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Ji(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;$o(o,o===Nt&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Nt._ts&&(Eb(Nt,ou(i,Nt)),Tb=Gn.frame),Gn.frame>=fb){fb+=jn.autoSleep||120;var s=Nt._first;if((!s||!s._ts)&&jn.autoSleep&&Gn._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Gn.sleep()}}},e}(ol);Si(yn.prototype,{_lock:0,_hasPause:0,_forcing:0});var vk=function(e,t,n,i,s,o,a){var l=new On(this._pt,e,t,0,1,up,null,s),c=0,u=0,h,f,y,w,_,v,S,C;for(l.b=n,l.e=i,n+="",i+="",(S=~i.indexOf("random("))&&(i=qo(i)),o&&(C=[n,i],o(C,e,t),n=C[0],i=C[1]),f=n.match(Rd)||[];h=Rd.exec(i);)w=h[0],_=i.substring(c,h.index),y?y=(y+1)%5:_.substr(-5)==="rgba("&&(y=1),w!==f[u++]&&(v=parseFloat(f[u-1])||0,l._pt={_next:l._pt,p:_||u===1?_:",",s:v,c:w.charAt(1)==="="?Ds(v,w)-v:parseFloat(w)-v,m:y&&y<4?Math.round:0},c=Rd.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(Zd.test(i)||S)&&(l.e=0),this._pt=l,l},op=function(e,t,n,i,s,o,a,l,c){on(i)&&(i=i(s||0,e,o));var u=e[t],h=n!=="get"?n:on(u)?c?e[t.indexOf("set")||!on(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():u,f=on(u)?c?wk:qb:cp,y;if(Qt(i)&&(~i.indexOf("random(")&&(i=qo(i)),i.charAt(1)==="="&&(y=Ds(h,i)+(hn(h)||0),(y||y===0)&&(i=y))),h!==i||Yd)return!isNaN(h*i)&&i!==""?(y=new On(this._pt,e,t,+h||0,i-(h||0),typeof u=="boolean"?Mk:Yb,0,f),c&&(y.fp=c),a&&y.modifier(a,this,e),this._pt=y):(!u&&!(t in e)&&cu(t,i),vk.call(this,e,t,h,i,f,l||jn.stringFilter,c))},_k=function(e,t,n,i,s){if(on(e)&&(e=il(e,s,t,n,i)),!_r(e)||e.style&&e.nodeType||bn(e)||bb(e))return Qt(e)?il(e,s,t,n,i):e;var o={},a;for(a in e)o[a]=il(e[a],s,t,n,i);return o},ap=function(e,t,n,i,s,o){var a,l,c,u;if(Wn[e]&&(a=new Wn[e]).init(s,a.rawVars?t[e]:_k(t[e],i,s,o,n),n,i,o)!==!1&&(n._pt=l=new On(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Vo))for(c=n._ptLookup[n._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Rr,Yd,lp=function r(e,t){var n=e.vars,i=n.ease,s=n.startAt,o=n.immediateRender,a=n.lazy,l=n.onUpdate,c=n.onUpdateParams,u=n.callbackScope,h=n.runBackwards,f=n.yoyoEase,y=n.keyframes,w=n.autoRevert,_=e._dur,v=e._startAt,S=e._targets,C=e.parent,T=C&&C.data==="nested"?C.parent._targets:S,E=e._overwrite==="auto"&&!Xd,k=e.timeline,O,R,P,D,z,I,F,j,U,W,G,N,$;if(k&&(!y||!i)&&(i="none"),e._ease=Ps(i,Wo.ease),e._yEase=f?Vb(Ps(f===!0?i:f,Wo.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!k&&!!n.runBackwards,!k||y&&!n.stagger){if(j=S[0]?zr(S[0]).harness:0,N=j&&n[j.prop],O=su(n,Qd),v&&(mr(v.render(-1,!0)),v._lazy=0),s)if(mr(e._startAt=Kt.set(S,Si({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:$n(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:c,callbackScope:u,stagger:0},s))),t<0&&!o&&!w&&e._startAt.render(-1,!0),o){if(t>0&&!w&&(e._startAt=0),_&&t<=0){t&&(e._zTime=t);return}}else w===!1&&(e._startAt=0);else if(h&&_){if(v)!w&&(e._startAt=0);else if(t&&(o=!1),P=Si({overwrite:!1,data:"isFromStart",lazy:o&&$n(a),immediateRender:o,stagger:0,parent:C},O),N&&(P[j.prop]=N),mr(e._startAt=Kt.set(S,P)),t<0&&e._startAt.render(-1,!0),e._zTime=t,!o)r(e._startAt,kt);else if(!t)return}for(e._pt=e._ptCache=0,a=_&&$n(a)||a&&!_,R=0;R<S.length;R++){if(z=S[R],F=z._gsap||tp(S)[R]._gsap,e._ptLookup[R]=W={},Gd[F.id]&&Nr.length&&ru(),G=T===S?R:T.indexOf(z),j&&(U=new j).init(z,N||O,e,G,T)!==!1&&(e._pt=D=new On(e._pt,z,U.name,0,1,U.render,U,0,U.priority),U._props.forEach(function(q){W[q]=D}),U.priority&&(I=1)),!j||N)for(P in O)Wn[P]&&(U=ap(P,O,e,G,z,T))?U.priority&&(I=1):W[P]=D=op.call(e,z,P,"get",O[P],G,T,0,n.stringFilter);e._op&&e._op[R]&&e.kill(z,e._op[R]),E&&e._pt&&(Rr=e,Nt.killTweensOf(z,W,e.globalTime(t)),$=!e.parent,Rr=0),e._pt&&a&&(Gd[F.id]=1)}I&&hp(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!$,y&&t<=0&&k.render(bi,!0,!0)},yk=function(e,t,n,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,h;if(!l)for(l=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if(c=u[h][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t;)c=c._next;if(!c)return Yd=1,e.vars[t]="+=0",lp(e,a),Yd=0,1;l.push(c)}for(h=l.length;h--;)c=l[h],c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=n-c.s,c.e&&(c.e=Bt(n)+hn(c.e)),c.b&&(c.b=c.s+hn(c.b))},bk=function(e,t){var n=e[0]?zr(e[0]).harness:0,i=n&&n.aliases,s,o,a,l;if(!i)return t;s=Os({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},xk=function(e,t,n,i){var s=t.ease||i||"power1.inOut",o,a;if(bn(t))a=n[e]||(n[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},il=function(e,t,n,i,s){return on(e)?e.call(t,n,i,s):Qt(e)&&~e.indexOf("random(")?qo(e):e},$b=ep+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",jb={};Pn($b+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return jb[r]=1});var Kt=function(r){vb(e,r);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=r.call(this,o?i:tl(i))||this;var l=a.vars,c=l.duration,u=l.delay,h=l.immediateRender,f=l.stagger,y=l.overwrite,w=l.keyframes,_=l.defaults,v=l.scrollTrigger,S=l.yoyoEase,C=i.parent||Nt,T=(bn(n)||bb(n)?vr(n[0]):"length"in i)?[n]:xi(n),E,k,O,R,P,D,z,I;if(a._targets=T.length?tp(T):iu("GSAP target "+n+" not found. https://greensock.com",!jn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=y,w||f||eu(c)||eu(u)){if(i=a.vars,E=a.timeline=new yn({data:"nested",defaults:_||{}}),E.kill(),E.parent=E._dp=pr(a),E._start=0,f||eu(c)||eu(u)){if(R=T.length,z=f&&Rb(f),_r(f))for(P in f)~$b.indexOf(P)&&(I||(I={}),I[P]=f[P]);for(k=0;k<R;k++)O=su(i,jb),O.stagger=0,S&&(O.yoyoEase=S),I&&Os(O,I),D=T[k],O.duration=+il(c,pr(a),k,D,T),O.delay=(+il(u,pr(a),k,D,T)||0)-a._delay,!f&&R===1&&O.delay&&(a._delay=u=O.delay,a._start+=u,O.delay=0),E.to(D,O,z?z(k,D,T):0),E._ease=yt.none;E.duration()?c=u=0:a.timeline=0}else if(w){tl(Si(E.vars.defaults,{ease:"none"})),E._ease=Ps(w.ease||i.ease||"none");var F=0,j,U,W;if(bn(w))w.forEach(function(G){return E.to(T,G,">")});else{O={};for(P in w)P==="ease"||P==="easeEach"||xk(P,w[P],O,w.easeEach);for(P in O)for(j=O[P].sort(function(G,N){return G.t-N.t}),F=0,k=0;k<j.length;k++)U=j[k],W={ease:U.e,duration:(U.t-(k?j[k-1].t:0))/100*c},W[P]=U.v,E.to(T,W,F),F+=W.duration;E.duration()<c&&E.to({},{duration:c-E.duration()})}}c||a.duration(c=E.duration())}else a.timeline=0;return y===!0&&!Xd&&(Rr=pr(a),Nt.killTweensOf(T),Rr=0),Ji(C,pr(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(h||!c&&!w&&a._start===_n(C._time)&&$n(h)&&J3(pr(a))&&C.data!=="nested")&&(a._tTime=-kt,a.render(Math.max(0,-u))),v&&kb(pr(a),v),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i>l-kt&&i>=0?l:i<kt?0:i,h,f,y,w,_,v,S,C,T;if(!c)K3(this,i,s,o);else if(u!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=i<0){if(h=u,C=this.timeline,this._repeat){if(w=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(w*100+i,s,o);if(h=_n(u%w),u===l?(y=this._repeat,h=c):(y=~~(u/w),y&&y===u/w&&(h=c,y--),h>c&&(h=c)),v=this._yoyo&&y&1,v&&(T=this._yEase,h=c-h),_=Go(this._tTime,w),h===a&&!o&&this._initted)return this._tTime=u,this;y!==_&&(C&&this._yEase&&Wb(C,v),this.vars.repeatRefresh&&!v&&!this._lock&&(this._lock=o=1,this.render(_n(w*y),!0).invalidate()._lock=0))}if(!this._initted){if(Db(this,i<0?i:h,o,s))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=u,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=S=(T||this._ease)(h/c),this._from&&(this.ratio=S=1-S),h&&!a&&!s&&(wi(this,"onStart"),this._tTime!==u))return this;for(f=this._pt;f;)f.r(S,f.d),f=f._next;C&&C.render(i<0?i:!h&&v?-kt:C._dur*C._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(i<0&&this._startAt&&this._startAt.render(i,!0,o),wi(this,"onUpdate")),this._repeat&&y!==_&&this.vars.onRepeat&&!s&&this.parent&&wi(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(i<0&&this._startAt&&!this._onUpdate&&this._startAt.render(i,!0,!0),(i||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&mr(this,1),!s&&!(i<0&&!a)&&(u||a)&&(wi(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),r.prototype.invalidate.call(this)},t.resetTo=function(i,s,o,a){sl||Gn.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||lp(this,l),c=this._ease(l/this._dur),yk(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(ip(this,0),this.parent||Pb(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Qa(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Rr&&Rr.vars.overwrite!==!0)._first||Qa(this),this.parent&&o!==this.timeline.totalDuration()&&$o(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?xi(i):a,c=this._ptLookup,u=this._pt,h,f,y,w,_,v,S;if((!s||s==="all")&&Y3(a,l))return s==="all"&&(this._pt=0),Qa(this);for(h=this._op=this._op||[],s!=="all"&&(Qt(s)&&(_={},Pn(s,function(C){return _[C]=1}),s=_),s=bk(a,s)),S=a.length;S--;)if(~l.indexOf(a[S])){f=c[S],s==="all"?(h[S]=s,w=f,y={}):(y=h[S]=h[S]||{},w=s);for(_ in w)v=f&&f[_],v&&((!("kill"in v.d)||v.d.kill(_)===!0)&&uu(this,v,"_pt"),delete f[_]),y!=="all"&&(y[_]=1)}return this._initted&&!this._pt&&u&&Qa(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return nl(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return nl(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Nt.killTweensOf(i,s,o)},e}(ol);Si(Kt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Pn("staggerTo,staggerFrom,staggerFromTo",function(r){Kt[r]=function(){var e=new yn,t=jd.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var cp=function(e,t,n){return e[t]=n},qb=function(e,t,n){return e[t](n)},wk=function(e,t,n,i){return e[t](i.fp,n)},Sk=function(e,t,n){return e.setAttribute(t,n)},hu=function(e,t){return on(e[t])?qb:lu(e[t])&&e.setAttribute?Sk:cp},Yb=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Mk=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},up=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},fp=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Tk=function(e,t,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,n),s=o},Ek=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?uu(this,t,"_pt"):t.dep||(n=1),t=i;return!n},Ck=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},hp=function(e){for(var t=e._pt,n,i,s,o;t;){for(n=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=n}e._pt=s},On=function(){function r(t,n,i,s,o,a,l,c,u){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||Yb,this.d=l||this,this.set=c||cp,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=Ck,this.m=n,this.mt=s,this.tween=i},r}();Pn(ep+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return Qd[r]=1});oi.TweenMax=oi.TweenLite=Kt;oi.TimelineLite=oi.TimelineMax=yn;Nt=new yn({sortChildren:!1,defaults:Wo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});jn.stringFilter=rp;var au={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return uk(i)})},timeline:function(e){return new yn(e)},getTweensOf:function(e,t){return Nt.getTweensOf(e,t)},getProperty:function(e,t,n,i){Qt(e)&&(e=xi(e)[0]);var s=zr(e||{}).get,o=n?Ab:Cb;return n==="native"&&(n=""),e&&(t?o((Wn[t]&&Wn[t].get||s)(e,t,n,i)):function(a,l,c){return o((Wn[a]&&Wn[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,n){if(e=xi(e),e.length>1){var i=e.map(function(u){return ai.quickSetter(u,t,n)}),s=i.length;return function(u){for(var h=s;h--;)i[h](u)}}e=e[0]||{};var o=Wn[t],a=zr(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var h=new o;Vo._pt=0,h.init(e,n?u+n:u,Vo,0,[e]),h.render(1,h),Vo._pt&&fp(1,Vo)}:a.set(e,l);return o?c:function(u){return c(e,l,n?u+n:u,a,1)}},quickTo:function(e,t,n){var i,s=ai.to(e,Os((i={},i[t]="+=0.1",i.paused=!0,i),n||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return Nt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ps(e.ease,Wo.ease)),hb(Wo,e||{})},config:function(e){return hb(jn,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Wn[a]&&!oi[a]&&iu(t+" effect requires "+a+" plugin.")}),Nd[t]=function(a,l,c){return n(xi(a),Si(l||{},s),c)},o&&(yn.prototype[t]=function(a,l,c){return this.add(Nd[t](a,_r(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){yt[e]=Ps(t)},parseEase:function(e,t){return arguments.length?Ps(e,t):yt},getById:function(e){return Nt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new yn(e),i,s;for(n.smoothChildTiming=$n(e.smoothChildTiming),Nt.remove(n),n._dp=0,n._time=n._tTime=Nt._time,i=Nt._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Kt&&i.vars.onComplete===i._targets[0]))&&Ji(n,i,i._start-i._delay),i=s;return Ji(Nt,n,0),n},utils:{wrap:ak,wrapYoyo:lk,distribute:Rb,random:zb,snap:Nb,normalize:ok,getUnit:hn,clamp:tk,splitColor:Ub,toArray:xi,selector:ik,mapRange:Bb,pipe:rk,unitize:sk,interpolate:ck,shuffle:Lb},install:Sb,effects:Nd,ticker:Gn,updateRoot:yn.updateRoot,plugins:Wn,globalTimeline:Nt,core:{PropTween:On,globals:Mb,Tween:Kt,Timeline:yn,Animation:ol,getCache:zr,_removeLinkedListItem:uu,suppressOverwrites:function(e){return Xd=e}}};Pn("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return au[r]=Kt[r]});Gn.add(yn.updateRoot);Vo=au.to({},{duration:0});var Ak=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Pk=function(e,t){var n=e._targets,i,s,o;for(i in t)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Ak(o,i)),o&&o.modifier&&o.modifier(t[i],e,n[s],i))},Ud=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Qt(s)&&(l={},Pn(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}Pk(a,s)}}}},ai=au.registerPlugin({name:"attr",init:function(e,t,n,i,s){var o,a;for(o in t)a=this.add(e,"setAttribute",(e.getAttribute(o)||0)+"",t[o],i,s,0,0,o),a&&(a.op=o),this._props.push(o)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},Ud("roundProps",qd),Ud("modifiers"),Ud("snap",Nb))||au;Kt.version=yn.version=ai.version="3.10.4";wb=1;yb()&&jo();var Ok=yt.Power0,kk=yt.Power1,Dk=yt.Power2,Ik=yt.Power3,Lk=yt.Power4,Rk=yt.Linear,Nk=yt.Quad,zk=yt.Cubic,Fk=yt.Quart,Bk=yt.Quint,Uk=yt.Strong,Hk=yt.Elastic,Vk=yt.Back,Wk=yt.SteppedEase,Gk=yt.Bounce,$k=yt.Sine,jk=yt.Expo,qk=yt.Circ;var Xb,Br,Xo,_p,Fs,Yk,Jb,Xk=function(){return typeof window<"u"},Vr={},Ns=180/Math.PI,Jo=Math.PI/180,Yo=Math.atan2,Zb=1e8,rx=/([A-Z])/g,Jk=/(left|right|width|margin|padding|x)/i,Zk=/[\s,\(]\S/,Ur={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},sx=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Kk=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Qk=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},eD=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},ox=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},ax=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},tD=function(e,t,n){return e.style[t]=n},nD=function(e,t,n){return e.style.setProperty(t,n)},iD=function(e,t,n){return e._gsap[t]=n},rD=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},sD=function(e,t,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},oD=function(e,t,n,i,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},dn="transform",Wr=dn+"Origin",lx,mp=function(e,t){var n=Br.createElementNS?Br.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Br.createElement(e);return n.style?n:Br.createElement(e)},yr=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(rx,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,Zo(t)||t,1)||""},Kb="O,Moz,ms,Ms,Webkit".split(","),Zo=function(e,t,n){var i=t||Fs,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Kb[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Kb[o]:"")+e},gp=function(){Xk()&&window.document&&(Xb=window,Br=Xb.document,Xo=Br.documentElement,Fs=mp("div")||{style:{}},Yk=mp("div"),dn=Zo(dn),Wr=dn+"Origin",Fs.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",lx=!!Zo("perspective"),_p=1)},dp=function r(e){var t=mp("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Xo.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=r}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),Xo.removeChild(t),this.style.cssText=s,o},Qb=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},cx=function(e){var t;try{t=e.getBBox()}catch{t=dp.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===dp||(t=dp.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Qb(e,["x","cx","x1"])||0,y:+Qb(e,["y","cy","y1"])||0,width:0,height:0}:t},ux=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&cx(e))},cl=function(e,t){if(t){var n=e.style;t in Vr&&t!==Wr&&(t=dn),n.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(t.replace(rx,"-$1").toLowerCase())):n.removeAttribute(t)}},Hr=function(e,t,n,i,s,o){var a=new On(e._pt,t,n,0,1,o?ax:ox);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},ex={deg:1,rad:1,turn:1},Gr=function r(e,t,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Fs.style,l=Jk.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,f=i==="px",y=i==="%",w,_,v,S;return i===o||!s||ex[i]||ex[o]?s:(o!=="px"&&!f&&(s=r(e,t,n,"px")),S=e.getCTM&&ux(e),(y||o==="%")&&(Vr[t]||~t.indexOf("adius"))?(w=S?e.getBBox()[l?"width":"height"]:e[u],Bt(y?s/w*h:s/100*w)):(a[l?"width":"height"]=h+(f?o:i),_=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,S&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===Br||!_.appendChild)&&(_=Br.body),v=_._gsap,v&&y&&v.width&&l&&v.time===Gn.time?Bt(s/v.width*h):((y||o==="%")&&(a.position=yr(e,"position")),_===e&&(a.position="static"),_.appendChild(Fs),w=Fs[u],_.removeChild(Fs),a.position="absolute",l&&y&&(v=zr(_),v.time=Gn.time,v.width=_[u]),Bt(f?w*s/h:w&&s?h/w*s:0))))},zs=function(e,t,n,i){var s;return _p||gp(),t in Ur&&t!=="transform"&&(t=Ur[t],~t.indexOf(",")&&(t=t.split(",")[0])),Vr[t]&&t!=="transform"?(s=fl(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:pu(yr(e,Wr))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=du[t]&&du[t](e,t,n)||yr(e,t)||np(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Gr(e,t,s,n)+n:s},aD=function(e,t,n,i){if(!n||n==="none"){var s=Zo(t,e,1),o=s&&yr(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=yr(e,"borderTopColor"))}var a=new On(this._pt,e.style,t,0,1,up),l=0,c=0,u,h,f,y,w,_,v,S,C,T,E,k;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(e.style[t]=i,i=yr(e,t)||i,e.style[t]=n),u=[n,i],rp(u),n=u[0],i=u[1],f=n.match(ks)||[],k=i.match(ks)||[],k.length){for(;h=ks.exec(i);)v=h[0],C=i.substring(l,h.index),w?w=(w+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(w=1),v!==(_=f[c++]||"")&&(y=parseFloat(_)||0,E=_.substr((y+"").length),v.charAt(1)==="="&&(v=Ds(y,v)+E),S=parseFloat(v),T=v.substr((S+"").length),l=ks.lastIndex-T.length,T||(T=T||jn.units[t]||E,l===i.length&&(i+=T,a.e+=T)),E!==T&&(y=Gr(e,t,_,T)||0),a._pt={_next:a._pt,p:C||c===1?C:",",s:y,c:S-y,m:w&&w<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?ax:ox;return Zd.test(i)&&(a.e=0),this._pt=a,a},tx={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},lD=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=tx[n]||n,t[1]=tx[i]||i,t.join(" ")},cD=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,s=t.u,o=n._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Vr[a]&&(l=1,a=a==="transformOrigin"?Wr:dn),cl(n,a);l&&(cl(n,dn),o&&(o.svg&&n.removeAttribute("transform"),fl(n,1),o.uncache=1))}},du={clearProps:function(e,t,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new On(e._pt,t,n,0,0,cD);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},ul=[1,0,0,1,0,0],fx={},hx=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},nx=function(e){var t=yr(e,dn);return hx(t)?ul:t.substr(7).match(Jd).map(Bt)},yp=function(e,t){var n=e._gsap||zr(e),i=e.style,s=nx(e),o,a,l,c;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?ul:s):(s===ul&&!e.offsetParent&&e!==Xo&&!n.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextSibling,Xo.appendChild(e)),s=nx(e),l?i.display=l:cl(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Xo.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},vp=function(e,t,n,i,s,o){var a=e._gsap,l=s||yp(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,h=a.xOffset||0,f=a.yOffset||0,y=l[0],w=l[1],_=l[2],v=l[3],S=l[4],C=l[5],T=t.split(" "),E=parseFloat(T[0])||0,k=parseFloat(T[1])||0,O,R,P,D;n?l!==ul&&(R=y*v-w*_)&&(P=E*(v/R)+k*(-_/R)+(_*C-v*S)/R,D=E*(-w/R)+k*(y/R)-(y*C-w*S)/R,E=P,k=D):(O=cx(e),E=O.x+(~T[0].indexOf("%")?E/100*O.width:E),k=O.y+(~(T[1]||T[0]).indexOf("%")?k/100*O.height:k)),i||i!==!1&&a.smooth?(S=E-c,C=k-u,a.xOffset=h+(S*y+C*_)-S,a.yOffset=f+(S*w+C*v)-C):a.xOffset=a.yOffset=0,a.xOrigin=E,a.yOrigin=k,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!n,e.style[Wr]="0px 0px",o&&(Hr(o,a,"xOrigin",c,E),Hr(o,a,"yOrigin",u,k),Hr(o,a,"xOffset",h,a.xOffset),Hr(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",E+" "+k)},fl=function(e,t){var n=e._gsap||new sp(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",l=yr(e,Wr)||"0",c,u,h,f,y,w,_,v,S,C,T,E,k,O,R,P,D,z,I,F,j,U,W,G,N,$,q,J,re,te,pe,ye;return c=u=h=w=_=v=S=C=T=0,f=y=1,n.svg=!!(e.getCTM&&ux(e)),O=yp(e,n.svg),n.svg&&(G=(!n.uncache||l==="0px 0px")&&!t&&e.getAttribute("data-svg-origin"),vp(e,G||l,!!G||n.originIsAbsolute,n.smooth!==!1,O)),E=n.xOrigin||0,k=n.yOrigin||0,O!==ul&&(z=O[0],I=O[1],F=O[2],j=O[3],c=U=O[4],u=W=O[5],O.length===6?(f=Math.sqrt(z*z+I*I),y=Math.sqrt(j*j+F*F),w=z||I?Yo(I,z)*Ns:0,S=F||j?Yo(F,j)*Ns+w:0,S&&(y*=Math.abs(Math.cos(S*Jo))),n.svg&&(c-=E-(E*z+k*F),u-=k-(E*I+k*j))):(ye=O[6],te=O[7],q=O[8],J=O[9],re=O[10],pe=O[11],c=O[12],u=O[13],h=O[14],R=Yo(ye,re),_=R*Ns,R&&(P=Math.cos(-R),D=Math.sin(-R),G=U*P+q*D,N=W*P+J*D,$=ye*P+re*D,q=U*-D+q*P,J=W*-D+J*P,re=ye*-D+re*P,pe=te*-D+pe*P,U=G,W=N,ye=$),R=Yo(-F,re),v=R*Ns,R&&(P=Math.cos(-R),D=Math.sin(-R),G=z*P-q*D,N=I*P-J*D,$=F*P-re*D,pe=j*D+pe*P,z=G,I=N,F=$),R=Yo(I,z),w=R*Ns,R&&(P=Math.cos(R),D=Math.sin(R),G=z*P+I*D,N=U*P+W*D,I=I*P-z*D,W=W*P-U*D,z=G,U=N),_&&Math.abs(_)+Math.abs(w)>359.9&&(_=w=0,v=180-v),f=Bt(Math.sqrt(z*z+I*I+F*F)),y=Bt(Math.sqrt(W*W+ye*ye)),R=Yo(U,W),S=Math.abs(R)>2e-4?R*Ns:0,T=pe?1/(pe<0?-pe:pe):0),n.svg&&(G=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!hx(yr(e,dn)),G&&e.setAttribute("transform",G))),Math.abs(S)>90&&Math.abs(S)<270&&(s?(f*=-1,S+=w<=0?180:-180,w+=w<=0?180:-180):(y*=-1,S+=S<=0?180:-180)),t=t||n.uncache,n.x=c-((n.xPercent=c&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=u-((n.yPercent=u&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=h+o,n.scaleX=Bt(f),n.scaleY=Bt(y),n.rotation=Bt(w)+a,n.rotationX=Bt(_)+a,n.rotationY=Bt(v)+a,n.skewX=S+a,n.skewY=C+a,n.transformPerspective=T+o,(n.zOrigin=parseFloat(l.split(" ")[2])||0)&&(i[Wr]=pu(l)),n.xOffset=n.yOffset=0,n.force3D=jn.force3D,n.renderTransform=n.svg?fD:lx?dx:uD,n.uncache=0,n},pu=function(e){return(e=e.split(" "))[0]+" "+e[1]},pp=function(e,t,n){var i=hn(t);return Bt(parseFloat(t)+parseFloat(Gr(e,"x",n+"px",i)))+i},uD=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,dx(e,t)},Ls="0deg",ll="0px",Rs=") ",dx=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,c=n.rotation,u=n.rotationY,h=n.rotationX,f=n.skewX,y=n.skewY,w=n.scaleX,_=n.scaleY,v=n.transformPerspective,S=n.force3D,C=n.target,T=n.zOrigin,E="",k=S==="auto"&&e&&e!==1||S===!0;if(T&&(h!==Ls||u!==Ls)){var O=parseFloat(u)*Jo,R=Math.sin(O),P=Math.cos(O),D;O=parseFloat(h)*Jo,D=Math.cos(O),o=pp(C,o,R*D*-T),a=pp(C,a,-Math.sin(O)*-T),l=pp(C,l,P*D*-T+T)}v!==ll&&(E+="perspective("+v+Rs),(i||s)&&(E+="translate("+i+"%, "+s+"%) "),(k||o!==ll||a!==ll||l!==ll)&&(E+=l!==ll||k?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Rs),c!==Ls&&(E+="rotate("+c+Rs),u!==Ls&&(E+="rotateY("+u+Rs),h!==Ls&&(E+="rotateX("+h+Rs),(f!==Ls||y!==Ls)&&(E+="skew("+f+", "+y+Rs),(w!==1||_!==1)&&(E+="scale("+w+", "+_+Rs),C.style[dn]=E||"translate(0, 0)"},fD=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,c=n.skewX,u=n.skewY,h=n.scaleX,f=n.scaleY,y=n.target,w=n.xOrigin,_=n.yOrigin,v=n.xOffset,S=n.yOffset,C=n.forceCSS,T=parseFloat(o),E=parseFloat(a),k,O,R,P,D;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Jo,c*=Jo,k=Math.cos(l)*h,O=Math.sin(l)*h,R=Math.sin(l-c)*-f,P=Math.cos(l-c)*f,c&&(u*=Jo,D=Math.tan(c-u),D=Math.sqrt(1+D*D),R*=D,P*=D,u&&(D=Math.tan(u),D=Math.sqrt(1+D*D),k*=D,O*=D)),k=Bt(k),O=Bt(O),R=Bt(R),P=Bt(P)):(k=h,P=f,O=R=0),(T&&!~(o+"").indexOf("px")||E&&!~(a+"").indexOf("px"))&&(T=Gr(y,"x",o,"px"),E=Gr(y,"y",a,"px")),(w||_||v||S)&&(T=Bt(T+w-(w*k+_*R)+v),E=Bt(E+_-(w*O+_*P)+S)),(i||s)&&(D=y.getBBox(),T=Bt(T+i/100*D.width),E=Bt(E+s/100*D.height)),D="matrix("+k+","+O+","+R+","+P+","+T+","+E+")",y.setAttribute("transform",D),C&&(y.style[dn]=D)},hD=function(e,t,n,i,s){var o=360,a=Qt(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Ns:1),c=l-i,u=i+c+"deg",h,f;return a&&(h=s.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),h==="cw"&&c<0?c=(c+o*Zb)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*Zb)%o-~~(c/o)*o)),e._pt=f=new On(e._pt,t,n,i,c,Kk),f.e=u,f.u="deg",e._props.push(n),f},ix=function(e,t){for(var n in t)e[n]=t[n];return e},dD=function(e,t,n){var i=ix({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,c,u,h,f,y,w;i.svg?(c=n.getAttribute("transform"),n.setAttribute("transform",""),o[dn]=t,a=fl(n,1),cl(n,dn),n.setAttribute("transform",c)):(c=getComputedStyle(n)[dn],o[dn]=t,a=fl(n,1),o[dn]=c);for(l in Vr)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(y=hn(c),w=hn(u),h=y!==w?Gr(n,l,c,w):parseFloat(c),f=parseFloat(u),e._pt=new On(e._pt,a,l,h,f-h,sx),e._pt.u=w||0,e._props.push(l));ix(a,i)};Pn("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",s="Left",o=(e<3?[t,n,i,s]:[t+s,t+n,i+n,i+s]).map(function(a){return e<2?r+a:"border"+a+r});du[e>1?"border"+r:r]=function(a,l,c,u,h){var f,y;if(arguments.length<4)return f=o.map(function(w){return zs(a,w,c)}),y=f.join(" "),y.split(f[0]).length===5?f[0]:y;f=(u+"").split(" "),y={},o.forEach(function(w,_){return y[w]=f[_]=f[_]||f[(_-1)/2|0]}),a.init(l,y,h)}});var bp={name:"css",register:gp,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,s){var o=this._props,a=e.style,l=n.vars.startAt,c,u,h,f,y,w,_,v,S,C,T,E,k,O,R;_p||gp();for(_ in t)if(_!=="autoRound"&&(u=t[_],!(Wn[_]&&ap(_,t,n,i,e,s)))){if(y=typeof u,w=du[_],y==="function"&&(u=u.call(n,i,e,s),y=typeof u),y==="string"&&~u.indexOf("random(")&&(u=qo(u)),w)w(this,e,_,u,n)&&(R=1);else if(_.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(_)+"").trim(),u+="",gr.lastIndex=0,gr.test(c)||(v=hn(c),S=hn(u)),S?v!==S&&(c=Gr(e,_,c,S)+S):v&&(u+=v),this.add(a,"setProperty",c,u,i,s,0,0,_),o.push(_);else if(y!=="undefined"){if(l&&_ in l?(c=typeof l[_]=="function"?l[_].call(n,i,e,s):l[_],Qt(c)&&~c.indexOf("random(")&&(c=qo(c)),hn(c+"")||(c+=jn.units[_]||hn(zs(e,_))||""),(c+"").charAt(1)==="="&&(c=zs(e,_))):c=zs(e,_),f=parseFloat(c),C=y==="string"&&u.charAt(1)==="="&&u.substr(0,2),C&&(u=u.substr(2)),h=parseFloat(u),_ in Ur&&(_==="autoAlpha"&&(f===1&&zs(e,"visibility")==="hidden"&&h&&(f=0),Hr(this,a,"visibility",f?"inherit":"hidden",h?"inherit":"hidden",!h)),_!=="scale"&&_!=="transform"&&(_=Ur[_],~_.indexOf(",")&&(_=_.split(",")[0]))),T=_ in Vr,T){if(E||(k=e._gsap,k.renderTransform&&!t.parseTransform||fl(e,t.parseTransform),O=t.smoothOrigin!==!1&&k.smooth,E=this._pt=new On(this._pt,a,dn,0,1,k.renderTransform,k,0,-1),E.dep=1),_==="scale")this._pt=new On(this._pt,k,"scaleY",k.scaleY,(C?Ds(k.scaleY,C+h):h)-k.scaleY||0),o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){u=lD(u),k.svg?vp(e,u,0,O,0,this):(S=parseFloat(u.split(" ")[2])||0,S!==k.zOrigin&&Hr(this,k,"zOrigin",k.zOrigin,S),Hr(this,a,_,pu(c),pu(u)));continue}else if(_==="svgOrigin"){vp(e,u,1,O,0,this);continue}else if(_ in fx){hD(this,k,_,f,C?Ds(f,C+u):u);continue}else if(_==="smoothOrigin"){Hr(this,k,"smooth",k.smooth,u);continue}else if(_==="force3D"){k[_]=u;continue}else if(_==="transform"){dD(this,u,e);continue}}else _ in a||(_=Zo(_)||_);if(T||(h||h===0)&&(f||f===0)&&!Zk.test(u)&&_ in a)v=(c+"").substr((f+"").length),h||(h=0),S=hn(u)||(_ in jn.units?jn.units[_]:v),v!==S&&(f=Gr(e,_,c,S)),this._pt=new On(this._pt,T?k:a,_,f,(C?Ds(f,C+h):h)-f,!T&&(S==="px"||_==="zIndex")&&t.autoRound!==!1?eD:sx),this._pt.u=S||0,v!==S&&S!=="%"&&(this._pt.b=c,this._pt.r=Qk);else if(_ in a)aD.call(this,e,_,c,C?C+u:u);else if(_ in e)this.add(e,_,c||e[_],C?C+u:u,i,s);else{cu(_,u);continue}o.push(_)}}R&&hp(this)},get:zs,aliases:Ur,getSetter:function(e,t,n){var i=Ur[t];return i&&i.indexOf(",")<0&&(t=i),t in Vr&&t!==Wr&&(e._gsap.x||zs(e,"x"))?n&&Jb===n?t==="scale"?rD:iD:(Jb=n||{})&&(t==="scale"?sD:oD):e.style&&!lu(e.style[t])?tD:~t.indexOf("-")?nD:hu(e,t)},core:{_removeProperty:cl,_getMatrix:yp}};ai.utils.checkPrefix=Zo;(function(r,e,t,n){var i=Pn(r+","+e+","+t,function(s){Vr[s]=1});Pn(e,function(s){jn.units[s]="deg",fx[s]=1}),Ur[i[13]]=r+","+e,Pn(n,function(s){var o=s.split(":");Ur[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Pn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){jn.units[r]="px"});ai.registerPlugin(bp);var Ni=ai.registerPlugin(bp)||ai,ML=Ni.core.Tween;var Qo=!0,pD=document.querySelectorAll("a"),ea=document.getElementById("loading"),mu=class{constructor(){if(setTimeout(()=>{this.header_height=document.getElementById("header_nav").clientHeight}),this.canvas_element=document.getElementById("webgl"),document.getElementById("company_section")){let e=document.getElementById("company_section").clientHeight,t=document.getElementById("hidden_cover");t.style.height=e+t.clientHeight+"px"}}callFunctions(){this.setMainHeight(),this.blackOut(),this.ResponseToEvent()}setMainHeight(){setTimeout(()=>{this.header_height=document.getElementById("header_nav").clientHeight,this.canvas_element&&(this.canvas_element.style.marginTop=this.header_height+"px")})}blackOut(){let e=document.getElementById("hidden_cover");if(document.getElementById("key-visual")){let i=document.getElementById("key-visual").getBoundingClientRect().bottom+window.pageYOffset-window.innerHeight*.88;window.scrollY>=i?(e.style.opacity=.5,e.style.visibility="visible"):window.scrollY<i&&(e.style.opacity=0,e.style.visibility="invisible")}}ResponseToEvent(){window.addEventListener("load",this.blackOut.bind(this)),window.addEventListener("scroll",this.blackOut.bind(this)),window.addEventListener("resize",()=>{this.setMainHeight(),this.blackOut()})}},gu=class{constructor(){this.scene=new Bc,this.canvas=document.createElement("canvas"),this.resized_width=window.innerWidth,this.resized_height=window.innerHeight,this.camera=new Mn(75,this.width/this.height,.1,1500),this.camera.position.x=0,this.camera.position.y=30,this.clock=new Ro,this.fadein_times=4,this.interval_time=500,this.show_guide_time=this.fadein_times*this.interval_time+3500,this.click_flag=!1,this.moving_flag=!1,this.detection=!1,this.stopDiffusion=!1,this.slide_flag=!1,this.particle_pos=new Xe,this.time=0,this.move=0,this.raycaster=new jc,this.mouse=new Xe,this.point=new Xe,this.clickable=!1}callFunctions(){Qo?this.img.addEventListener("load",()=>{this.init(),this.mouseInteraction(),this.animate(),this.showGuide(),this.setSize(),this.resize(),this.removeMesh()}):(this.init(),this.mouseInteraction(),this.animate(),this.showGuide(),this.setSize(),this.resize(),this.removeMesh())}setImage(){this.img=new Image,typeof window.ontouchstart>"u"?this.img.src="../img/logo_color.png":this.img.src="../img/logo_color_small.png",this.img.crossOrigin="anonymous"}init(){this.setRendere(),this.addObjects(),this.removeLoadingEnd(),this.fadeIn(this.fadein_times-1,this.interval_time),window.setTimeout(function(){this.click_flag=!this.click_flag}.bind(this),this.fadein_times*this.interval_time),window.setTimeout(function(){this.moving_flag=!this.moving_flag}.bind(this),this.fadein_times*this.interval_time),window.setTimeout(function(){this.clickable=!this.clickable}.bind(this),this.fadein_times*this.interval_time+5e3),this.gather2D(),window.setTimeout(()=>{this.lightOn()},this.fadein_times*this.interval_time+1e3),window.setTimeout(()=>{window.setInterval(this.autoDiffusion.bind(this),1e3)},this.show_guide_time+500)}setRendere(){this.renderer=new Pd,this.renderer.setSize(this.width,this.height-this.header_height),this.renderer.physicallyCorrectLights=!0,this.renderScene=new Qc(this.scene,this.camera),this.bloomPass=new dr(new Xe(window.innerWidth,window.innerHeight),1.5,.4,.85),this.bloomPass.threshold=0,this.bloomPass.strength=0,this.bloomPass.radius=0,this.composer=new Kc(this.renderer),this.composer.addPass(this.renderScene),this.composer.addPass(this.bloomPass),this.wrapper=document.querySelector("#webgl"),this.wrapper&&this.wrapper.appendChild(this.renderer.domElement)}addObjects(){this.geometry=new vn,this.pixcel_img=this.ImagePixel(this.img,this.img.width,this.img.height,2);let e=new Ft(new Float32Array(this.pixcel_img.position),3),t=new Ft(new Float32Array(this.pixcel_img.color),3),n=new Ft(new Float32Array(this.pixcel_img.alpha),1),i=[];this.vertces=this.pixcel_img.position.length/3;for(let v=0;v<this.vertces;v++)i.push((Math.random()-1)*2,(Math.random()-1)*2);let s=new Ft(new Float32Array(i),2),o=[];for(let v=0;v<this.vertces;v++)o.push(1);let a=new Ft(new Float32Array(o),1),l=[];for(let v=0;v<this.vertces;v++)l.push(xp(-1e3,1e3));let c=new Ft(new Float32Array(l),1),u=[];for(let v=0;v<this.vertces;v++)u.push(xp(.4,1));let h=new Ft(new Float32Array(u),1),f=[];for(let v=0;v<this.vertces;v++)f.push(xp(.4,1));let y=new Ft(new Float32Array(f),1),w=[];for(let v=0;v<this.vertces;v++)w.push(Math.random()>.5?1:-1);let _=new Ft(new Float32Array(w),1);this.geometry.setAttribute("position",e),this.geometry.setAttribute("color",t),this.geometry.setAttribute("alpha",n),this.geometry.setAttribute("rand",s),this.geometry.setAttribute("flag",a),this.geometry.setAttribute("aSpeed",c),this.geometry.setAttribute("aOffset",h),this.geometry.setAttribute("aPress",y),this.geometry.setAttribute("aDirection",_),this.material=new $a({vertexShader:document.querySelector("#js-vertex-shader").textContent,fragmentShader:document.querySelector("#js-fragment-shader").textContent,uniforms:{u_ratio:{type:"f",value:0},u_time:{type:"f",value:0},u_value:{type:"f",value:0},pointTexture:{value:new $c().load("../img/triangle.png")},mouse:{type:"v2",value:new Xe(0,0)},mousePressed:{type:"f",value:0},move:{type:"f",value:0},time:{type:"f",value:0},mousePressed:{type:"f",value:0},diffusionScale:{type:"f",value:0},circleScale:{type:"f",value:0}},transparent:!0,depthTest:!1}),this.mesh=new Vc(this.geometry,this.material),this.scene.add(this.mesh)}ImagePixel(e,t,n,i){this.ctx=this.canvas.getContext("2d"),this.canvas_width=t,this.canvas_height=n,this.canvas.width=this.canvas_width,this.canvas.height=this.canvas_height,this.ctx.drawImage(e,0,0),this.data=this.ctx.getImageData(0,0,this.canvas_width,this.canvas_height).data,this.position=[],this.color=[],this.alpha=[];for(let s=0;s<this.canvas_height;s+=i)for(let o=0;o<this.canvas_width;o+=i)this.index=(s*this.canvas_width+o)*4,this.pX=o-this.canvas_width/2,this.pY=-(s-this.canvas_height/2),this.pZ=0,this.r=this.data[this.index+0]/255,this.g=this.data[this.index+1]/255,this.b=this.data[this.index+2]/255,this.a=this.data[this.index+3]/255,this.a>.5&&(this.position.push(this.pX,this.pY,this.pZ),this.color.push(this.r,this.g,this.b),this.alpha.push(this.a));return{position:this.position,color:this.color,alpha:this.alpha}}removeLoadingEnd(){Qo&&(ea.style.opacity=0,ea.style.visibility="invisible",Qo=!Qo)}fadeIn(e,t){let n=this.mesh.geometry.attributes.alpha.array,i=this.mesh.geometry.attributes.flag.array;for(let s=0;s<this.vertces;s++)n[s]>0&&(n[s]=.5**6);for(let s=0;s<e;s++)for(let o=0;o<this.vertces;o++){let a=o+Math.floor(Math.random()*2)+1;n[a]>0&&(n[a]=.5**(s+7))}for(let s=0;s<this.vertces;s++){let o={x:n[s],y:i[s]},a=new Lr(o);a.to({x:1,y:1},t+1e3);for(let l=0;l<e+1;l++)n[s]===.5**(l+6)&&(a.delay(l*t),a.start());a.onUpdate(function(l){n[s]=l.x,i[s]=l.y})}}gatherFromFar(){Ni.set(this.mesh.material.uniforms.u_ratio,{value:1e4}),window.setTimeout(()=>{Ni.to(this.mesh.material.uniforms.u_ratio,{value:0,duration:5,ease:"power4.out"})},0)}gather2D(){let e=this.mesh.geometry.attributes.position,t=this.mesh.geometry.attributes.position.array;for(let n=0;n<this.vertces;n++){t[3*n]=kn(600,0)*Ko(),t[3*n+1]=kn(600,0)*Ko(),this.particle_pos.x=e.getX(n)*(500/this.camera.position.z)-8,this.particle_pos.y=e.getY(n)*(500/this.camera.position.z)+8;let i={x:e.getX(n),y:e.getY(n)},s=new Lr(i);s.to({x:this.pixcel_img.position[3*n],y:this.pixcel_img.position[3*n+1]},3e3),s.easing(Ir.Quadratic.Out),s.onUpdate(function(o){t[3*n]=o.x,t[3*n+1]=o.y}),s.start()}}gather3D(){let e=this.mesh.geometry.attributes.position,t=this.mesh.geometry.attributes.position.array;for(let n=0;n<this.vertces;n++){t[3*n]=kn(600,0)*Ko(),t[3*n+1]=kn(600,0)*Ko(),t[3*n+2]=500,this.particle_pos.x=e.getX(n)*(500/this.camera.position.z)-8,this.particle_pos.y=e.getY(n)*(500/this.camera.position.z)+8,this.particle_pos.z=e.getZ(n)*(500/this.camera.position.z);let i={x:e.getX(n),y:e.getY(n),z:e.getZ(n)},s=new Lr(i);s.to({x:this.pixcel_img.position[3*n],y:this.pixcel_img.position[3*n+1],z:this.pixcel_img.position[3*n+2]},3e3),s.easing(Ir.Quadratic.Out),s.onUpdate(function(o){t[3*n]=o.x,t[3*n+1]=o.y,t[3*n+2]=o.z}),s.start()}}lightOn(){let e={x:this.bloomPass.strength,y:this.bloomPass.radius},t=new Lr(e);t.to({x:.5,y:1.5},3e3),t.start(),t.onUpdate(function(n){this.bloomPass.strength=n.x,this.bloomPass.radius=n.y}.bind(this))}autoDiffusion(){let e=new Xe,t=new Xe,n=new Xe,i=new Xe,s=new Xe,o=new Xe,a=new Xe,l=this.mesh.geometry.attributes.flag.array,c=this.mesh.geometry.attributes.position.array,u={x1:this.mesh.position.x,y1:this.mesh.position.y,z1:this.mesh.position.z,x2:this.mesh.rotation.x,y2:this.mesh.rotation.y,z2:this.mesh.rotation.z,s:this.bloomPass.strength,r:this.bloomPass.radius};if(document.getElementById("company_section")){let y=document.getElementById("company_section").getBoundingClientRect().bottom+window.pageYOffset;if(!(location.pathname==="/ja/"|location.pathname==="/en/")|this.stopDiffusion|window.scrollY>y)return;{e.x=kn(375,0),t.x=-1*kn(400,0),e.y=kn(410,0),t.y=-1*kn(230,0),n.x=[e.x,t.x],n.y=[e.y,t.y],i.x=n.x[Math.floor(Math.random()*n.x.length)],i.y=n.y[Math.floor(Math.random()*n.y.length)],o.x=kn(200,5)*Ko(),o.y=kn(200,5)*Ko();let w=20,_=kn(200,50),v=[[Math.random(),Math.random()],[-1*Math.random(),Math.random()],[Math.random(),-1*Math.random()],[-1*Math.random(),-1*Math.random()]],S=v[Math.floor(Math.random()*v.length)],C=_*S[0],T=_*S[1];if(this.click_flag)for(let E=0;E<this.vertces;E++){let k=this.mesh.geometry.attributes.position,O=k.getX(E)*(500/this.camera.position.z)-8,R=k.getY(E)*(500/this.camera.position.z)+8,P={x:k.getX(E),y:k.getY(E),z:l[E]},D=Math.sqrt(Math.pow(O-i.x,2)+Math.pow(R-i.y,2)),z=[[1,0],[-1,0],[0,1],[0,-1]],I=z[Math.floor(Math.random()*z.length)];s.x=I[0],s.y=I[1];let F=kn(110,80)*.001;if(l[E]===1&&D<w){l[E]=0;let j=kn(300,280)*kn(1500,1e3);a.x=c[3*E]+C+o.x/(F*j),a.y=c[3*E+1]+T+o.y/(F*j);var h=new Lr(P);h.to({x:a.x,y:a.y,z:0},F*j),h.easing(Ir.Quadratic.Out),h.onUpdate(function(W){c[3*E]=W.x,c[3*E+1]=W.y,l[E]=W.z}),h.repeat(1),h.yoyo(!0);var f=new Lr(u);f.to({x1:a.x/(F*1e3),y1:a.y*-1/(F*1e3),z1:this.mesh.position.z+2e3/(F*500),x2:a.y/1e3*-1,y2:a.x/1e3*-1,s:2,r:.5},1e4),f.delay(2e3),f.onUpdate(function(W){this.mesh.position.x=W.x1,this.mesh.position.y=W.y1,this.mesh.position.z=W.z1,this.mesh.rotation.x=W.x2,this.mesh.rotation.y=W.y2,this.bloomPass.strength=W.s,this.bloomPass.radius=W.r}.bind(this));let U=new Lr(u);U.to({x1:this.mesh.position.x,y1:this.mesh.position.y,z1:this.mesh.position.z,x2:this.mesh.rotation.x,y2:this.mesh.rotation.y,s:.5,r:1.5},1e4),U.delay(2e3),U.onUpdate(function(W){this.mesh.position.x=W.x1,this.mesh.position.y=W.y1,this.mesh.position.z=W.z1,this.mesh.rotation.x=W.x2,this.mesh.rotation.y=W.y2,this.bloomPass.strength=W.s,this.bloomPass.radius=W.r}.bind(this)),f.chain(U),h.start(),this.slide_flag=!this.slide_flag,this.moving_flag&this.mesh.position.z+2e3/(F*500)<=this.camera.position.z*.3&&(f.start(),this.moving_flag=!this.moving_flag,window.setTimeout(function(){this.moving_flag=!this.moving_flag}.bind(this),12e3*2)),window.addEventListener("blur",()=>{h.stop(),this.stopDiffusion=!0}),window.addEventListener("focus",()=>{h.start(),this.stopDiffusion=!1})}}}}}mouseInteraction(){let e=new Tn(new Ms(2e3,2e3),new hr),t=document.getElementById("hidden_cover");typeof window.ontouchstart>"u"?(window.addEventListener("mousemove",n=>{this.mouse.x=n.clientX/window.innerWidth*2-1,this.mouse.y=-(n.clientY/window.innerHeight)*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);let i=this.raycaster.intersectObjects([e]);this.point.x=i[0].point.x,this.point.y=i[0].point.y,document.getElementById("hidden_cover")&&(document.getElementById("hidden_cover").style.opacity==0?Ni.to(this.material.uniforms.mousePressed,{duration:.3,value:1,ease:"ease.out(1, 0.3)"}):Ni.to(this.material.uniforms.mousePressed,{duration:.3,value:0,ease:"ease.out(1, 0.3)"}))},!1),window.addEventListener("click",n=>{this.mouse.x=n.clientX/window.innerWidth*2-1,this.mouse.y=-(n.clientY/window.innerHeight)*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);let i=this.raycaster.intersectObjects([e]);this.point.x=i[0].point.x,this.point.y=i[0].point.y,t.style.opacity==0?this.clickable&&(window.setTimeout(()=>{Ni.to(this.material.uniforms.mousePressed,{duration:1,value:kn(10,5),ease:"ease.out(1, 0.3)",repeat:1,yoyo:!0})},100),window.setTimeout(()=>{this.clickable=!this.clickable},500),window.setTimeout(()=>{this.clickable=!this.clickable},2500)):Ni.to(this.material.uniforms.mousePressed,{duration:.3,value:0,ease:"ease.out(1, 0.3)"})},!1)):(window.addEventListener("touchstart",n=>{this.mouse.x=n.changedTouches[0].clientX/this.resized_width*2-1,this.mouse.y=-(n.changedTouches[0].clientY/this.resized_height)*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);let i=this.raycaster.intersectObjects([e]);this.point.x=i[0].point.x,this.point.y=i[0].point.y,t.style.opacity==0&&Ni.to(this.material.uniforms.mousePressed,{duration:.3,value:1,ease:"ease.out(1, 0.3)"})}),window.addEventListener("touchend",n=>{Ni.to(this.material.uniforms.mousePressed,{duration:.3,value:0,ease:"ease.out(1, 0.3)"})}),window.addEventListener("touchmove",n=>{this.mouse.x=n.changedTouches[0].clientX/this.resized_width*2-1,this.mouse.y=-(n.changedTouches[0].clientY/this.resized_height)*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);let i=this.raycaster.intersectObjects([e]);this.point.x=i[0].point.x,this.point.y=i[0].point.y},!1))}animate(){this.time++,this.composer.setSize(window.innerWidth,window.innerHeight),this.composer.render(),this.getDeltaTime=this.clock.getDelta(),document.querySelector("#webgl")&&requestAnimationFrame(this.animate.bind(this)),window.setTimeout(()=>{this.mesh.material.uniforms.u_time.value+=2*this.getDeltaTime,this.mesh.material.uniforms.mouse.value=this.point,this.mesh.material.uniforms.time.value=this.time,this.mesh.material.uniforms.move.value=this.move,typeof window.ontouchstart>"u"?(this.mesh.material.uniforms.diffusionScale.value=180,this.mesh.material.uniforms.circleScale.value=50):(this.mesh.material.uniforms.diffusionScale.value=80,this.mesh.material.uniforms.circleScale.value=25)},this.fadein_times*this.interval_time),ub(),this.mesh.geometry.attributes.alpha.needsUpdate=!0,this.mesh.geometry.attributes.position.needsUpdate=!0,this.mesh.geometry.attributes.color.needsUpdate=!0,this.mesh.geometry.attributes.flag.needsUpdate=!0}showGuide(){this.nav_block=document.getElementById("nav_block"),this.circle=document.getElementById("circle"),this.animation_nav=Ni.timeline(),this.animation_nav.to(this.circle,{duration:.5,opacity:.7,y:5}).to(this.circle,{duration:.5,x:anime_nav.clientWidth*.5}).to(this.circle,{duration:.4,opacity:0,x:anime_nav.clientWidth*.8,y:-5}),this.animation_nav.repeat(-1),window.setTimeout(()=>{this.slide_flag===!1&&(this.nav_block.style.opacity=1,this.nav_block.style.visibility="visible")},this.fadein_times*this.interval_time+5e3)}setSize(){this.width=window.innerWidth,this.height=window.innerHeight,this.header_height=document.getElementById("header_nav").clientHeight,this.main_height=document.getElementById("top_main").clientHeight,document.querySelector("footer").style.marginTop=this.main_height+"px",this.width_break_point=700,this.height_break_point=864,this.width_break_point_sp=1440,this.camera.aspect=this.width/(this.height-this.header_height),this.camera.updateProjectionMatrix(),typeof window.ontouchstart>"u"?this.width>=this.width_break_point?(this.camera.position.z=400,this.height<=this.height_break_point?this.mesh.material.uniforms.u_value.value=(this.width+this.height)/1e3-(1200+this.height)/this.width:this.mesh.material.uniforms.u_value.value=(this.width+this.height)/600-(1200+this.height)/this.width):(this.camera.position.z=this.height/this.width*400,this.mesh.material.uniforms.u_value.value=(this.width+this.height)/1800-(1200+this.height)/this.width):this.width>=this.width_break_point_sp?this.width<this.height?(this.camera.position.z=this.height/this.width*230,this.mesh.material.uniforms.u_value.value=(this.width+this.height)/180-(1200+this.height)/this.width):this.this.camera.aspect>1.85?(this.camera.position.z=this.width/this.height*120,this.mesh.material.uniforms.u_value.value=(this.width+this.height)/200-(2800+this.height)/this.width):(this.camera.position.z=this.width/this.height*170,this.mesh.material.uniforms.u_value.value=(this.width+this.height)/180-(2800+this.height)/this.width):this.width<this.height?(this.camera.position.z=this.height/this.width*200,this.mesh.material.uniforms.u_value.value=(this.width+this.height)/180-(1600+this.height)/this.width,nav_block.style.bottom=this.height*.15+"px"):this.camera.aspect>1.8?(this.camera.position.z=this.width/this.height*120,this.mesh.material.uniforms.u_value.value=(this.width+this.height)/200-(3400+this.height)/this.width,nav_block.style.display="none"):(this.camera.position.z=this.width/this.height*170,this.mesh.material.uniforms.u_value.value=(this.width+this.height)/200-(2800+this.height)/this.width,nav_block.style.bottom=this.height*.15+"px"),this.renderer.setSize(this.width,this.height-this.header_height),this.resized_width=window.innerWidth,this.resized_height=window.innerHeight}resize(){this.currentWidth=window.innerWidth,this.currentHeight=window.innerHeight,window.addEventListener("resize",function(){if(this.currentWidth==window.innerWidth&typeof window.ontouchstart<"u"){this.currentHeight<window.innerHeight?this.nav_block.style.bottom=this.height*.15+80+"px":this.nav_block.style.bottom=this.height*.15+"px";return}this.currentWidth=window.innerWidth,this.setSize()}.bind(this))}removeMesh(){pD.forEach(e=>{e.addEventListener("click",()=>{this.mesh&&(this.scene.remove(this.mesh),this.geometry.dispose(),this.material.dispose(),this.renderer.dispose(),this.composer.removePass())})})}settings(){let e=this;this.settings={bloomStrength:0,bloomThreshold:0,bloomRadius:0},this.gui=new dat.GUI,this.gui.add(this.settings,"bloomStrength",0,2,.01),this.gui.add(this.settings,"bloomThreshold",0,1,.01),this.gui.add(this.settings,"bloomRadius",0,1,.01)}};function kn(r,e){return Math.floor(Math.random()*r+1-e)+e}function xp(r,e){return r+(e-r)*Math.random()}function Ko(){let r=[1,-1];return r[Math.floor(Math.random()*r.length)]}var ta={send:function(r){return new Promise(function(e,t){r.nocache=Math.floor(1e6*Math.random()+1),r.Action="Send";var n=JSON.stringify(r);ta.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",n,function(i){e(i)})})},ajaxPost:function(r,e,t){var n=ta.createCORSRequest("POST",r);n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){var i=n.responseText;t?.(i)},n.send(e)},ajax:function(r,e){var t=ta.createCORSRequest("GET",r);t.onload=function(){var n=t.responseText;e?.(n)},t.send()},createCORSRequest:function(r,e){var t=new XMLHttpRequest;return"withCredentials"in t?t.open(r,e,!0):typeof XDomainRequest<"u"?(t=new XDomainRequest).open(r,e):t=null,t}};function px(){let r=document.getElementById("full_name").value,e=document.getElementById("last_name").value,t=document.getElementById("company_name").value,n=document.getElementById("email").value,i=document.getElementById("contact_number").value;var s=document.getElementById("department");let o=s.value;var a=document.getElementById("post");let l=a.value,c=document.getElementById("inquiry_content").value,u="7670de06-d726-44e6-af6c-96dca7e5b64f",h="nishidai@andaze.com",f="no-reply@andaze.com";if(window.location.pathname.includes("/ja/")){let w=`\u3053\u3093\u306B\u3061\u306F <br> \u4EE5\u4E0B\u306F\u3001\u304A\u554F\u3044\u5408\u308F\u305B\u30D5\u30A9\u30FC\u30E0\u304B\u3089\u306E\u304A\u554F\u3044\u5408\u308F\u305B\u5185\u5BB9\u3067\u3059\u3002:
        <hr>
        <br>
        \u540D := ${r} ${e}, <br> 
        \u4F1A\u793E\u540D:= ${t},<br> 
        \u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9 := ${n},<br> 
        \u96FB\u8A71\u756A\u53F7 := ${i},<br> 
        \u90E8\u9580:= ${o},<br> 
        \u5F79\u8077:= ${l},<br> 
        \u304A\u554F\u3044\u5408\u308F\u305B\u5185\u5BB9:= ${c},<br>`;ta.send({SecureToken:u,To:n,From:f,Bcc:h,Subject:`\u304A\u554F\u3044\u5408\u308F\u305B\u30D5\u30A9\u30FC\u30E0\u304B\u3089 ${r} ${e}`,Body:w}).then(_=>alert("\u304A\u554F\u3044\u5408\u308F\u305B\u30D5\u30A9\u30FC\u30E0\u304C\u9001\u4FE1\u3055\u308C\u307E\u3057\u305F"))}else{let w=`Hello,<br>Following are detail come from contact form:
        <hr> 
        <br>
        Name :=  ${r} ${e},<br> 
        Company Name := ${t},<br> 
        email := ${n},<br> 
        Contact Number := ${i},<br> 
        department := ${o},<br> 
        post := ${l},<br>  
        Inquiry Detials := ${c},<br>`;ta.send({SecureToken:u,To:n,From:f,Bcc:h,Subject:`Contact Form filled By ${r} ${e}`,Body:w}).then(_=>alert("Your Contact Form has Been submitted"))}}function mx(){document.getElementById("privacy").checked?(document.getElementById("submitButton").disabled=!1,document.getElementById("submitButton").classList.remove("opacity-50","cursor-not-allowed")):(document.getElementById("submitButton").disabled=!0,document.getElementById("submitButton").classList.add("opacity-50","cursor-not-allowed"))}function gx(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function wp(r={},e={}){Object.keys(e).forEach(t=>{typeof r[t]>"u"?r[t]=e[t]:gx(e[t])&&gx(r[t])&&Object.keys(e[t]).length>0&&wp(r[t],e[t])})}var vx={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Tt(){let r=typeof document<"u"?document:{};return wp(r,vx),r}var vD={document:vx,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function ct(){let r=typeof window<"u"?window:{};return wp(r,vD),r}function _D(r){let e=r.__proto__;Object.defineProperty(r,"__proto__",{get(){return e},set(t){e.__proto__=t}})}var Zi=class extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),_D(this))}};function hl(r=[]){let e=[];return r.forEach(t=>{Array.isArray(t)?e.push(...hl(t)):e.push(t)}),e}function _x(r,e){return Array.prototype.filter.call(r,e)}function yD(r){let e=[];for(let t=0;t<r.length;t+=1)e.indexOf(r[t])===-1&&e.push(r[t]);return e}function bD(r,e){if(typeof r!="string")return[r];let t=[],n=e.querySelectorAll(r);for(let i=0;i<n.length;i+=1)t.push(n[i]);return t}function ft(r,e){let t=ct(),n=Tt(),i=[];if(!e&&r instanceof Zi)return r;if(!r)return new Zi(i);if(typeof r=="string"){let s=r.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){let o="div";s.indexOf("<li")===0&&(o="ul"),s.indexOf("<tr")===0&&(o="tbody"),(s.indexOf("<td")===0||s.indexOf("<th")===0)&&(o="tr"),s.indexOf("<tbody")===0&&(o="table"),s.indexOf("<option")===0&&(o="select");let a=n.createElement(o);a.innerHTML=s;for(let l=0;l<a.childNodes.length;l+=1)i.push(a.childNodes[l])}else i=bD(r.trim(),e||n)}else if(r.nodeType||r===t||r===n)i.push(r);else if(Array.isArray(r)){if(r instanceof Zi)return r;i=r}return new Zi(yD(i))}ft.fn=Zi.prototype;function yx(...r){let e=hl(r.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...e)}),this}function bx(...r){let e=hl(r.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...e)}),this}function xx(...r){let e=hl(r.map(t=>t.split(" ")));this.forEach(t=>{e.forEach(n=>{t.classList.toggle(n)})})}function wx(...r){let e=hl(r.map(t=>t.split(" ")));return _x(this,t=>e.filter(n=>t.classList.contains(n)).length>0).length>0}function Sx(r,e){if(arguments.length===1&&typeof r=="string")return this[0]?this[0].getAttribute(r):void 0;for(let t=0;t<this.length;t+=1)if(arguments.length===2)this[t].setAttribute(r,e);else for(let n in r)this[t][n]=r[n],this[t].setAttribute(n,r[n]);return this}function Mx(r){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(r);return this}function Tx(r){for(let e=0;e<this.length;e+=1)this[e].style.transform=r;return this}function Ex(r){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof r!="string"?`${r}ms`:r;return this}function Cx(...r){let[e,t,n,i]=r;typeof r[1]=="function"&&([e,n,i]=r,t=void 0),i||(i=!1);function s(c){let u=c.target;if(!u)return;let h=c.target.dom7EventData||[];if(h.indexOf(c)<0&&h.unshift(c),ft(u).is(t))n.apply(u,h);else{let f=ft(u).parents();for(let y=0;y<f.length;y+=1)ft(f[y]).is(t)&&n.apply(f[y],h)}}function o(c){let u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),n.apply(this,u)}let a=e.split(" "),l;for(let c=0;c<this.length;c+=1){let u=this[c];if(t)for(l=0;l<a.length;l+=1){let h=a[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({listener:n,proxyListener:s}),u.addEventListener(h,s,i)}else for(l=0;l<a.length;l+=1){let h=a[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[h]||(u.dom7Listeners[h]=[]),u.dom7Listeners[h].push({listener:n,proxyListener:o}),u.addEventListener(h,o,i)}}return this}function Ax(...r){let[e,t,n,i]=r;typeof r[1]=="function"&&([e,n,i]=r,t=void 0),i||(i=!1);let s=e.split(" ");for(let o=0;o<s.length;o+=1){let a=s[o];for(let l=0;l<this.length;l+=1){let c=this[l],u;if(!t&&c.dom7Listeners?u=c.dom7Listeners[a]:t&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[a]),u&&u.length)for(let h=u.length-1;h>=0;h-=1){let f=u[h];n&&f.listener===n||n&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===n?(c.removeEventListener(a,f.proxyListener,i),u.splice(h,1)):n||(c.removeEventListener(a,f.proxyListener,i),u.splice(h,1))}}}return this}function Px(...r){let e=ct(),t=r[0].split(" "),n=r[1];for(let i=0;i<t.length;i+=1){let s=t[i];for(let o=0;o<this.length;o+=1){let a=this[o];if(e.CustomEvent){let l=new e.CustomEvent(s,{detail:n,bubbles:!0,cancelable:!0});a.dom7EventData=r.filter((c,u)=>u>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function Ox(r){let e=this;function t(n){n.target===this&&(r.call(this,n),e.off("transitionend",t))}return r&&e.on("transitionend",t),this}function kx(r){if(this.length>0){if(r){let e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function Dx(r){if(this.length>0){if(r){let e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function Ix(){if(this.length>0){let r=ct(),e=Tt(),t=this[0],n=t.getBoundingClientRect(),i=e.body,s=t.clientTop||i.clientTop||0,o=t.clientLeft||i.clientLeft||0,a=t===r?r.scrollY:t.scrollTop,l=t===r?r.scrollX:t.scrollLeft;return{top:n.top+a-s,left:n.left+l-o}}return null}function Lx(){let r=ct();return this[0]?r.getComputedStyle(this[0],null):{}}function Rx(r,e){let t=ct(),n;if(arguments.length===1)if(typeof r=="string"){if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(r)}else{for(n=0;n<this.length;n+=1)for(let i in r)this[n].style[i]=r[i];return this}if(arguments.length===2&&typeof r=="string"){for(n=0;n<this.length;n+=1)this[n].style[r]=e;return this}return this}function Nx(r){return r?(this.forEach((e,t)=>{r.apply(e,[e,t])}),this):this}function zx(r){let e=_x(this,r);return ft(e)}function Fx(r){if(typeof r>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=r;return this}function Bx(r){if(typeof r>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=r;return this}function Ux(r){let e=ct(),t=Tt(),n=this[0],i,s;if(!n||typeof r>"u")return!1;if(typeof r=="string"){if(n.matches)return n.matches(r);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(r);if(n.msMatchesSelector)return n.msMatchesSelector(r);for(i=ft(r),s=0;s<i.length;s+=1)if(i[s]===n)return!0;return!1}if(r===t)return n===t;if(r===e)return n===e;if(r.nodeType||r instanceof Zi){for(i=r.nodeType?[r]:r,s=0;s<i.length;s+=1)if(i[s]===n)return!0;return!1}return!1}function Hx(){let r=this[0],e;if(r){for(e=0;(r=r.previousSibling)!==null;)r.nodeType===1&&(e+=1);return e}}function Vx(r){if(typeof r>"u")return this;let e=this.length;if(r>e-1)return ft([]);if(r<0){let t=e+r;return t<0?ft([]):ft([this[t]])}return ft([this[r]])}function Wx(...r){let e,t=Tt();for(let n=0;n<r.length;n+=1){e=r[n];for(let i=0;i<this.length;i+=1)if(typeof e=="string"){let s=t.createElement("div");for(s.innerHTML=e;s.firstChild;)this[i].appendChild(s.firstChild)}else if(e instanceof Zi)for(let s=0;s<e.length;s+=1)this[i].appendChild(e[s]);else this[i].appendChild(e)}return this}function Gx(r){let e=Tt(),t,n;for(t=0;t<this.length;t+=1)if(typeof r=="string"){let i=e.createElement("div");for(i.innerHTML=r,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(r instanceof Zi)for(n=0;n<r.length;n+=1)this[t].insertBefore(r[n],this[t].childNodes[0]);else this[t].insertBefore(r,this[t].childNodes[0]);return this}function $x(r){return this.length>0?r?this[0].nextElementSibling&&ft(this[0].nextElementSibling).is(r)?ft([this[0].nextElementSibling]):ft([]):this[0].nextElementSibling?ft([this[0].nextElementSibling]):ft([]):ft([])}function jx(r){let e=[],t=this[0];if(!t)return ft([]);for(;t.nextElementSibling;){let n=t.nextElementSibling;r?ft(n).is(r)&&e.push(n):e.push(n),t=n}return ft(e)}function qx(r){if(this.length>0){let e=this[0];return r?e.previousElementSibling&&ft(e.previousElementSibling).is(r)?ft([e.previousElementSibling]):ft([]):e.previousElementSibling?ft([e.previousElementSibling]):ft([])}return ft([])}function Yx(r){let e=[],t=this[0];if(!t)return ft([]);for(;t.previousElementSibling;){let n=t.previousElementSibling;r?ft(n).is(r)&&e.push(n):e.push(n),t=n}return ft(e)}function Xx(r){let e=[];for(let t=0;t<this.length;t+=1)this[t].parentNode!==null&&(r?ft(this[t].parentNode).is(r)&&e.push(this[t].parentNode):e.push(this[t].parentNode));return ft(e)}function Jx(r){let e=[];for(let t=0;t<this.length;t+=1){let n=this[t].parentNode;for(;n;)r?ft(n).is(r)&&e.push(n):e.push(n),n=n.parentNode}return ft(e)}function Zx(r){let e=this;return typeof r>"u"?ft([]):(e.is(r)||(e=e.parents(r).eq(0)),e)}function Kx(r){let e=[];for(let t=0;t<this.length;t+=1){let n=this[t].querySelectorAll(r);for(let i=0;i<n.length;i+=1)e.push(n[i])}return ft(e)}function Qx(r){let e=[];for(let t=0;t<this.length;t+=1){let n=this[t].children;for(let i=0;i<n.length;i+=1)(!r||ft(n[i]).is(r))&&e.push(n[i])}return ft(e)}function ew(){for(let r=0;r<this.length;r+=1)this[r].parentNode&&this[r].parentNode.removeChild(this[r]);return this}var xD="resize scroll".split(" ");function Ut(r){function e(...t){if(typeof t[0]>"u"){for(let n=0;n<this.length;n+=1)xD.indexOf(r)<0&&(r in this[n]?this[n][r]():ft(this[n]).trigger(r));return this}return this.on(r,...t)}return e}var LL=Ut("click"),RL=Ut("blur"),NL=Ut("focus"),zL=Ut("focusin"),FL=Ut("focusout"),BL=Ut("keyup"),UL=Ut("keydown"),HL=Ut("keypress"),VL=Ut("submit"),WL=Ut("change"),GL=Ut("mousedown"),$L=Ut("mousemove"),jL=Ut("mouseup"),qL=Ut("mouseenter"),YL=Ut("mouseleave"),XL=Ut("mouseout"),JL=Ut("mouseover"),ZL=Ut("touchstart"),KL=Ut("touchend"),QL=Ut("touchmove"),eR=Ut("resize"),tR=Ut("scroll");var tw={addClass:yx,removeClass:bx,hasClass:wx,toggleClass:xx,attr:Sx,removeAttr:Mx,transform:Tx,transition:Ex,on:Cx,off:Ax,trigger:Px,transitionEnd:Ox,outerWidth:kx,outerHeight:Dx,styles:Lx,offset:Ix,css:Rx,each:Nx,html:Fx,text:Bx,is:Ux,index:Hx,eq:Vx,append:Wx,prepend:Gx,next:$x,nextAll:jx,prev:qx,prevAll:Yx,parent:Xx,parents:Jx,closest:Zx,find:Kx,children:Qx,filter:zx,remove:ew};Object.keys(tw).forEach(r=>{Object.defineProperty(ft.fn,r,{value:tw[r],writable:!0})});var Ce=ft;function nw(r){let e=r;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function qn(r,e){return e===void 0&&(e=0),setTimeout(r,e)}function en(){return Date.now()}function wD(r){let e=ct(),t;return e.getComputedStyle&&(t=e.getComputedStyle(r,null)),!t&&r.currentStyle&&(t=r.currentStyle),t||(t=r.style),t}function dl(r,e){e===void 0&&(e="x");let t=ct(),n,i,s,o=wD(r,null);return t.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=s.m41:n.length===16?i=parseFloat(n[12]):i=parseFloat(n[4])),e==="y"&&(t.WebKitCSSMatrix?i=s.m42:n.length===16?i=parseFloat(n[13]):i=parseFloat(n[5])),i||0}function na(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"}function SD(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(r.nodeType===1||r.nodeType===11)}function xn(){let r=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){let n=t<0||arguments.length<=t?void 0:arguments[t];if(n!=null&&!SD(n)){let i=Object.keys(Object(n)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){let a=i[s],l=Object.getOwnPropertyDescriptor(n,a);l!==void 0&&l.enumerable&&(na(r[a])&&na(n[a])?n[a].__swiper__?r[a]=n[a]:xn(r[a],n[a]):!na(r[a])&&na(n[a])?(r[a]={},n[a].__swiper__?r[a]=n[a]:xn(r[a],n[a])):r[a]=n[a])}}}return r}function Bs(r,e,t){r.style.setProperty(e,t)}function vu(r){let{swiper:e,targetPosition:t,side:n}=r,i=ct(),s=-e.translate,o=null,a,l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);let c=t>s?"next":"prev",u=(f,y)=>c==="next"&&f>=y||c==="prev"&&f<=y,h=()=>{a=new Date().getTime(),o===null&&(o=a);let f=Math.max(Math.min((a-o)/l,1),0),y=.5-Math.cos(f*Math.PI)/2,w=s+y*(t-s);if(u(w,t)&&(w=t),e.wrapperEl.scrollTo({[n]:w}),u(w,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:w})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}var Sp;function MD(){let r=ct(),e=Tt();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&e instanceof r.DocumentTouch),passiveListener:function(){let n=!1;try{let i=Object.defineProperty({},"passive",{get(){n=!0}});r.addEventListener("testPassiveListener",null,i)}catch{}return n}(),gestures:function(){return"ongesturestart"in r}()}}function _u(){return Sp||(Sp=MD()),Sp}var Mp;function TD(r){let{userAgent:e}=r===void 0?{}:r,t=_u(),n=ct(),i=n.navigator.platform,s=e||n.navigator.userAgent,o={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/),u=s.match(/(iPad).*OS\s([\d_]+)/),h=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),y=i==="Win32",w=i==="MacIntel",_=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&w&&t.touch&&_.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),w=!1),c&&!y&&(o.os="android",o.android=!0),(u||f||h)&&(o.os="ios",o.ios=!0),o}function iw(r){return r===void 0&&(r={}),Mp||(Mp=TD(r)),Mp}var Tp;function ED(){let r=ct();function e(){let t=r.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent)}}function rw(){return Tp||(Tp=ED()),Tp}function Ep(r){let{swiper:e,on:t,emit:n}=r,i=ct(),s=null,o=null,a=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{let{width:f,height:y}=e,w=f,_=y;h.forEach(v=>{let{contentBoxSize:S,contentRect:C,target:T}=v;T&&T!==e.el||(w=C?C.width:(S[0]||S).inlineSize,_=C?C.height:(S[0]||S).blockSize)}),(w!==f||_!==y)&&a()})}),s.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function Cp(r){let{swiper:e,extendParams:t,on:n,emit:i}=r,s=[],o=ct(),a=function(u,h){h===void 0&&(h={});let f=o.MutationObserver||o.WebkitMutationObserver,y=new f(w=>{if(w.length===1){i("observerUpdate",w[0]);return}let _=function(){i("observerUpdate",w[0])};o.requestAnimationFrame?o.requestAnimationFrame(_):o.setTimeout(_,0)});y.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(y)},l=()=>{if(!!e.params.observer){if(e.params.observeParents){let u=e.$el.parents();for(let h=0;h<u.length;h+=1)a(u[h])}a(e.$el[0],{childList:e.params.observeSlideChildren}),a(e.$wrapperEl[0],{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var sw={on(r,e,t){let n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;let i=t?"unshift":"push";return r.split(" ").forEach(s=>{n.eventsListeners[s]||(n.eventsListeners[s]=[]),n.eventsListeners[s][i](e)}),n},once(r,e,t){let n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function i(){n.off(r,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(n,o)}return i.__emitterProxy=e,n.on(r,i,t)},onAny(r,e){let t=this;if(!t.eventsListeners||t.destroyed||typeof r!="function")return t;let n=e?"unshift":"push";return t.eventsAnyListeners.indexOf(r)<0&&t.eventsAnyListeners[n](r),t},offAny(r){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let t=e.eventsAnyListeners.indexOf(r);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(r,e){let t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||r.split(" ").forEach(n=>{typeof e>"u"?t.eventsListeners[n]=[]:t.eventsListeners[n]&&t.eventsListeners[n].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[n].splice(s,1)})}),t},emit(){let r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let e,t,n;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),n=r):(e=s[0].events,t=s[0].data,n=s[0].context||r),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(c=>{c.apply(n,[l,...t])}),r.eventsListeners&&r.eventsListeners[l]&&r.eventsListeners[l].forEach(c=>{c.apply(n,t)})}),r}};function Ap(){let r=this,e,t,n=r.$el;typeof r.params.width<"u"&&r.params.width!==null?e=r.params.width:e=n[0].clientWidth,typeof r.params.height<"u"&&r.params.height!==null?t=r.params.height:t=n[0].clientHeight,!(e===0&&r.isHorizontal()||t===0&&r.isVertical())&&(e=e-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),t=t-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(r,{width:e,height:t,size:r.isHorizontal()?e:t}))}function Pp(){let r=this;function e(z){return r.isHorizontal()?z:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[z]}function t(z,I){return parseFloat(z.getPropertyValue(e(I))||0)}let n=r.params,{$wrapperEl:i,size:s,rtlTranslate:o,wrongRTL:a}=r,l=r.virtual&&n.virtual.enabled,c=l?r.virtual.slides.length:r.slides.length,u=i.children(`.${r.params.slideClass}`),h=l?r.virtual.slides.length:u.length,f=[],y=[],w=[],_=n.slidesOffsetBefore;typeof _=="function"&&(_=n.slidesOffsetBefore.call(r));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(r));let S=r.snapGrid.length,C=r.slidesGrid.length,T=n.spaceBetween,E=-_,k=0,O=0;if(typeof s>"u")return;typeof T=="string"&&T.indexOf("%")>=0&&(T=parseFloat(T.replace("%",""))/100*s),r.virtualSize=-T,o?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),n.centeredSlides&&n.cssMode&&(Bs(r.wrapperEl,"--swiper-centered-offset-before",""),Bs(r.wrapperEl,"--swiper-centered-offset-after",""));let R=n.grid&&n.grid.rows>1&&r.grid;R&&r.grid.initSlides(h);let P,D=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(z=>typeof n.breakpoints[z].slidesPerView<"u").length>0;for(let z=0;z<h;z+=1){P=0;let I=u.eq(z);if(R&&r.grid.updateSlide(z,I,h,e),I.css("display")!=="none"){if(n.slidesPerView==="auto"){D&&(u[z].style[e("width")]="");let F=getComputedStyle(I[0]),j=I[0].style.transform,U=I[0].style.webkitTransform;if(j&&(I[0].style.transform="none"),U&&(I[0].style.webkitTransform="none"),n.roundLengths)P=r.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else{let W=t(F,"width"),G=t(F,"padding-left"),N=t(F,"padding-right"),$=t(F,"margin-left"),q=t(F,"margin-right"),J=F.getPropertyValue("box-sizing");if(J&&J==="border-box")P=W+$+q;else{let{clientWidth:re,offsetWidth:te}=I[0];P=W+G+N+$+q+(te-re)}}j&&(I[0].style.transform=j),U&&(I[0].style.webkitTransform=U),n.roundLengths&&(P=Math.floor(P))}else P=(s-(n.slidesPerView-1)*T)/n.slidesPerView,n.roundLengths&&(P=Math.floor(P)),u[z]&&(u[z].style[e("width")]=`${P}px`);u[z]&&(u[z].swiperSlideSize=P),w.push(P),n.centeredSlides?(E=E+P/2+k/2+T,k===0&&z!==0&&(E=E-s/2-T),z===0&&(E=E-s/2-T),Math.abs(E)<1/1e3&&(E=0),n.roundLengths&&(E=Math.floor(E)),O%n.slidesPerGroup===0&&f.push(E),y.push(E)):(n.roundLengths&&(E=Math.floor(E)),(O-Math.min(r.params.slidesPerGroupSkip,O))%r.params.slidesPerGroup===0&&f.push(E),y.push(E),E=E+P+T),r.virtualSize+=P+T,k=P,O+=1}}if(r.virtualSize=Math.max(r.virtualSize,s)+v,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&i.css({width:`${r.virtualSize+n.spaceBetween}px`}),n.setWrapperSize&&i.css({[e("width")]:`${r.virtualSize+n.spaceBetween}px`}),R&&r.grid.updateWrapperSize(P,f,e),!n.centeredSlides){let z=[];for(let I=0;I<f.length;I+=1){let F=f[I];n.roundLengths&&(F=Math.floor(F)),f[I]<=r.virtualSize-s&&z.push(F)}f=z,Math.floor(r.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(r.virtualSize-s)}if(f.length===0&&(f=[0]),n.spaceBetween!==0){let z=r.isHorizontal()&&o?"marginLeft":e("marginRight");u.filter((I,F)=>n.cssMode?F!==u.length-1:!0).css({[z]:`${T}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let z=0;w.forEach(F=>{z+=F+(n.spaceBetween?n.spaceBetween:0)}),z-=n.spaceBetween;let I=z-s;f=f.map(F=>F<0?-_:F>I?I+v:F)}if(n.centerInsufficientSlides){let z=0;if(w.forEach(I=>{z+=I+(n.spaceBetween?n.spaceBetween:0)}),z-=n.spaceBetween,z<s){let I=(s-z)/2;f.forEach((F,j)=>{f[j]=F-I}),y.forEach((F,j)=>{y[j]=F+I})}}if(Object.assign(r,{slides:u,snapGrid:f,slidesGrid:y,slidesSizesGrid:w}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Bs(r.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),Bs(r.wrapperEl,"--swiper-centered-offset-after",`${r.size/2-w[w.length-1]/2}px`);let z=-r.snapGrid[0],I=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(F=>F+z),r.slidesGrid=r.slidesGrid.map(F=>F+I)}if(h!==c&&r.emit("slidesLengthChange"),f.length!==S&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),y.length!==C&&r.emit("slidesGridLengthChange"),n.watchSlidesProgress&&r.updateSlidesOffset(),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){let z=`${n.containerModifierClass}backface-hidden`,I=r.$el.hasClass(z);h<=n.maxBackfaceHiddenSlides?I||r.$el.addClass(z):I&&r.$el.removeClass(z)}}function Op(r){let e=this,t=[],n=e.virtual&&e.params.virtual.enabled,i=0,s;typeof r=="number"?e.setTransition(r):r===!0&&e.setTransition(e.params.speed);let o=a=>n?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Ce([])).each(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){let a=e.activeIndex+s;if(a>e.slides.length&&!n)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){let a=t[s].offsetHeight;i=a>i?a:i}(i||i===0)&&e.$wrapperEl.css("height",`${i}px`)}function kp(){let r=this,e=r.slides;for(let t=0;t<e.length;t+=1)e[t].swiperSlideOffset=r.isHorizontal()?e[t].offsetLeft:e[t].offsetTop}function Dp(r){r===void 0&&(r=this&&this.translate||0);let e=this,t=e.params,{slides:n,rtlTranslate:i,snapGrid:s}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-r;i&&(o=r),n.removeClass(t.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<n.length;a+=1){let l=n[a],c=l.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(c-=n[0].swiperSlideOffset);let u=(o+(t.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+t.spaceBetween),h=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+t.spaceBetween),f=-(o-c),y=f+e.slidesSizesGrid[a];(f>=0&&f<e.size-1||y>1&&y<=e.size||f<=0&&y>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),n.eq(a).addClass(t.slideVisibleClass)),l.progress=i?-u:u,l.originalProgress=i?-h:h}e.visibleSlides=Ce(e.visibleSlides)}function Ip(r){let e=this;if(typeof r>"u"){let c=e.rtlTranslate?-1:1;r=e&&e.translate&&e.translate*c||0}let t=e.params,n=e.maxTranslate()-e.minTranslate(),{progress:i,isBeginning:s,isEnd:o}=e,a=s,l=o;n===0?(i=0,s=!0,o=!0):(i=(r-e.minTranslate())/n,s=i<=0,o=i>=1),Object.assign(e,{progress:i,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(r),s&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!s||l&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}function Lp(){let r=this,{slides:e,params:t,$wrapperEl:n,activeIndex:i,realIndex:s}=r,o=r.virtual&&t.virtual.enabled;e.removeClass(`${t.slideActiveClass} ${t.slideNextClass} ${t.slidePrevClass} ${t.slideDuplicateActiveClass} ${t.slideDuplicateNextClass} ${t.slideDuplicatePrevClass}`);let a;o?a=r.$wrapperEl.find(`.${t.slideClass}[data-swiper-slide-index="${i}"]`):a=e.eq(i),a.addClass(t.slideActiveClass),t.loop&&(a.hasClass(t.slideDuplicateClass)?n.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass):n.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass));let l=a.nextAll(`.${t.slideClass}`).eq(0).addClass(t.slideNextClass);t.loop&&l.length===0&&(l=e.eq(0),l.addClass(t.slideNextClass));let c=a.prevAll(`.${t.slideClass}`).eq(0).addClass(t.slidePrevClass);t.loop&&c.length===0&&(c=e.eq(-1),c.addClass(t.slidePrevClass)),t.loop&&(l.hasClass(t.slideDuplicateClass)?n.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass):n.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass),c.hasClass(t.slideDuplicateClass)?n.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass):n.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass)),r.emitSlidesClasses()}function Rp(r){let e=this,t=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:n,snapGrid:i,params:s,activeIndex:o,realIndex:a,snapIndex:l}=e,c=r,u;if(typeof c>"u"){for(let f=0;f<n.length;f+=1)typeof n[f+1]<"u"?t>=n[f]&&t<n[f+1]-(n[f+1]-n[f])/2?c=f:t>=n[f]&&t<n[f+1]&&(c=f+1):t>=n[f]&&(c=f);s.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(i.indexOf(t)>=0)u=i.indexOf(t);else{let f=Math.min(s.slidesPerGroupSkip,c);u=f+Math.floor((c-f)/s.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),c===o){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}let h=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:h,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function Np(r){let e=this,t=e.params,n=Ce(r).closest(`.${t.slideClass}`)[0],i=!1,s;if(n){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===n){i=!0,s=o;break}}if(n&&i)e.clickedSlide=n,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(Ce(n).attr("data-swiper-slide-index"),10):e.clickedIndex=s;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}t.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var ow={updateSize:Ap,updateSlides:Pp,updateAutoHeight:Op,updateSlidesOffset:kp,updateSlidesProgress:Dp,updateProgress:Ip,updateSlidesClasses:Lp,updateActiveIndex:Rp,updateClickedSlide:Np};function zp(r){r===void 0&&(r=this.isHorizontal()?"x":"y");let e=this,{params:t,rtlTranslate:n,translate:i,$wrapperEl:s}=e;if(t.virtualTranslate)return n?-i:i;if(t.cssMode)return i;let o=dl(s[0],r);return n&&(o=-o),o||0}function Fp(r,e){let t=this,{rtlTranslate:n,params:i,$wrapperEl:s,wrapperEl:o,progress:a}=t,l=0,c=0,u=0;t.isHorizontal()?l=n?-r:r:c=r,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),i.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-c:i.virtualTranslate||s.transform(`translate3d(${l}px, ${c}px, ${u}px)`),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:c;let h,f=t.maxTranslate()-t.minTranslate();f===0?h=0:h=(r-t.minTranslate())/f,h!==a&&t.updateProgress(r),t.emit("setTranslate",t.translate,e)}function Bp(){return-this.snapGrid[0]}function Up(){return-this.snapGrid[this.snapGrid.length-1]}function Hp(r,e,t,n,i){r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),n===void 0&&(n=!0);let s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;let l=s.minTranslate(),c=s.maxTranslate(),u;if(n&&r>l?u=l:n&&r<c?u=c:u=r,s.updateProgress(u),o.cssMode){let h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return vu({swiper:s,targetPosition:-u,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}var aw={getTranslate:zp,setTranslate:Fp,minTranslate:Bp,maxTranslate:Up,translateTo:Hp};function Vp(r,e){let t=this;t.params.cssMode||t.$wrapperEl.transition(r),t.emit("setTransition",r,e)}function pl(r){let{swiper:e,runCallbacks:t,direction:n,step:i}=r,{activeIndex:s,previousIndex:o}=e,a=n;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),t&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function Wp(r,e){r===void 0&&(r=!0);let t=this,{params:n}=t;n.cssMode||(n.autoHeight&&t.updateAutoHeight(),pl({swiper:t,runCallbacks:r,direction:e,step:"Start"}))}function Gp(r,e){r===void 0&&(r=!0);let t=this,{params:n}=t;t.animating=!1,!n.cssMode&&(t.setTransition(0),pl({swiper:t,runCallbacks:r,direction:e,step:"End"}))}var lw={setTransition:Vp,transitionStart:Wp,transitionEnd:Gp};function $p(r,e,t,n,i){if(r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof r!="number"&&typeof r!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof r}] given.`);if(typeof r=="string"){let T=parseInt(r,10);if(!isFinite(T))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${r}] given.`);r=T}let s=this,o=r;o<0&&(o=0);let{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:y,enabled:w}=s;if(s.animating&&a.preventInteractionOnTransition||!w&&!n&&!i)return!1;let _=Math.min(s.params.slidesPerGroupSkip,o),v=_+Math.floor((o-_)/s.params.slidesPerGroup);v>=l.length&&(v=l.length-1),(h||a.initialSlide||0)===(u||0)&&t&&s.emit("beforeSlideChangeStart");let S=-l[v];if(s.updateProgress(S),a.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){let E=-Math.floor(S*100),k=Math.floor(c[T]*100),O=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?E>=k&&E<O-(O-k)/2?o=T:E>=k&&E<O&&(o=T+1):E>=k&&(o=T)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&S<s.translate&&S<s.minTranslate()||!s.allowSlidePrev&&S>s.translate&&S>s.maxTranslate()&&(h||0)!==o))return!1;let C;if(o>h?C="next":o<h?C="prev":C="reset",f&&-S===s.translate||!f&&S===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(S),C!=="reset"&&(s.transitionStart(t,C),s.transitionEnd(t,C)),!1;if(a.cssMode){let T=s.isHorizontal(),E=f?S:-S;if(e===0){let k=s.virtual&&s.params.virtual.enabled;k&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),y[T?"scrollLeft":"scrollTop"]=E,k&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1})}else{if(!s.support.smoothScroll)return vu({swiper:s,targetPosition:E,side:T?"left":"top"}),!0;y.scrollTo({[T?"left":"top"]:E,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(S),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,n),s.transitionStart(t,C),e===0?s.transitionEnd(t,C):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(E){!s||s.destroyed||E.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,C))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0}function jp(r,e,t,n){if(r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof r=="string"){let o=parseInt(r,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${r}] given.`);r=o}let i=this,s=r;return i.params.loop&&(s+=i.loopedSlides),i.slideTo(s,e,t,n)}function qp(r,e,t){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0);let n=this,{animating:i,enabled:s,params:o}=n;if(!s)return n;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));let l=n.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(i&&o.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}return o.rewind&&n.isEnd?n.slideTo(0,r,e,t):n.slideTo(n.activeIndex+l,r,e,t)}function Yp(r,e,t){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0);let n=this,{params:i,animating:s,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:c}=n;if(!c)return n;if(i.loop){if(s&&i.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}let u=l?n.translate:-n.translate;function h(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}let f=h(u),y=o.map(v=>h(v)),w=o[y.indexOf(f)-1];if(typeof w>"u"&&i.cssMode){let v;o.forEach((S,C)=>{f>=S&&(v=C)}),typeof v<"u"&&(w=o[v>0?v-1:v])}let _=0;if(typeof w<"u"&&(_=a.indexOf(w),_<0&&(_=n.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(_=_-n.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),i.rewind&&n.isBeginning){let v=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(v,r,e,t)}return n.slideTo(_,r,e,t)}function Xp(r,e,t){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0);let n=this;return n.slideTo(n.activeIndex,r,e,t)}function Jp(r,e,t,n){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0),n===void 0&&(n=.5);let i=this,s=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){let c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*n&&(s+=i.params.slidesPerGroup)}else{let c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*n&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,r,e,t)}function Zp(){let r=this,{params:e,$wrapperEl:t}=r,n=e.slidesPerView==="auto"?r.slidesPerViewDynamic():e.slidesPerView,i=r.clickedIndex,s;if(e.loop){if(r.animating)return;s=parseInt(Ce(r.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<r.loopedSlides-n/2||i>r.slides.length-r.loopedSlides+n/2?(r.loopFix(),i=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),qn(()=>{r.slideTo(i)})):r.slideTo(i):i>r.slides.length-n?(r.loopFix(),i=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),qn(()=>{r.slideTo(i)})):r.slideTo(i)}else r.slideTo(i)}var cw={slideTo:$p,slideToLoop:jp,slideNext:qp,slidePrev:Yp,slideReset:Xp,slideToClosest:Jp,slideToClickedSlide:Zp};function Kp(){let r=this,e=Tt(),{params:t,$wrapperEl:n}=r,i=n.children().length>0?Ce(n.children()[0].parentNode):n;i.children(`.${t.slideClass}.${t.slideDuplicateClass}`).remove();let s=i.children(`.${t.slideClass}`);if(t.loopFillGroupWithBlank){let l=t.slidesPerGroup-s.length%t.slidesPerGroup;if(l!==t.slidesPerGroup){for(let c=0;c<l;c+=1){let u=Ce(e.createElement("div")).addClass(`${t.slideClass} ${t.slideBlankClass}`);i.append(u)}s=i.children(`.${t.slideClass}`)}}t.slidesPerView==="auto"&&!t.loopedSlides&&(t.loopedSlides=s.length),r.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),r.loopedSlides+=t.loopAdditionalSlides,r.loopedSlides>s.length&&(r.loopedSlides=s.length);let o=[],a=[];s.each((l,c)=>{let u=Ce(l);c<r.loopedSlides&&a.push(l),c<s.length&&c>=s.length-r.loopedSlides&&o.push(l),u.attr("data-swiper-slide-index",c)});for(let l=0;l<a.length;l+=1)i.append(Ce(a[l].cloneNode(!0)).addClass(t.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)i.prepend(Ce(o[l].cloneNode(!0)).addClass(t.slideDuplicateClass))}function Qp(){let r=this;r.emit("beforeLoopFix");let{activeIndex:e,slides:t,loopedSlides:n,allowSlidePrev:i,allowSlideNext:s,snapGrid:o,rtlTranslate:a}=r,l;r.allowSlidePrev=!0,r.allowSlideNext=!0;let u=-o[e]-r.getTranslate();e<n?(l=t.length-n*3+e,l+=n,r.slideTo(l,0,!1,!0)&&u!==0&&r.setTranslate((a?-r.translate:r.translate)-u)):e>=t.length-n&&(l=-t.length+e+n,l+=n,r.slideTo(l,0,!1,!0)&&u!==0&&r.setTranslate((a?-r.translate:r.translate)-u)),r.allowSlidePrev=i,r.allowSlideNext=s,r.emit("loopFix")}function em(){let r=this,{$wrapperEl:e,params:t,slides:n}=r;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}var uw={loopCreate:Kp,loopFix:Qp,loopDestroy:em};function tm(r){let e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;t.style.cursor="move",t.style.cursor=r?"grabbing":"grab"}function nm(){let r=this;r.support.touch||r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r[r.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}var fw={setGrabCursor:tm,unsetGrabCursor:nm};function CD(r,e){e===void 0&&(e=this);function t(n){if(!n||n===Tt()||n===ct())return null;n.assignedSlot&&(n=n.assignedSlot);let i=n.closest(r);return!i&&!n.getRootNode?null:i||t(n.getRootNode().host)}return t(e)}function im(r){let e=this,t=Tt(),n=ct(),i=e.touchEventsData,{params:s,touches:o,enabled:a}=e;if(!a||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r;l.originalEvent&&(l=l.originalEvent);let c=Ce(l.target);if(s.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(i.isTouchEvent=l.type==="touchstart",!i.isTouchEvent&&"which"in l&&l.which===3)||!i.isTouchEvent&&"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;!!s.noSwipingClass&&s.noSwipingClass!==""&&l.target&&l.target.shadowRoot&&r.path&&r.path[0]&&(c=Ce(r.path[0]));let h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(l.target&&l.target.shadowRoot);if(s.noSwiping&&(f?CD(h,c[0]):c.closest(h)[0])){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;let y=o.currentX,w=o.currentY,_=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,v=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(_&&(y<=v||y>=n.innerWidth-v))if(_==="prevent")r.preventDefault();else return;if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=y,o.startY=w,i.touchStartTime=en(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1),l.type!=="touchstart"){let S=!0;c.is(i.focusableElements)&&(S=!1,c[0].nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&Ce(t.activeElement).is(i.focusableElements)&&t.activeElement!==c[0]&&t.activeElement.blur();let C=S&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||C)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function rm(r){let e=Tt(),t=this,n=t.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=t;if(!a)return;let l=r;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched){n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",l);return}if(n.isTouchEvent&&l.type!=="touchmove")return;let c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,h=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=h;return}if(!t.allowTouchMove){Ce(l.target).is(n.focusableElements)||(t.allowClick=!1),n.isTouched&&(Object.assign(s,{startX:u,startY:h,currentX:u,currentY:h}),n.touchStartTime=en());return}if(n.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(t.isVertical()){if(h<s.startY&&t.translate<=t.maxTranslate()||h>s.startY&&t.translate>=t.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(u<s.startX&&t.translate<=t.maxTranslate()||u>s.startX&&t.translate>=t.minTranslate())return}if(n.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&Ce(l.target).is(n.focusableElements)){n.isMoved=!0,t.allowClick=!1;return}if(n.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=u,s.currentY=h;let f=s.currentX-s.startX,y=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(f**2+y**2)<t.params.threshold)return;if(typeof n.isScrolling>"u"){let S;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?n.isScrolling=!1:f*f+y*y>=25&&(S=Math.atan2(Math.abs(y),Math.abs(f))*180/Math.PI,n.isScrolling=t.isHorizontal()?S>i.touchAngle:90-S>i.touchAngle)}if(n.isScrolling&&t.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(n.startMoving=!0),n.isScrolling){n.isTouched=!1;return}if(!n.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation(),n.isMoved||(i.loop&&!i.cssMode&&t.loopFix(),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)),t.emit("sliderMove",l),n.isMoved=!0;let w=t.isHorizontal()?f:y;s.diff=w,w*=i.touchRatio,o&&(w=-w),t.swipeDirection=w>0?"prev":"next",n.currentTranslate=w+n.startTranslate;let _=!0,v=i.resistanceRatio;if(i.touchReleaseOnEdges&&(v=0),w>0&&n.currentTranslate>t.minTranslate()?(_=!1,i.resistance&&(n.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+n.startTranslate+w)**v)):w<0&&n.currentTranslate<t.maxTranslate()&&(_=!1,i.resistance&&(n.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-n.startTranslate-w)**v)),_&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(n.currentTranslate=n.startTranslate),i.threshold>0)if(Math.abs(w)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,n.currentTranslate=n.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{n.currentTranslate=n.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),t.params.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}function sm(r){let e=this,t=e.touchEventsData,{params:n,touches:i,rtlTranslate:s,slidesGrid:o,enabled:a}=e;if(!a)return;let l=r;if(l.originalEvent&&(l=l.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",l),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&n.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}n.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let c=en(),u=c-t.touchStartTime;if(e.allowClick){let C=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(C&&C[0]||l.target),e.emit("tap click",l),u<300&&c-t.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(t.lastClickTime=en(),qn(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||i.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let h;if(n.followFinger?h=s?e.translate:-e.translate:h=-t.currentTranslate,n.cssMode)return;if(e.params.freeMode&&n.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,y=e.slidesSizesGrid[0];for(let C=0;C<o.length;C+=C<n.slidesPerGroupSkip?1:n.slidesPerGroup){let T=C<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;typeof o[C+T]<"u"?h>=o[C]&&h<o[C+T]&&(f=C,y=o[C+T]-o[C]):h>=o[C]&&(f=C,y=o[o.length-1]-o[o.length-2])}let w=null,_=null;n.rewind&&(e.isBeginning?_=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));let v=(h-o[f])/y,S=f<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(u>n.longSwipesMs){if(!n.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=n.longSwipesRatio?e.slideTo(n.rewind&&e.isEnd?w:f+S):e.slideTo(f)),e.swipeDirection==="prev"&&(v>1-n.longSwipesRatio?e.slideTo(f+S):_!==null&&v<0&&Math.abs(v)>n.longSwipesRatio?e.slideTo(_):e.slideTo(f))}else{if(!n.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+S):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:f+S),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:f))}}function yu(){let r=this,{params:e,el:t}=r;if(t&&t.offsetWidth===0)return;e.breakpoints&&r.setBreakpoint();let{allowSlideNext:n,allowSlidePrev:i,snapGrid:s}=r;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides?r.slideTo(r.slides.length-1,0,!1,!0):r.slideTo(r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.run(),r.allowSlidePrev=i,r.allowSlideNext=n,r.params.watchOverflow&&s!==r.snapGrid&&r.checkOverflow()}function om(r){let e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&r.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(r.stopPropagation(),r.stopImmediatePropagation()))}function am(){let r=this,{wrapperEl:e,rtlTranslate:t,enabled:n}=r;if(!n)return;r.previousTranslate=r.translate,r.isHorizontal()?r.translate=-e.scrollLeft:r.translate=-e.scrollTop,r.translate===0&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();let i,s=r.maxTranslate()-r.minTranslate();s===0?i=0:i=(r.translate-r.minTranslate())/s,i!==r.progress&&r.updateProgress(t?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}var hw=!1;function AD(){}var dw=(r,e)=>{let t=Tt(),{params:n,touchEvents:i,el:s,wrapperEl:o,device:a,support:l}=r,c=!!n.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;if(!l.touch)s[u](i.start,r.onTouchStart,!1),t[u](i.move,r.onTouchMove,c),t[u](i.end,r.onTouchEnd,!1);else{let f=i.start==="touchstart"&&l.passiveListener&&n.passiveListeners?{passive:!0,capture:!1}:!1;s[u](i.start,r.onTouchStart,f),s[u](i.move,r.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),s[u](i.end,r.onTouchEnd,f),i.cancel&&s[u](i.cancel,r.onTouchEnd,f)}(n.preventClicks||n.preventClicksPropagation)&&s[u]("click",r.onClick,!0),n.cssMode&&o[u]("scroll",r.onScroll),n.updateOnWindowResize?r[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",yu,!0):r[h]("observerUpdate",yu,!0)};function PD(){let r=this,e=Tt(),{params:t,support:n}=r;r.onTouchStart=im.bind(r),r.onTouchMove=rm.bind(r),r.onTouchEnd=sm.bind(r),t.cssMode&&(r.onScroll=am.bind(r)),r.onClick=om.bind(r),n.touch&&!hw&&(e.addEventListener("touchstart",AD),hw=!0),dw(r,"on")}function OD(){dw(this,"off")}var pw={attachEvents:PD,detachEvents:OD};var mw=(r,e)=>r.grid&&e.grid&&e.grid.rows>1;function lm(){let r=this,{activeIndex:e,initialized:t,loopedSlides:n=0,params:i,$el:s}=r,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;let a=r.getBreakpoint(o,r.params.breakpointsBase,r.el);if(!a||r.currentBreakpoint===a)return;let c=(a in o?o[a]:void 0)||r.originalParams,u=mw(r,i),h=mw(r,c),f=i.enabled;u&&!h?(s.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),r.emitContainerClasses()):!u&&h&&(s.addClass(`${i.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&i.grid.fill==="column")&&s.addClass(`${i.containerModifierClass}grid-column`),r.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(v=>{let S=i[v]&&i[v].enabled,C=c[v]&&c[v].enabled;S&&!C&&r[v].disable(),!S&&C&&r[v].enable()});let y=c.direction&&c.direction!==i.direction,w=i.loop&&(c.slidesPerView!==i.slidesPerView||y);y&&t&&r.changeDirection(),xn(r.params,c);let _=r.params.enabled;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),f&&!_?r.disable():!f&&_&&r.enable(),r.currentBreakpoint=a,r.emit("_beforeBreakpoint",c),w&&t&&(r.loopDestroy(),r.loopCreate(),r.updateSlides(),r.slideTo(e-n+r.loopedSlides,0,!1)),r.emit("breakpoint",c)}function cm(r,e,t){if(e===void 0&&(e="window"),!r||e==="container"&&!t)return;let n=!1,i=ct(),s=e==="window"?i.innerHeight:t.clientHeight,o=Object.keys(r).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){let l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){let{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(n=l):c<=t.clientWidth&&(n=l)}return n||"max"}var gw={setBreakpoint:lm,getBreakpoint:cm};function kD(r,e){let t=[];return r.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(i=>{n[i]&&t.push(e+i)}):typeof n=="string"&&t.push(e+n)}),t}function um(){let r=this,{classNames:e,params:t,rtl:n,$el:i,device:s,support:o}=r,a=kD(["initialized",t.direction,{"pointer-events":!o.touch},{"free-mode":r.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:n},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),i.addClass([...e].join(" ")),r.emitContainerClasses()}function fm(){let r=this,{$el:e,classNames:t}=r;e.removeClass(t.join(" ")),r.emitContainerClasses()}var vw={addClasses:um,removeClasses:fm};function hm(r,e,t,n,i,s){let o=ct(),a;function l(){s&&s()}!Ce(r).parent("picture")[0]&&(!r.complete||!i)&&e?(a=new o.Image,a.onload=l,a.onerror=l,n&&(a.sizes=n),t&&(a.srcset=t),e&&(a.src=e)):l()}function dm(){let r=this;r.imagesToLoad=r.$el.find("img");function e(){typeof r>"u"||r===null||!r||r.destroyed||(r.imagesLoaded!==void 0&&(r.imagesLoaded+=1),r.imagesLoaded===r.imagesToLoad.length&&(r.params.updateOnImagesReady&&r.update(),r.emit("imagesReady")))}for(let t=0;t<r.imagesToLoad.length;t+=1){let n=r.imagesToLoad[t];r.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,e)}}var _w={loadImage:hm,preloadImages:dm};function DD(){let r=this,{isLocked:e,params:t}=r,{slidesOffsetBefore:n}=t;if(n){let i=r.slides.length-1,s=r.slidesGrid[i]+r.slidesSizesGrid[i]+n*2;r.isLocked=r.size>s}else r.isLocked=r.snapGrid.length===1;t.allowSlideNext===!0&&(r.allowSlideNext=!r.isLocked),t.allowSlidePrev===!0&&(r.allowSlidePrev=!r.isLocked),e&&e!==r.isLocked&&(r.isEnd=!1),e!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}var yw={checkOverflow:DD};var pm={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function mm(r,e){return function(n){n===void 0&&(n={});let i=Object.keys(n)[0],s=n[i];if(typeof s!="object"||s===null){xn(e,n);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&r[i]===!0&&(r[i]={auto:!0}),!(i in r&&"enabled"in s)){xn(e,n);return}r[i]===!0&&(r[i]={enabled:!0}),typeof r[i]=="object"&&!("enabled"in r[i])&&(r[i].enabled=!0),r[i]||(r[i]={enabled:!1}),xn(e,n)}}var gm={eventsEmitter:sw,update:ow,translate:aw,transition:lw,slide:cw,loop:uw,grabCursor:fw,events:pw,breakpoints:gw,checkOverflow:yw,classes:vw,images:_w},vm={},Yn=class{constructor(){let e,t;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];if(i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=xn({},t),e&&!t.el&&(t.el=e),t.el&&Ce(t.el).length>1){let c=[];return Ce(t.el).each(u=>{let h=xn({},t,{el:u});c.push(new Yn(h))}),c}let o=this;o.__swiper__=!0,o.support=_u(),o.device=iw({userAgent:t.userAgent}),o.browser=rw(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);let a={};o.modules.forEach(c=>{c({swiper:o,extendParams:mm(t,a),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});let l=xn({},pm,a);return o.params=xn({},l,vm,t),o.originalParams=xn({},o.params),o.passedParams=xn({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach(c=>{o.on(c,o.params.on[c])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),o.$=Ce,Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:Ce(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEvents:function(){let u=["touchstart","touchmove","touchend","touchcancel"],h=["pointerdown","pointermove","pointerup"];return o.touchEventsTouch={start:u[0],move:u[1],end:u[2],cancel:u[3]},o.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},o.support.touch||!o.params.simulateTouch?o.touchEventsTouch:o.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:en(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){let n=this;e=Math.min(Math.max(e,0),1);let i=n.minTranslate(),o=(n.maxTranslate()-i)*e+i;n.translateTo(o,typeof t>"u"?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.each(n=>{let i=e.getSlideClasses(n);t.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);let n=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=n,u=1;if(i.centeredSlides){let h=s[c].swiperSlideSize,f;for(let y=c+1;y<s.length;y+=1)s[y]&&!f&&(h+=s[y].swiperSlideSize,u+=1,h>l&&(f=!0));for(let y=c-1;y>=0;y-=1)s[y]&&!f&&(h+=s[y].swiperSlideSize,u+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<s.length;h+=1)(t?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(u+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(u+=1);return u}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:t,params:n}=e;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){let o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?s=e.slideTo(e.slides.length-1,0,!1,!0):s=e.slideTo(e.activeIndex,0,!1,!0),s||i()),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);let n=this,i=n.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(n.$el.removeClass(`${n.params.containerModifierClass}${i}`).addClass(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.each(s=>{e==="vertical"?s.style.width="":s.style.height=""}),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){let t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){let t=this;if(t.mounted)return!0;let n=Ce(e||t.params.el);if(e=n[0],!e)return!1;e.swiper=t;let i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){let a=Ce(e.shadowRoot.querySelector(i()));return a.children=l=>n.children(l),a}return n.children?n.children(i()):Ce(n).children(i())})();if(o.length===0&&t.params.createElements){let l=Tt().createElement("div");o=Ce(l),l.className=t.params.wrapperClass,n.append(l),n.children(`.${t.params.slideClass}`).each(c=>{o.append(c)})}return Object.assign(t,{$el:n,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||n.css("direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||n.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){let t=this;return t.initialized||t.mount(e)===!1||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);let n=this,{params:i,$el:s,$wrapperEl:o,slides:a}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),t&&(n.removeClasses(),s.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),e!==!1&&(n.$el[0].swiper=null,nw(n)),n.destroyed=!0),null}static extendDefaults(e){xn(vm,e)}static get extendedDefaults(){return vm}static get defaults(){return pm}static installModule(e){Yn.prototype.__modules__||(Yn.prototype.__modules__=[]);let t=Yn.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Yn.installModule(t)),Yn):(Yn.installModule(e),Yn)}};Object.keys(gm).forEach(r=>{Object.keys(gm[r]).forEach(e=>{Yn.prototype[e]=gm[r][e]})});Yn.use([Ep,Cp]);var br=Yn;function _m(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let s;e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};function o(f,y){let w=e.params.virtual;if(w.cache&&e.virtual.cache[y])return e.virtual.cache[y];let _=w.renderSlide?Ce(w.renderSlide.call(e,f,y)):Ce(`<div class="${e.params.slideClass}" data-swiper-slide-index="${y}">${f}</div>`);return _.attr("data-swiper-slide-index")||_.attr("data-swiper-slide-index",y),w.cache&&(e.virtual.cache[y]=_),_}function a(f){let{slidesPerView:y,slidesPerGroup:w,centeredSlides:_}=e.params,{addSlidesBefore:v,addSlidesAfter:S}=e.params.virtual,{from:C,to:T,slides:E,slidesGrid:k,offset:O}=e.virtual;e.params.cssMode||e.updateActiveIndex();let R=e.activeIndex||0,P;e.rtlTranslate?P="right":P=e.isHorizontal()?"left":"top";let D,z;_?(D=Math.floor(y/2)+w+S,z=Math.floor(y/2)+w+v):(D=y+(w-1)+S,z=w+v);let I=Math.max((R||0)-z,0),F=Math.min((R||0)+D,E.length-1),j=(e.slidesGrid[I]||0)-(e.slidesGrid[0]||0);Object.assign(e.virtual,{from:I,to:F,offset:j,slidesGrid:e.slidesGrid});function U(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),i("virtualUpdate")}if(C===I&&T===F&&!f){e.slidesGrid!==k&&j!==O&&e.slides.css(P,`${j}px`),e.updateProgress(),i("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:j,from:I,to:F,slides:function(){let $=[];for(let q=I;q<=F;q+=1)$.push(E[q]);return $}()}),e.params.virtual.renderExternalUpdate?U():i("virtualUpdate");return}let W=[],G=[];if(f)e.$wrapperEl.find(`.${e.params.slideClass}`).remove();else for(let N=C;N<=T;N+=1)(N<I||N>F)&&e.$wrapperEl.find(`.${e.params.slideClass}[data-swiper-slide-index="${N}"]`).remove();for(let N=0;N<E.length;N+=1)N>=I&&N<=F&&(typeof T>"u"||f?G.push(N):(N>T&&G.push(N),N<C&&W.push(N)));G.forEach(N=>{e.$wrapperEl.append(o(E[N],N))}),W.sort((N,$)=>$-N).forEach(N=>{e.$wrapperEl.prepend(o(E[N],N))}),e.$wrapperEl.children(".swiper-slide").css(P,`${j}px`),U()}function l(f){if(typeof f=="object"&&"length"in f)for(let y=0;y<f.length;y+=1)f[y]&&e.virtual.slides.push(f[y]);else e.virtual.slides.push(f);a(!0)}function c(f){let y=e.activeIndex,w=y+1,_=1;if(Array.isArray(f)){for(let v=0;v<f.length;v+=1)f[v]&&e.virtual.slides.unshift(f[v]);w=y+f.length,_=f.length}else e.virtual.slides.unshift(f);if(e.params.virtual.cache){let v=e.virtual.cache,S={};Object.keys(v).forEach(C=>{let T=v[C],E=T.attr("data-swiper-slide-index");E&&T.attr("data-swiper-slide-index",parseInt(E,10)+_),S[parseInt(C,10)+_]=T}),e.virtual.cache=S}a(!0),e.slideTo(w,0)}function u(f){if(typeof f>"u"||f===null)return;let y=e.activeIndex;if(Array.isArray(f))for(let w=f.length-1;w>=0;w-=1)e.virtual.slides.splice(f[w],1),e.params.virtual.cache&&delete e.virtual.cache[f[w]],f[w]<y&&(y-=1),y=Math.max(y,0);else e.virtual.slides.splice(f,1),e.params.virtual.cache&&delete e.virtual.cache[f],f<y&&(y-=1),y=Math.max(y,0);a(!0),e.slideTo(y,0)}function h(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),a(!0),e.slideTo(0,0)}n("beforeInit",()=>{!e.params.virtual.enabled||(e.virtual.slides=e.params.virtual.slides,e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,e.params.initialSlide||a())}),n("setTranslate",()=>{!e.params.virtual.enabled||(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{a()},100)):a())}),n("init update resize",()=>{!e.params.virtual.enabled||e.params.cssMode&&Bs(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:l,prependSlide:c,removeSlide:u,removeAllSlides:h,update:a})}function ym(r){let{swiper:e,extendParams:t,on:n,emit:i}=r,s=Tt(),o=ct();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(u){if(!e.enabled)return;let{rtlTranslate:h}=e,f=u;f.originalEvent&&(f=f.originalEvent);let y=f.keyCode||f.charCode,w=e.params.keyboard.pageUpDown,_=w&&y===33,v=w&&y===34,S=y===37,C=y===39,T=y===38,E=y===40;if(!e.allowSlideNext&&(e.isHorizontal()&&C||e.isVertical()&&E||v)||!e.allowSlidePrev&&(e.isHorizontal()&&S||e.isVertical()&&T||_))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey)&&!(s.activeElement&&s.activeElement.nodeName&&(s.activeElement.nodeName.toLowerCase()==="input"||s.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(_||v||S||C||T||E)){let k=!1;if(e.$el.parents(`.${e.params.slideClass}`).length>0&&e.$el.parents(`.${e.params.slideActiveClass}`).length===0)return;let O=e.$el,R=O[0].clientWidth,P=O[0].clientHeight,D=o.innerWidth,z=o.innerHeight,I=e.$el.offset();h&&(I.left-=e.$el[0].scrollLeft);let F=[[I.left,I.top],[I.left+R,I.top],[I.left,I.top+P],[I.left+R,I.top+P]];for(let j=0;j<F.length;j+=1){let U=F[j];if(U[0]>=0&&U[0]<=D&&U[1]>=0&&U[1]<=z){if(U[0]===0&&U[1]===0)continue;k=!0}}if(!k)return}e.isHorizontal()?((_||v||S||C)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),((v||C)&&!h||(_||S)&&h)&&e.slideNext(),((_||S)&&!h||(v||C)&&h)&&e.slidePrev()):((_||v||T||E)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),(v||E)&&e.slideNext(),(_||T)&&e.slidePrev()),i("keyPress",y)}}function l(){e.keyboard.enabled||(Ce(s).on("keydown",a),e.keyboard.enabled=!0)}function c(){!e.keyboard.enabled||(Ce(s).off("keydown",a),e.keyboard.enabled=!1)}n("init",()=>{e.params.keyboard.enabled&&l()}),n("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})}function bm(r){let{swiper:e,extendParams:t,on:n,emit:i}=r,s=ct();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),e.mousewheel={enabled:!1};let o,a=en(),l,c=[];function u(T){let R=0,P=0,D=0,z=0;return"detail"in T&&(P=T.detail),"wheelDelta"in T&&(P=-T.wheelDelta/120),"wheelDeltaY"in T&&(P=-T.wheelDeltaY/120),"wheelDeltaX"in T&&(R=-T.wheelDeltaX/120),"axis"in T&&T.axis===T.HORIZONTAL_AXIS&&(R=P,P=0),D=R*10,z=P*10,"deltaY"in T&&(z=T.deltaY),"deltaX"in T&&(D=T.deltaX),T.shiftKey&&!D&&(D=z,z=0),(D||z)&&T.deltaMode&&(T.deltaMode===1?(D*=40,z*=40):(D*=800,z*=800)),D&&!R&&(R=D<1?-1:1),z&&!P&&(P=z<1?-1:1),{spinX:R,spinY:P,pixelX:D,pixelY:z}}function h(){!e.enabled||(e.mouseEntered=!0)}function f(){!e.enabled||(e.mouseEntered=!1)}function y(T){return e.params.mousewheel.thresholdDelta&&T.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&en()-a<e.params.mousewheel.thresholdTime?!1:T.delta>=6&&en()-a<60?!0:(T.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),i("scroll",T.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),i("scroll",T.raw)),a=new s.Date().getTime(),!1)}function w(T){let E=e.params.mousewheel;if(T.direction<0){if(e.isEnd&&!e.params.loop&&E.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&E.releaseOnEdges)return!0;return!1}function _(T){let E=T,k=!0;if(!e.enabled)return;let O=e.params.mousewheel;e.params.cssMode&&E.preventDefault();let R=e.$el;if(e.params.mousewheel.eventsTarget!=="container"&&(R=Ce(e.params.mousewheel.eventsTarget)),!e.mouseEntered&&!R[0].contains(E.target)&&!O.releaseOnEdges)return!0;E.originalEvent&&(E=E.originalEvent);let P=0,D=e.rtlTranslate?-1:1,z=u(E);if(O.forceToAxis)if(e.isHorizontal())if(Math.abs(z.pixelX)>Math.abs(z.pixelY))P=-z.pixelX*D;else return!0;else if(Math.abs(z.pixelY)>Math.abs(z.pixelX))P=-z.pixelY;else return!0;else P=Math.abs(z.pixelX)>Math.abs(z.pixelY)?-z.pixelX*D:-z.pixelY;if(P===0)return!0;O.invert&&(P=-P);let I=e.getTranslate()+P*O.sensitivity;if(I>=e.minTranslate()&&(I=e.minTranslate()),I<=e.maxTranslate()&&(I=e.maxTranslate()),k=e.params.loop?!0:!(I===e.minTranslate()||I===e.maxTranslate()),k&&e.params.nested&&E.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){let F={time:en(),delta:Math.abs(P),direction:Math.sign(P),raw:T};c.length>=2&&c.shift();let j=c.length?c[c.length-1]:void 0;if(c.push(F),j?(F.direction!==j.direction||F.delta>j.delta||F.time>j.time+150)&&y(F):y(F),w(F))return!0}else{let F={time:en(),delta:Math.abs(P),direction:Math.sign(P)},j=l&&F.time<l.time+500&&F.delta<=l.delta&&F.direction===l.direction;if(!j){l=void 0,e.params.loop&&e.loopFix();let U=e.getTranslate()+P*O.sensitivity,W=e.isBeginning,G=e.isEnd;if(U>=e.minTranslate()&&(U=e.minTranslate()),U<=e.maxTranslate()&&(U=e.maxTranslate()),e.setTransition(0),e.setTranslate(U),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!W&&e.isBeginning||!G&&e.isEnd)&&e.updateSlidesClasses(),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();let N=c.length?c[c.length-1]:void 0,$=c[0];if(c.push(F),N&&(F.delta>N.delta||F.direction!==N.direction))c.splice(0);else if(c.length>=15&&F.time-$.time<500&&$.delta-F.delta>=1&&F.delta<=6){let q=P>0?.8:.2;l=F,c.splice(0),o=qn(()=>{e.slideToClosest(e.params.speed,!0,void 0,q)},0)}o||(o=qn(()=>{l=F,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(j||i("scroll",E),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),U===e.minTranslate()||U===e.maxTranslate())return!0}}return E.preventDefault?E.preventDefault():E.returnValue=!1,!1}function v(T){let E=e.$el;e.params.mousewheel.eventsTarget!=="container"&&(E=Ce(e.params.mousewheel.eventsTarget)),E[T]("mouseenter",h),E[T]("mouseleave",f),E[T]("wheel",_)}function S(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",_),!0):e.mousewheel.enabled?!1:(v("on"),e.mousewheel.enabled=!0,!0)}function C(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,_),!0):e.mousewheel.enabled?(v("off"),e.mousewheel.enabled=!1,!0):!1}n("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&C(),e.params.mousewheel.enabled&&S()}),n("destroy",()=>{e.params.cssMode&&S(),e.mousewheel.enabled&&C()}),Object.assign(e.mousewheel,{enable:S,disable:C})}function Us(r,e,t,n){let i=Tt();return r.params.createElements&&Object.keys(n).forEach(s=>{if(!t[s]&&t.auto===!0){let o=r.$el.children(`.${n[s]}`)[0];o||(o=i.createElement("div"),o.className=n[s],r.$el.append(o)),t[s]=o,e[s]=o}}),t}function xm(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(w){let _;return w&&(_=Ce(w),e.params.uniqueNavElements&&typeof w=="string"&&_.length>1&&e.$el.find(w).length===1&&(_=e.$el.find(w))),_}function o(w,_){let v=e.params.navigation;w&&w.length>0&&(w[_?"addClass":"removeClass"](v.disabledClass),w[0]&&w[0].tagName==="BUTTON"&&(w[0].disabled=_),e.params.watchOverflow&&e.enabled&&w[e.isLocked?"addClass":"removeClass"](v.lockClass))}function a(){if(e.params.loop)return;let{$nextEl:w,$prevEl:_}=e.navigation;o(_,e.isBeginning&&!e.params.rewind),o(w,e.isEnd&&!e.params.rewind)}function l(w){w.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(w){w.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){let w=e.params.navigation;if(e.params.navigation=Us(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(w.nextEl||w.prevEl))return;let _=s(w.nextEl),v=s(w.prevEl);_&&_.length>0&&_.on("click",c),v&&v.length>0&&v.on("click",l),Object.assign(e.navigation,{$nextEl:_,nextEl:_&&_[0],$prevEl:v,prevEl:v&&v[0]}),e.enabled||(_&&_.addClass(w.lockClass),v&&v.addClass(w.lockClass))}function h(){let{$nextEl:w,$prevEl:_}=e.navigation;w&&w.length&&(w.off("click",c),w.removeClass(e.params.navigation.disabledClass)),_&&_.length&&(_.off("click",l),_.removeClass(e.params.navigation.disabledClass))}n("init",()=>{e.params.navigation.enabled===!1?y():(u(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{h()}),n("enable disable",()=>{let{$nextEl:w,$prevEl:_}=e.navigation;w&&w[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),_&&_[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),n("click",(w,_)=>{let{$nextEl:v,$prevEl:S}=e.navigation,C=_.target;if(e.params.navigation.hideOnClick&&!Ce(C).is(S)&&!Ce(C).is(v)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===C||e.pagination.el.contains(C)))return;let T;v?T=v.hasClass(e.params.navigation.hiddenClass):S&&(T=S.hasClass(e.params.navigation.hiddenClass)),i(T===!0?"navigationShow":"navigationHide"),v&&v.toggleClass(e.params.navigation.hiddenClass),S&&S.toggleClass(e.params.navigation.hiddenClass)}});let f=()=>{e.$el.removeClass(e.params.navigation.navigationDisabledClass),u(),a()},y=()=>{e.$el.addClass(e.params.navigation.navigationDisabledClass),h()};Object.assign(e.navigation,{enable:f,disable:y,update:a,init:u,destroy:h})}function Mi(r){return r===void 0&&(r=""),`.${r.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function wm(r){let{swiper:e,extendParams:t,on:n,emit:i}=r,s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,$el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||e.pagination.$el.length===0}function c(v,S){let{bulletActiveClass:C}=e.params.pagination;v[S]().addClass(`${C}-${S}`)[S]().addClass(`${C}-${S}-${S}`)}function u(){let v=e.rtl,S=e.params.pagination;if(l())return;let C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,T=e.pagination.$el,E,k=e.params.loop?Math.ceil((C-e.loopedSlides*2)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(E=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),E>C-1-e.loopedSlides*2&&(E-=C-e.loopedSlides*2),E>k-1&&(E-=k),E<0&&e.params.paginationType!=="bullets"&&(E=k+E)):typeof e.snapIndex<"u"?E=e.snapIndex:E=e.activeIndex||0,S.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let O=e.pagination.bullets,R,P,D;if(S.dynamicBullets&&(o=O.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),T.css(e.isHorizontal()?"width":"height",`${o*(S.dynamicMainBullets+4)}px`),S.dynamicMainBullets>1&&e.previousIndex!==void 0&&(a+=E-(e.previousIndex-e.loopedSlides||0),a>S.dynamicMainBullets-1?a=S.dynamicMainBullets-1:a<0&&(a=0)),R=Math.max(E-a,0),P=R+(Math.min(O.length,S.dynamicMainBullets)-1),D=(P+R)/2),O.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(z=>`${S.bulletActiveClass}${z}`).join(" ")),T.length>1)O.each(z=>{let I=Ce(z),F=I.index();F===E&&I.addClass(S.bulletActiveClass),S.dynamicBullets&&(F>=R&&F<=P&&I.addClass(`${S.bulletActiveClass}-main`),F===R&&c(I,"prev"),F===P&&c(I,"next"))});else{let z=O.eq(E),I=z.index();if(z.addClass(S.bulletActiveClass),S.dynamicBullets){let F=O.eq(R),j=O.eq(P);for(let U=R;U<=P;U+=1)O.eq(U).addClass(`${S.bulletActiveClass}-main`);if(e.params.loop)if(I>=O.length){for(let U=S.dynamicMainBullets;U>=0;U-=1)O.eq(O.length-U).addClass(`${S.bulletActiveClass}-main`);O.eq(O.length-S.dynamicMainBullets-1).addClass(`${S.bulletActiveClass}-prev`)}else c(F,"prev"),c(j,"next");else c(F,"prev"),c(j,"next")}}if(S.dynamicBullets){let z=Math.min(O.length,S.dynamicMainBullets+4),I=(o*z-o)/2-D*o,F=v?"right":"left";O.css(e.isHorizontal()?F:"top",`${I}px`)}}if(S.type==="fraction"&&(T.find(Mi(S.currentClass)).text(S.formatFractionCurrent(E+1)),T.find(Mi(S.totalClass)).text(S.formatFractionTotal(k))),S.type==="progressbar"){let O;S.progressbarOpposite?O=e.isHorizontal()?"vertical":"horizontal":O=e.isHorizontal()?"horizontal":"vertical";let R=(E+1)/k,P=1,D=1;O==="horizontal"?P=R:D=R,T.find(Mi(S.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${P}) scaleY(${D})`).transition(e.params.speed)}S.type==="custom"&&S.renderCustom?(T.html(S.renderCustom(e,E+1,k)),i("paginationRender",T[0])):i("paginationUpdate",T[0]),e.params.watchOverflow&&e.enabled&&T[e.isLocked?"addClass":"removeClass"](S.lockClass)}function h(){let v=e.params.pagination;if(l())return;let S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.pagination.$el,T="";if(v.type==="bullets"){let E=e.params.loop?Math.ceil((S-e.loopedSlides*2)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&E>S&&(E=S);for(let k=0;k<E;k+=1)v.renderBullet?T+=v.renderBullet.call(e,k,v.bulletClass):T+=`<${v.bulletElement} class="${v.bulletClass}"></${v.bulletElement}>`;C.html(T),e.pagination.bullets=C.find(Mi(v.bulletClass))}v.type==="fraction"&&(v.renderFraction?T=v.renderFraction.call(e,v.currentClass,v.totalClass):T=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`,C.html(T)),v.type==="progressbar"&&(v.renderProgressbar?T=v.renderProgressbar.call(e,v.progressbarFillClass):T=`<span class="${v.progressbarFillClass}"></span>`,C.html(T)),v.type!=="custom"&&i("paginationRender",e.pagination.$el[0])}function f(){e.params.pagination=Us(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let v=e.params.pagination;if(!v.el)return;let S=Ce(v.el);S.length!==0&&(e.params.uniqueNavElements&&typeof v.el=="string"&&S.length>1&&(S=e.$el.find(v.el),S.length>1&&(S=S.filter(C=>Ce(C).parents(".swiper")[0]===e.el))),v.type==="bullets"&&v.clickable&&S.addClass(v.clickableClass),S.addClass(v.modifierClass+v.type),S.addClass(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(S.addClass(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&S.addClass(v.progressbarOppositeClass),v.clickable&&S.on("click",Mi(v.bulletClass),function(T){T.preventDefault();let E=Ce(this).index()*e.params.slidesPerGroup;e.params.loop&&(E+=e.loopedSlides),e.slideTo(E)}),Object.assign(e.pagination,{$el:S,el:S[0]}),e.enabled||S.addClass(v.lockClass))}function y(){let v=e.params.pagination;if(l())return;let S=e.pagination.$el;S.removeClass(v.hiddenClass),S.removeClass(v.modifierClass+v.type),S.removeClass(e.isHorizontal()?v.horizontalClass:v.verticalClass),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(v.bulletActiveClass),v.clickable&&S.off("click",Mi(v.bulletClass))}n("init",()=>{e.params.pagination.enabled===!1?_():(f(),h(),u())}),n("activeIndexChange",()=>{(e.params.loop||typeof e.snapIndex>"u")&&u()}),n("snapIndexChange",()=>{e.params.loop||u()}),n("slidesLengthChange",()=>{e.params.loop&&(h(),u())}),n("snapGridLengthChange",()=>{e.params.loop||(h(),u())}),n("destroy",()=>{y()}),n("enable disable",()=>{let{$el:v}=e.pagination;v&&v[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)}),n("lock unlock",()=>{u()}),n("click",(v,S)=>{let C=S.target,{$el:T}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!Ce(C).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&C===e.navigation.nextEl||e.navigation.prevEl&&C===e.navigation.prevEl))return;let E=T.hasClass(e.params.pagination.hiddenClass);i(E===!0?"paginationShow":"paginationHide"),T.toggleClass(e.params.pagination.hiddenClass)}});let w=()=>{e.$el.removeClass(e.params.pagination.paginationDisabledClass),e.pagination.$el&&e.pagination.$el.removeClass(e.params.pagination.paginationDisabledClass),f(),h(),u()},_=()=>{e.$el.addClass(e.params.pagination.paginationDisabledClass),e.pagination.$el&&e.pagination.$el.addClass(e.params.pagination.paginationDisabledClass),y()};Object.assign(e.pagination,{enable:w,disable:_,render:h,update:u,init:f,destroy:y})}function Sm(r){let{swiper:e,extendParams:t,on:n,emit:i}=r,s=Tt(),o=!1,a=null,l=null,c,u,h,f;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:F,rtlTranslate:j,progress:U}=e,{$dragEl:W,$el:G}=F,N=e.params.scrollbar,$=u,q=(h-u)*U;j?(q=-q,q>0?($=u-q,q=0):-q+u>h&&($=h+q)):q<0?($=u+q,q=0):q+u>h&&($=h-q),e.isHorizontal()?(W.transform(`translate3d(${q}px, 0, 0)`),W[0].style.width=`${$}px`):(W.transform(`translate3d(0px, ${q}px, 0)`),W[0].style.height=`${$}px`),N.hide&&(clearTimeout(a),G[0].style.opacity=1,a=setTimeout(()=>{G[0].style.opacity=0,G.transition(400)},1e3))}function w(F){!e.params.scrollbar.el||!e.scrollbar.el||e.scrollbar.$dragEl.transition(F)}function _(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:F}=e,{$dragEl:j,$el:U}=F;j[0].style.width="",j[0].style.height="",h=e.isHorizontal()?U[0].offsetWidth:U[0].offsetHeight,f=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?u=h*f:u=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?j[0].style.width=`${u}px`:j[0].style.height=`${u}px`,f>=1?U[0].style.display="none":U[0].style.display="",e.params.scrollbar.hide&&(U[0].style.opacity=0),e.params.watchOverflow&&e.enabled&&F.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}function v(F){return e.isHorizontal()?F.type==="touchstart"||F.type==="touchmove"?F.targetTouches[0].clientX:F.clientX:F.type==="touchstart"||F.type==="touchmove"?F.targetTouches[0].clientY:F.clientY}function S(F){let{scrollbar:j,rtlTranslate:U}=e,{$el:W}=j,G;G=(v(F)-W.offset()[e.isHorizontal()?"left":"top"]-(c!==null?c:u/2))/(h-u),G=Math.max(Math.min(G,1),0),U&&(G=1-G);let N=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*G;e.updateProgress(N),e.setTranslate(N),e.updateActiveIndex(),e.updateSlidesClasses()}function C(F){let j=e.params.scrollbar,{scrollbar:U,$wrapperEl:W}=e,{$el:G,$dragEl:N}=U;o=!0,c=F.target===N[0]||F.target===N?v(F)-F.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,F.preventDefault(),F.stopPropagation(),W.transition(100),N.transition(100),S(F),clearTimeout(l),G.transition(0),j.hide&&G.css("opacity",1),e.params.cssMode&&e.$wrapperEl.css("scroll-snap-type","none"),i("scrollbarDragStart",F)}function T(F){let{scrollbar:j,$wrapperEl:U}=e,{$el:W,$dragEl:G}=j;!o||(F.preventDefault?F.preventDefault():F.returnValue=!1,S(F),U.transition(0),W.transition(0),G.transition(0),i("scrollbarDragMove",F))}function E(F){let j=e.params.scrollbar,{scrollbar:U,$wrapperEl:W}=e,{$el:G}=U;!o||(o=!1,e.params.cssMode&&(e.$wrapperEl.css("scroll-snap-type",""),W.transition("")),j.hide&&(clearTimeout(l),l=qn(()=>{G.css("opacity",0),G.transition(400)},1e3)),i("scrollbarDragEnd",F),j.snapOnRelease&&e.slideToClosest())}function k(F){let{scrollbar:j,touchEventsTouch:U,touchEventsDesktop:W,params:G,support:N}=e,$=j.$el;if(!$)return;let q=$[0],J=N.passiveListener&&G.passiveListeners?{passive:!1,capture:!1}:!1,re=N.passiveListener&&G.passiveListeners?{passive:!0,capture:!1}:!1;if(!q)return;let te=F==="on"?"addEventListener":"removeEventListener";N.touch?(q[te](U.start,C,J),q[te](U.move,T,J),q[te](U.end,E,re)):(q[te](W.start,C,J),s[te](W.move,T,J),s[te](W.end,E,re))}function O(){!e.params.scrollbar.el||!e.scrollbar.el||k("on")}function R(){!e.params.scrollbar.el||!e.scrollbar.el||k("off")}function P(){let{scrollbar:F,$el:j}=e;e.params.scrollbar=Us(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});let U=e.params.scrollbar;if(!U.el)return;let W=Ce(U.el);e.params.uniqueNavElements&&typeof U.el=="string"&&W.length>1&&j.find(U.el).length===1&&(W=j.find(U.el)),W.addClass(e.isHorizontal()?U.horizontalClass:U.verticalClass);let G=W.find(`.${e.params.scrollbar.dragClass}`);G.length===0&&(G=Ce(`<div class="${e.params.scrollbar.dragClass}"></div>`),W.append(G)),Object.assign(F,{$el:W,el:W[0],$dragEl:G,dragEl:G[0]}),U.draggable&&O(),W&&W[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}function D(){let F=e.params.scrollbar,j=e.scrollbar.$el;j&&j.removeClass(e.isHorizontal()?F.horizontalClass:F.verticalClass),R()}n("init",()=>{e.params.scrollbar.enabled===!1?I():(P(),_(),y())}),n("update resize observerUpdate lock unlock",()=>{_()}),n("setTranslate",()=>{y()}),n("setTransition",(F,j)=>{w(j)}),n("enable disable",()=>{let{$el:F}=e.scrollbar;F&&F[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}),n("destroy",()=>{D()});let z=()=>{e.$el.removeClass(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.$el&&e.scrollbar.$el.removeClass(e.params.scrollbar.scrollbarDisabledClass),P(),_(),y()},I=()=>{e.$el.addClass(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.$el&&e.scrollbar.$el.addClass(e.params.scrollbar.scrollbarDisabledClass),D()};Object.assign(e.scrollbar,{enable:z,disable:I,updateSize:_,setTranslate:y,init:P,destroy:D})}function Mm(r){let{swiper:e,extendParams:t,on:n}=r;t({parallax:{enabled:!1}});let i=(a,l)=>{let{rtl:c}=e,u=Ce(a),h=c?-1:1,f=u.attr("data-swiper-parallax")||"0",y=u.attr("data-swiper-parallax-x"),w=u.attr("data-swiper-parallax-y"),_=u.attr("data-swiper-parallax-scale"),v=u.attr("data-swiper-parallax-opacity");if(y||w?(y=y||"0",w=w||"0"):e.isHorizontal()?(y=f,w="0"):(w=f,y="0"),y.indexOf("%")>=0?y=`${parseInt(y,10)*l*h}%`:y=`${y*l*h}px`,w.indexOf("%")>=0?w=`${parseInt(w,10)*l}%`:w=`${w*l}px`,typeof v<"u"&&v!==null){let S=v-(v-1)*(1-Math.abs(l));u[0].style.opacity=S}if(typeof _>"u"||_===null)u.transform(`translate3d(${y}, ${w}, 0px)`);else{let S=_-(_-1)*(1-Math.abs(l));u.transform(`translate3d(${y}, ${w}, 0px) scale(${S})`)}},s=()=>{let{$el:a,slides:l,progress:c,snapGrid:u}=e;a.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(h=>{i(h,c)}),l.each((h,f)=>{let y=h.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(y+=Math.ceil(f/2)-c*(u.length-1)),y=Math.min(Math.max(y,-1),1),Ce(h).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(w=>{i(w,y)})})},o=function(a){a===void 0&&(a=e.params.speed);let{$el:l}=e;l.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(c=>{let u=Ce(c),h=parseInt(u.attr("data-swiper-parallax-duration"),10)||a;a===0&&(h=0),u.transition(h)})};n("beforeInit",()=>{!e.params.parallax.enabled||(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),n("init",()=>{!e.params.parallax.enabled||s()}),n("setTranslate",()=>{!e.params.parallax.enabled||s()}),n("setTransition",(a,l)=>{!e.params.parallax.enabled||o(l)})}function Tm(r){let{swiper:e,extendParams:t,on:n,emit:i}=r,s=ct();t({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o=1,a=!1,l,c,u,h={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},y={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},w=1;Object.defineProperty(e.zoom,"scale",{get(){return w},set(N){if(w!==N){let $=h.$imageEl?h.$imageEl[0]:void 0,q=h.$slideEl?h.$slideEl[0]:void 0;i("zoomChange",N,$,q)}w=N}});function _(N){if(N.targetTouches.length<2)return 1;let $=N.targetTouches[0].pageX,q=N.targetTouches[0].pageY,J=N.targetTouches[1].pageX,re=N.targetTouches[1].pageY;return Math.sqrt((J-$)**2+(re-q)**2)}function v(N){let $=e.support,q=e.params.zoom;if(c=!1,u=!1,!$.gestures){if(N.type!=="touchstart"||N.type==="touchstart"&&N.targetTouches.length<2)return;c=!0,h.scaleStart=_(N)}if((!h.$slideEl||!h.$slideEl.length)&&(h.$slideEl=Ce(N.target).closest(`.${e.params.slideClass}`),h.$slideEl.length===0&&(h.$slideEl=e.slides.eq(e.activeIndex)),h.$imageEl=h.$slideEl.find(`.${q.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),h.$imageWrapEl=h.$imageEl.parent(`.${q.containerClass}`),h.maxRatio=h.$imageWrapEl.attr("data-swiper-zoom")||q.maxRatio,h.$imageWrapEl.length===0)){h.$imageEl=void 0;return}h.$imageEl&&h.$imageEl.transition(0),a=!0}function S(N){let $=e.support,q=e.params.zoom,J=e.zoom;if(!$.gestures){if(N.type!=="touchmove"||N.type==="touchmove"&&N.targetTouches.length<2)return;u=!0,h.scaleMove=_(N)}if(!h.$imageEl||h.$imageEl.length===0){N.type==="gesturechange"&&v(N);return}$.gestures?J.scale=N.scale*o:J.scale=h.scaleMove/h.scaleStart*o,J.scale>h.maxRatio&&(J.scale=h.maxRatio-1+(J.scale-h.maxRatio+1)**.5),J.scale<q.minRatio&&(J.scale=q.minRatio+1-(q.minRatio-J.scale+1)**.5),h.$imageEl.transform(`translate3d(0,0,0) scale(${J.scale})`)}function C(N){let $=e.device,q=e.support,J=e.params.zoom,re=e.zoom;if(!q.gestures){if(!c||!u||N.type!=="touchend"||N.type==="touchend"&&N.changedTouches.length<2&&!$.android)return;c=!1,u=!1}!h.$imageEl||h.$imageEl.length===0||(re.scale=Math.max(Math.min(re.scale,h.maxRatio),J.minRatio),h.$imageEl.transition(e.params.speed).transform(`translate3d(0,0,0) scale(${re.scale})`),o=re.scale,a=!1,re.scale===1&&(h.$slideEl=void 0))}function T(N){let $=e.device;!h.$imageEl||h.$imageEl.length===0||f.isTouched||($.android&&N.cancelable&&N.preventDefault(),f.isTouched=!0,f.touchesStart.x=N.type==="touchstart"?N.targetTouches[0].pageX:N.pageX,f.touchesStart.y=N.type==="touchstart"?N.targetTouches[0].pageY:N.pageY)}function E(N){let $=e.zoom;if(!h.$imageEl||h.$imageEl.length===0||(e.allowClick=!1,!f.isTouched||!h.$slideEl))return;f.isMoved||(f.width=h.$imageEl[0].offsetWidth,f.height=h.$imageEl[0].offsetHeight,f.startX=dl(h.$imageWrapEl[0],"x")||0,f.startY=dl(h.$imageWrapEl[0],"y")||0,h.slideWidth=h.$slideEl[0].offsetWidth,h.slideHeight=h.$slideEl[0].offsetHeight,h.$imageWrapEl.transition(0));let q=f.width*$.scale,J=f.height*$.scale;if(!(q<h.slideWidth&&J<h.slideHeight)){if(f.minX=Math.min(h.slideWidth/2-q/2,0),f.maxX=-f.minX,f.minY=Math.min(h.slideHeight/2-J/2,0),f.maxY=-f.minY,f.touchesCurrent.x=N.type==="touchmove"?N.targetTouches[0].pageX:N.pageX,f.touchesCurrent.y=N.type==="touchmove"?N.targetTouches[0].pageY:N.pageY,!f.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x)){f.isTouched=!1;return}if(!e.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y)){f.isTouched=!1;return}}N.cancelable&&N.preventDefault(),N.stopPropagation(),f.isMoved=!0,f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX,f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY,f.currentX<f.minX&&(f.currentX=f.minX+1-(f.minX-f.currentX+1)**.8),f.currentX>f.maxX&&(f.currentX=f.maxX-1+(f.currentX-f.maxX+1)**.8),f.currentY<f.minY&&(f.currentY=f.minY+1-(f.minY-f.currentY+1)**.8),f.currentY>f.maxY&&(f.currentY=f.maxY-1+(f.currentY-f.maxY+1)**.8),y.prevPositionX||(y.prevPositionX=f.touchesCurrent.x),y.prevPositionY||(y.prevPositionY=f.touchesCurrent.y),y.prevTime||(y.prevTime=Date.now()),y.x=(f.touchesCurrent.x-y.prevPositionX)/(Date.now()-y.prevTime)/2,y.y=(f.touchesCurrent.y-y.prevPositionY)/(Date.now()-y.prevTime)/2,Math.abs(f.touchesCurrent.x-y.prevPositionX)<2&&(y.x=0),Math.abs(f.touchesCurrent.y-y.prevPositionY)<2&&(y.y=0),y.prevPositionX=f.touchesCurrent.x,y.prevPositionY=f.touchesCurrent.y,y.prevTime=Date.now(),h.$imageWrapEl.transform(`translate3d(${f.currentX}px, ${f.currentY}px,0)`)}}function k(){let N=e.zoom;if(!h.$imageEl||h.$imageEl.length===0)return;if(!f.isTouched||!f.isMoved){f.isTouched=!1,f.isMoved=!1;return}f.isTouched=!1,f.isMoved=!1;let $=300,q=300,J=y.x*$,re=f.currentX+J,te=y.y*q,pe=f.currentY+te;y.x!==0&&($=Math.abs((re-f.currentX)/y.x)),y.y!==0&&(q=Math.abs((pe-f.currentY)/y.y));let ye=Math.max($,q);f.currentX=re,f.currentY=pe;let Ae=f.width*N.scale,ae=f.height*N.scale;f.minX=Math.min(h.slideWidth/2-Ae/2,0),f.maxX=-f.minX,f.minY=Math.min(h.slideHeight/2-ae/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),h.$imageWrapEl.transition(ye).transform(`translate3d(${f.currentX}px, ${f.currentY}px,0)`)}function O(){let N=e.zoom;h.$slideEl&&e.previousIndex!==e.activeIndex&&(h.$imageEl&&h.$imageEl.transform("translate3d(0,0,0) scale(1)"),h.$imageWrapEl&&h.$imageWrapEl.transform("translate3d(0,0,0)"),N.scale=1,o=1,h.$slideEl=void 0,h.$imageEl=void 0,h.$imageWrapEl=void 0)}function R(N){let $=e.zoom,q=e.params.zoom;if(h.$slideEl||(N&&N.target&&(h.$slideEl=Ce(N.target).closest(`.${e.params.slideClass}`)),h.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.$slideEl=e.$wrapperEl.children(`.${e.params.slideActiveClass}`):h.$slideEl=e.slides.eq(e.activeIndex)),h.$imageEl=h.$slideEl.find(`.${q.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),h.$imageWrapEl=h.$imageEl.parent(`.${q.containerClass}`)),!h.$imageEl||h.$imageEl.length===0||!h.$imageWrapEl||h.$imageWrapEl.length===0)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),h.$slideEl.addClass(`${q.zoomedSlideClass}`);let J,re,te,pe,ye,Ae,ae,je,oe,Ee,ve,st,Ve,He,ut,Je,bt,Le;typeof f.touchesStart.x>"u"&&N?(J=N.type==="touchend"?N.changedTouches[0].pageX:N.pageX,re=N.type==="touchend"?N.changedTouches[0].pageY:N.pageY):(J=f.touchesStart.x,re=f.touchesStart.y),$.scale=h.$imageWrapEl.attr("data-swiper-zoom")||q.maxRatio,o=h.$imageWrapEl.attr("data-swiper-zoom")||q.maxRatio,N?(bt=h.$slideEl[0].offsetWidth,Le=h.$slideEl[0].offsetHeight,te=h.$slideEl.offset().left+s.scrollX,pe=h.$slideEl.offset().top+s.scrollY,ye=te+bt/2-J,Ae=pe+Le/2-re,oe=h.$imageEl[0].offsetWidth,Ee=h.$imageEl[0].offsetHeight,ve=oe*$.scale,st=Ee*$.scale,Ve=Math.min(bt/2-ve/2,0),He=Math.min(Le/2-st/2,0),ut=-Ve,Je=-He,ae=ye*$.scale,je=Ae*$.scale,ae<Ve&&(ae=Ve),ae>ut&&(ae=ut),je<He&&(je=He),je>Je&&(je=Je)):(ae=0,je=0),h.$imageWrapEl.transition(300).transform(`translate3d(${ae}px, ${je}px,0)`),h.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${$.scale})`)}function P(){let N=e.zoom,$=e.params.zoom;h.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.$slideEl=e.$wrapperEl.children(`.${e.params.slideActiveClass}`):h.$slideEl=e.slides.eq(e.activeIndex),h.$imageEl=h.$slideEl.find(`.${$.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),h.$imageWrapEl=h.$imageEl.parent(`.${$.containerClass}`)),!(!h.$imageEl||h.$imageEl.length===0||!h.$imageWrapEl||h.$imageWrapEl.length===0)&&(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),N.scale=1,o=1,h.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),h.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),h.$slideEl.removeClass(`${$.zoomedSlideClass}`),h.$slideEl=void 0)}function D(N){let $=e.zoom;$.scale&&$.scale!==1?P():R(N)}function z(){let N=e.support,$=e.touchEvents.start==="touchstart"&&N.passiveListener&&e.params.passiveListeners?{passive:!0,capture:!1}:!1,q=N.passiveListener?{passive:!1,capture:!0}:!0;return{passiveListener:$,activeListenerWithCapture:q}}function I(){return`.${e.params.slideClass}`}function F(N){let{passiveListener:$}=z(),q=I();e.$wrapperEl[N]("gesturestart",q,v,$),e.$wrapperEl[N]("gesturechange",q,S,$),e.$wrapperEl[N]("gestureend",q,C,$)}function j(){l||(l=!0,F("on"))}function U(){!l||(l=!1,F("off"))}function W(){let N=e.zoom;if(N.enabled)return;N.enabled=!0;let $=e.support,{passiveListener:q,activeListenerWithCapture:J}=z(),re=I();$.gestures?(e.$wrapperEl.on(e.touchEvents.start,j,q),e.$wrapperEl.on(e.touchEvents.end,U,q)):e.touchEvents.start==="touchstart"&&(e.$wrapperEl.on(e.touchEvents.start,re,v,q),e.$wrapperEl.on(e.touchEvents.move,re,S,J),e.$wrapperEl.on(e.touchEvents.end,re,C,q),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,re,C,q)),e.$wrapperEl.on(e.touchEvents.move,`.${e.params.zoom.containerClass}`,E,J)}function G(){let N=e.zoom;if(!N.enabled)return;let $=e.support;N.enabled=!1;let{passiveListener:q,activeListenerWithCapture:J}=z(),re=I();$.gestures?(e.$wrapperEl.off(e.touchEvents.start,j,q),e.$wrapperEl.off(e.touchEvents.end,U,q)):e.touchEvents.start==="touchstart"&&(e.$wrapperEl.off(e.touchEvents.start,re,v,q),e.$wrapperEl.off(e.touchEvents.move,re,S,J),e.$wrapperEl.off(e.touchEvents.end,re,C,q),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,re,C,q)),e.$wrapperEl.off(e.touchEvents.move,`.${e.params.zoom.containerClass}`,E,J)}n("init",()=>{e.params.zoom.enabled&&W()}),n("destroy",()=>{G()}),n("touchStart",(N,$)=>{!e.zoom.enabled||T($)}),n("touchEnd",(N,$)=>{!e.zoom.enabled||k($)}),n("doubleTap",(N,$)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&D($)}),n("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&O()}),n("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&O()}),Object.assign(e.zoom,{enable:W,disable:G,in:R,out:P,toggle:D})}function Em(r){let{swiper:e,extendParams:t,on:n,emit:i}=r;t({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),e.lazy={};let s=!1,o=!1;function a(u,h){h===void 0&&(h=!0);let f=e.params.lazy;if(typeof u>"u"||e.slides.length===0)return;let w=e.virtual&&e.params.virtual.enabled?e.$wrapperEl.children(`.${e.params.slideClass}[data-swiper-slide-index="${u}"]`):e.slides.eq(u),_=w.find(`.${f.elementClass}:not(.${f.loadedClass}):not(.${f.loadingClass})`);w.hasClass(f.elementClass)&&!w.hasClass(f.loadedClass)&&!w.hasClass(f.loadingClass)&&_.push(w[0]),_.length!==0&&_.each(v=>{let S=Ce(v);S.addClass(f.loadingClass);let C=S.attr("data-background"),T=S.attr("data-src"),E=S.attr("data-srcset"),k=S.attr("data-sizes"),O=S.parent("picture");e.loadImage(S[0],T||C,E,k,!1,()=>{if(!(typeof e>"u"||e===null||!e||e&&!e.params||e.destroyed)){if(C?(S.css("background-image",`url("${C}")`),S.removeAttr("data-background")):(E&&(S.attr("srcset",E),S.removeAttr("data-srcset")),k&&(S.attr("sizes",k),S.removeAttr("data-sizes")),O.length&&O.children("source").each(R=>{let P=Ce(R);P.attr("data-srcset")&&(P.attr("srcset",P.attr("data-srcset")),P.removeAttr("data-srcset"))}),T&&(S.attr("src",T),S.removeAttr("data-src"))),S.addClass(f.loadedClass).removeClass(f.loadingClass),w.find(`.${f.preloaderClass}`).remove(),e.params.loop&&h){let R=w.attr("data-swiper-slide-index");if(w.hasClass(e.params.slideDuplicateClass)){let P=e.$wrapperEl.children(`[data-swiper-slide-index="${R}"]:not(.${e.params.slideDuplicateClass})`);a(P.index(),!1)}else{let P=e.$wrapperEl.children(`.${e.params.slideDuplicateClass}[data-swiper-slide-index="${R}"]`);a(P.index(),!1)}}i("lazyImageReady",w[0],S[0]),e.params.autoHeight&&e.updateAutoHeight()}}),i("lazyImageLoad",w[0],S[0])})}function l(){let{$wrapperEl:u,params:h,slides:f,activeIndex:y}=e,w=e.virtual&&h.virtual.enabled,_=h.lazy,v=h.slidesPerView;v==="auto"&&(v=0);function S(T){if(w){if(u.children(`.${h.slideClass}[data-swiper-slide-index="${T}"]`).length)return!0}else if(f[T])return!0;return!1}function C(T){return w?Ce(T).attr("data-swiper-slide-index"):Ce(T).index()}if(o||(o=!0),e.params.watchSlidesProgress)u.children(`.${h.slideVisibleClass}`).each(T=>{let E=w?Ce(T).attr("data-swiper-slide-index"):Ce(T).index();a(E)});else if(v>1)for(let T=y;T<y+v;T+=1)S(T)&&a(T);else a(y);if(_.loadPrevNext)if(v>1||_.loadPrevNextAmount&&_.loadPrevNextAmount>1){let T=_.loadPrevNextAmount,E=Math.ceil(v),k=Math.min(y+E+Math.max(T,E),f.length),O=Math.max(y-Math.max(E,T),0);for(let R=y+E;R<k;R+=1)S(R)&&a(R);for(let R=O;R<y;R+=1)S(R)&&a(R)}else{let T=u.children(`.${h.slideNextClass}`);T.length>0&&a(C(T));let E=u.children(`.${h.slidePrevClass}`);E.length>0&&a(C(E))}}function c(){let u=ct();if(!e||e.destroyed)return;let h=e.params.lazy.scrollingElement?Ce(e.params.lazy.scrollingElement):Ce(u),f=h[0]===u,y=f?u.innerWidth:h[0].offsetWidth,w=f?u.innerHeight:h[0].offsetHeight,_=e.$el.offset(),{rtlTranslate:v}=e,S=!1;v&&(_.left-=e.$el[0].scrollLeft);let C=[[_.left,_.top],[_.left+e.width,_.top],[_.left,_.top+e.height],[_.left+e.width,_.top+e.height]];for(let E=0;E<C.length;E+=1){let k=C[E];if(k[0]>=0&&k[0]<=y&&k[1]>=0&&k[1]<=w){if(k[0]===0&&k[1]===0)continue;S=!0}}let T=e.touchEvents.start==="touchstart"&&e.support.passiveListener&&e.params.passiveListeners?{passive:!0,capture:!1}:!1;S?(l(),h.off("scroll",c,T)):s||(s=!0,h.on("scroll",c,T))}n("beforeInit",()=>{e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)}),n("init",()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():l())}),n("scroll",()=>{e.params.freeMode&&e.params.freeMode.enabled&&!e.params.freeMode.sticky&&l()}),n("scrollbarDragMove resize _freeModeNoMomentumRelease",()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():l())}),n("transitionStart",()=>{e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!o)&&(e.params.lazy.checkInView?c():l())}),n("transitionEnd",()=>{e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&(e.params.lazy.checkInView?c():l())}),n("slideChange",()=>{let{lazy:u,cssMode:h,watchSlidesProgress:f,touchReleaseOnEdges:y,resistanceRatio:w}=e.params;u.enabled&&(h||f&&(y||w===0))&&l()}),n("destroy",()=>{!e.$el||e.$el.find(`.${e.params.lazy.loadingClass}`).removeClass(e.params.lazy.loadingClass)}),Object.assign(e.lazy,{load:l,loadInSlide:a})}function Cm(r){let{swiper:e,extendParams:t,on:n}=r;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function i(c,u){let h=function(){let _,v,S;return(C,T)=>{for(v=-1,_=C.length;_-v>1;)S=_+v>>1,C[S]<=T?v=S:_=S;return _}}();this.x=c,this.y=u,this.lastIndex=c.length-1;let f,y;return this.interpolate=function(_){return _?(y=h(this.x,_),f=y-1,(_-this.x[f])*(this.y[y]-this.y[f])/(this.x[y]-this.x[f])+this.y[f]):0},this}function s(c){e.controller.spline||(e.controller.spline=e.params.loop?new i(e.slidesGrid,c.slidesGrid):new i(e.snapGrid,c.snapGrid))}function o(c,u){let h=e.controller.control,f,y,w=e.constructor;function _(v){let S=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(s(v),y=-e.controller.spline.interpolate(-S)),(!y||e.params.controller.by==="container")&&(f=(v.maxTranslate()-v.minTranslate())/(e.maxTranslate()-e.minTranslate()),y=(S-e.minTranslate())*f+v.minTranslate()),e.params.controller.inverse&&(y=v.maxTranslate()-y),v.updateProgress(y),v.setTranslate(y,e),v.updateActiveIndex(),v.updateSlidesClasses()}if(Array.isArray(h))for(let v=0;v<h.length;v+=1)h[v]!==u&&h[v]instanceof w&&_(h[v]);else h instanceof w&&u!==h&&_(h)}function a(c,u){let h=e.constructor,f=e.controller.control,y;function w(_){_.setTransition(c,e),c!==0&&(_.transitionStart(),_.params.autoHeight&&qn(()=>{_.updateAutoHeight()}),_.$wrapperEl.transitionEnd(()=>{!f||(_.params.loop&&e.params.controller.by==="slide"&&_.loopFix(),_.transitionEnd())}))}if(Array.isArray(f))for(y=0;y<f.length;y+=1)f[y]!==u&&f[y]instanceof h&&w(f[y]);else f instanceof h&&u!==f&&w(f)}function l(){!e.controller.control||e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}n("beforeInit",()=>{e.controller.control=e.params.controller.control}),n("update",()=>{l()}),n("resize",()=>{l()}),n("observerUpdate",()=>{l()}),n("setTranslate",(c,u,h)=>{!e.controller.control||e.controller.setTranslate(u,h)}),n("setTransition",(c,u,h)=>{!e.controller.control||e.controller.setTransition(u,h)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}function Am(r){let{swiper:e,extendParams:t,on:n}=r;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}});let i=null;function s(I){let F=i;F.length!==0&&(F.html(""),F.html(I))}function o(I){I===void 0&&(I=16);let F=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(I).replace(/x/g,F)}function a(I){I.attr("tabIndex","0")}function l(I){I.attr("tabIndex","-1")}function c(I,F){I.attr("role",F)}function u(I,F){I.attr("aria-roledescription",F)}function h(I,F){I.attr("aria-controls",F)}function f(I,F){I.attr("aria-label",F)}function y(I,F){I.attr("id",F)}function w(I,F){I.attr("aria-live",F)}function _(I){I.attr("aria-disabled",!0)}function v(I){I.attr("aria-disabled",!1)}function S(I){if(I.keyCode!==13&&I.keyCode!==32)return;let F=e.params.a11y,j=Ce(I.target);e.navigation&&e.navigation.$nextEl&&j.is(e.navigation.$nextEl)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?s(F.lastSlideMessage):s(F.nextSlideMessage)),e.navigation&&e.navigation.$prevEl&&j.is(e.navigation.$prevEl)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?s(F.firstSlideMessage):s(F.prevSlideMessage)),e.pagination&&j.is(Mi(e.params.pagination.bulletClass))&&j[0].click()}function C(){if(e.params.loop||e.params.rewind||!e.navigation)return;let{$nextEl:I,$prevEl:F}=e.navigation;F&&F.length>0&&(e.isBeginning?(_(F),l(F)):(v(F),a(F))),I&&I.length>0&&(e.isEnd?(_(I),l(I)):(v(I),a(I)))}function T(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function E(){return T()&&e.params.pagination.clickable}function k(){let I=e.params.a11y;!T()||e.pagination.bullets.each(F=>{let j=Ce(F);e.params.pagination.clickable&&(a(j),e.params.pagination.renderBullet||(c(j,"button"),f(j,I.paginationBulletMessage.replace(/\{\{index\}\}/,j.index()+1)))),j.is(`.${e.params.pagination.bulletActiveClass}`)?j.attr("aria-current","true"):j.removeAttr("aria-current")})}let O=(I,F,j)=>{a(I),I[0].tagName!=="BUTTON"&&(c(I,"button"),I.on("keydown",S)),f(I,j),h(I,F)},R=I=>{let F=I.target.closest(`.${e.params.slideClass}`);if(!F||!e.slides.includes(F))return;let j=e.slides.indexOf(F)===e.activeIndex,U=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(F);j||U||e.slideTo(e.slides.indexOf(F),0)},P=()=>{let I=e.params.a11y;I.itemRoleDescriptionMessage&&u(Ce(e.slides),I.itemRoleDescriptionMessage),I.slideRole&&c(Ce(e.slides),I.slideRole);let F=e.params.loop?e.slides.filter(j=>!j.classList.contains(e.params.slideDuplicateClass)).length:e.slides.length;I.slideLabelMessage&&e.slides.each((j,U)=>{let W=Ce(j),G=e.params.loop?parseInt(W.attr("data-swiper-slide-index"),10):U,N=I.slideLabelMessage.replace(/\{\{index\}\}/,G+1).replace(/\{\{slidesLength\}\}/,F);f(W,N)})},D=()=>{let I=e.params.a11y;e.$el.append(i);let F=e.$el;I.containerRoleDescriptionMessage&&u(F,I.containerRoleDescriptionMessage),I.containerMessage&&f(F,I.containerMessage);let j=e.$wrapperEl,U=I.id||j.attr("id")||`swiper-wrapper-${o(16)}`,W=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";y(j,U),w(j,W),P();let G,N;e.navigation&&e.navigation.$nextEl&&(G=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(N=e.navigation.$prevEl),G&&G.length&&O(G,U,I.nextSlideMessage),N&&N.length&&O(N,U,I.prevSlideMessage),E()&&e.pagination.$el.on("keydown",Mi(e.params.pagination.bulletClass),S),e.$el.on("focus",R,!0)};function z(){i&&i.length>0&&i.remove();let I,F;e.navigation&&e.navigation.$nextEl&&(I=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(F=e.navigation.$prevEl),I&&I.off("keydown",S),F&&F.off("keydown",S),E()&&e.pagination.$el.off("keydown",Mi(e.params.pagination.bulletClass),S),e.$el.off("focus",R,!0)}n("beforeInit",()=>{i=Ce(`<span class="${e.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{!e.params.a11y.enabled||D()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{!e.params.a11y.enabled||P()}),n("fromEdge toEdge afterInit lock unlock",()=>{!e.params.a11y.enabled||C()}),n("paginationUpdate",()=>{!e.params.a11y.enabled||k()}),n("destroy",()=>{!e.params.a11y.enabled||z()})}function Pm(r){let{swiper:e,extendParams:t,on:n}=r;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let i=!1,s={},o=y=>y.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=y=>{let w=ct(),_;y?_=new URL(y):_=w.location;let v=_.pathname.slice(1).split("/").filter(E=>E!==""),S=v.length,C=v[S-2],T=v[S-1];return{key:C,value:T}},l=(y,w)=>{let _=ct();if(!i||!e.params.history.enabled)return;let v;e.params.url?v=new URL(e.params.url):v=_.location;let S=e.slides.eq(w),C=o(S.attr("data-history"));if(e.params.history.root.length>0){let E=e.params.history.root;E[E.length-1]==="/"&&(E=E.slice(0,E.length-1)),C=`${E}/${y}/${C}`}else v.pathname.includes(y)||(C=`${y}/${C}`);e.params.history.keepQuery&&(C+=v.search);let T=_.history.state;T&&T.value===C||(e.params.history.replaceState?_.history.replaceState({value:C},null,C):_.history.pushState({value:C},null,C))},c=(y,w,_)=>{if(w)for(let v=0,S=e.slides.length;v<S;v+=1){let C=e.slides.eq(v);if(o(C.attr("data-history"))===w&&!C.hasClass(e.params.slideDuplicateClass)){let E=C.index();e.slideTo(E,y,_)}}else e.slideTo(0,y,_)},u=()=>{s=a(e.params.url),c(e.params.speed,s.value,!1)},h=()=>{let y=ct();if(!!e.params.history){if(!y.history||!y.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}i=!0,s=a(e.params.url),!(!s.key&&!s.value)&&(c(0,s.value,e.params.runCallbacksOnInit),e.params.history.replaceState||y.addEventListener("popstate",u))}},f=()=>{let y=ct();e.params.history.replaceState||y.removeEventListener("popstate",u)};n("init",()=>{e.params.history.enabled&&h()}),n("destroy",()=>{e.params.history.enabled&&f()}),n("transitionEnd _freeModeNoMomentumRelease",()=>{i&&l(e.params.history.key,e.activeIndex)}),n("slideChange",()=>{i&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function Om(r){let{swiper:e,extendParams:t,emit:n,on:i}=r,s=!1,o=Tt(),a=ct();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});let l=()=>{n("hashChange");let f=o.location.hash.replace("#",""),y=e.slides.eq(e.activeIndex).attr("data-hash");if(f!==y){let w=e.$wrapperEl.children(`.${e.params.slideClass}[data-hash="${f}"]`).index();if(typeof w>"u")return;e.slideTo(w)}},c=()=>{if(!(!s||!e.params.hashNavigation.enabled))if(e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState)a.history.replaceState(null,null,`#${e.slides.eq(e.activeIndex).attr("data-hash")}`||""),n("hashSet");else{let f=e.slides.eq(e.activeIndex),y=f.attr("data-hash")||f.attr("data-history");o.location.hash=y||"",n("hashSet")}},u=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;s=!0;let f=o.location.hash.replace("#","");if(f)for(let w=0,_=e.slides.length;w<_;w+=1){let v=e.slides.eq(w);if((v.attr("data-hash")||v.attr("data-history"))===f&&!v.hasClass(e.params.slideDuplicateClass)){let C=v.index();e.slideTo(C,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&Ce(a).on("hashchange",l)},h=()=>{e.params.hashNavigation.watchState&&Ce(a).off("hashchange",l)};i("init",()=>{e.params.hashNavigation.enabled&&u()}),i("destroy",()=>{e.params.hashNavigation.enabled&&h()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{s&&c()}),i("slideChange",()=>{s&&e.params.cssMode&&c()})}function km(r){let{swiper:e,extendParams:t,on:n,emit:i}=r,s;e.autoplay={running:!1,paused:!1},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function o(){let v=e.slides.eq(e.activeIndex),S=e.params.autoplay.delay;v.attr("data-swiper-autoplay")&&(S=v.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(s),s=qn(()=>{let C;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),C=e.slidePrev(e.params.speed,!0,!0),i("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?l():(C=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),i("autoplay")):(C=e.slidePrev(e.params.speed,!0,!0),i("autoplay")):e.params.loop?(e.loopFix(),C=e.slideNext(e.params.speed,!0,!0),i("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?l():(C=e.slideTo(0,e.params.speed,!0,!0),i("autoplay")):(C=e.slideNext(e.params.speed,!0,!0),i("autoplay")),(e.params.cssMode&&e.autoplay.running||C===!1)&&o()},S)}function a(){return typeof s<"u"||e.autoplay.running?!1:(e.autoplay.running=!0,i("autoplayStart"),o(),!0)}function l(){return!e.autoplay.running||typeof s>"u"?!1:(s&&(clearTimeout(s),s=void 0),e.autoplay.running=!1,i("autoplayStop"),!0)}function c(v){!e.autoplay.running||e.autoplay.paused||(s&&clearTimeout(s),e.autoplay.paused=!0,v===0||!e.params.autoplay.waitForTransition?(e.autoplay.paused=!1,o()):["transitionend","webkitTransitionEnd"].forEach(S=>{e.$wrapperEl[0].addEventListener(S,h)}))}function u(){let v=Tt();v.visibilityState==="hidden"&&e.autoplay.running&&c(),v.visibilityState==="visible"&&e.autoplay.paused&&(o(),e.autoplay.paused=!1)}function h(v){!e||e.destroyed||!e.$wrapperEl||v.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(S=>{e.$wrapperEl[0].removeEventListener(S,h)}),e.autoplay.paused=!1,e.autoplay.running?o():l())}function f(){e.params.autoplay.disableOnInteraction?l():(i("autoplayPause"),c()),["transitionend","webkitTransitionEnd"].forEach(v=>{e.$wrapperEl[0].removeEventListener(v,h)})}function y(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,i("autoplayResume"),o())}function w(){e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",f),e.$el.on("mouseleave",y))}function _(){e.$el.off("mouseenter",f),e.$el.off("mouseleave",y)}n("init",()=>{e.params.autoplay.enabled&&(a(),Tt().addEventListener("visibilitychange",u),w())}),n("beforeTransitionStart",(v,S,C)=>{e.autoplay.running&&(C||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(S):l())}),n("sliderFirstMove",()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?l():c())}),n("touchEnd",()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&o()}),n("destroy",()=>{_(),e.autoplay.running&&l(),Tt().removeEventListener("visibilitychange",u)}),Object.assign(e.autoplay,{pause:c,run:o,start:a,stop:l})}function Dm(r){let{swiper:e,extendParams:t,on:n}=r;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,s=!1;e.thumbs={swiper:null};function o(){let c=e.thumbs.swiper;if(!c||c.destroyed)return;let u=c.clickedIndex,h=c.clickedSlide;if(h&&Ce(h).hasClass(e.params.thumbs.slideThumbActiveClass)||typeof u>"u"||u===null)return;let f;if(c.params.loop?f=parseInt(Ce(c.clickedSlide).attr("data-swiper-slide-index"),10):f=u,e.params.loop){let y=e.activeIndex;e.slides.eq(y).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,y=e.activeIndex);let w=e.slides.eq(y).prevAll(`[data-swiper-slide-index="${f}"]`).eq(0).index(),_=e.slides.eq(y).nextAll(`[data-swiper-slide-index="${f}"]`).eq(0).index();typeof w>"u"?f=_:typeof _>"u"?f=w:_-y<y-w?f=_:f=w}e.slideTo(f)}function a(){let{thumbs:c}=e.params;if(i)return!1;i=!0;let u=e.constructor;if(c.swiper instanceof u)e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(na(c.swiper)){let h=Object.assign({},c.swiper);Object.assign(h,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new u(h),s=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(c){let u=e.thumbs.swiper;if(!u||u.destroyed)return;let h=u.params.slidesPerView==="auto"?u.slidesPerViewDynamic():u.params.slidesPerView,f=1,y=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(f=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),u.slides.removeClass(y),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let v=0;v<f;v+=1)u.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+v}"]`).addClass(y);else for(let v=0;v<f;v+=1)u.slides.eq(e.realIndex+v).addClass(y);let w=e.params.thumbs.autoScrollOffset,_=w&&!u.params.loop;if(e.realIndex!==u.realIndex||_){let v=u.activeIndex,S,C;if(u.params.loop){u.slides.eq(v).hasClass(u.params.slideDuplicateClass)&&(u.loopFix(),u._clientLeft=u.$wrapperEl[0].clientLeft,v=u.activeIndex);let T=u.slides.eq(v).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),E=u.slides.eq(v).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();typeof T>"u"?S=E:typeof E>"u"?S=T:E-v===v-T?S=u.params.slidesPerGroup>1?E:v:E-v<v-T?S=E:S=T,C=e.activeIndex>e.previousIndex?"next":"prev"}else S=e.realIndex,C=S>e.previousIndex?"next":"prev";_&&(S+=C==="next"?w:-1*w),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(S)<0&&(u.params.centeredSlides?S>v?S=S-Math.floor(h/2)+1:S=S+Math.floor(h/2)-1:S>v&&u.params.slidesPerGroup,u.slideTo(S,c?0:void 0))}}n("beforeInit",()=>{let{thumbs:c}=e.params;!c||!c.swiper||(a(),l(!0))}),n("slideChange update resize observerUpdate",()=>{l()}),n("setTransition",(c,u)=>{let h=e.thumbs.swiper;!h||h.destroyed||h.setTransition(u)}),n("beforeDestroy",()=>{let c=e.thumbs.swiper;!c||c.destroyed||s&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:l})}function Im(r){let{swiper:e,extendParams:t,emit:n,once:i}=r;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function s(){let l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){let{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:en()})}function a(l){let{currentPos:c}=l,{params:u,$wrapperEl:h,rtlTranslate:f,snapGrid:y,touchEventsData:w}=e,v=en()-w.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<y.length?e.slideTo(y.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(w.velocities.length>1){let P=w.velocities.pop(),D=w.velocities.pop(),z=P.position-D.position,I=P.time-D.time;e.velocity=z/I,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(I>150||en()-P.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,w.velocities.length=0;let S=1e3*u.freeMode.momentumRatio,C=e.velocity*S,T=e.translate+C;f&&(T=-T);let E=!1,k,O=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio,R;if(T<e.maxTranslate())u.freeMode.momentumBounce?(T+e.maxTranslate()<-O&&(T=e.maxTranslate()-O),k=e.maxTranslate(),E=!0,w.allowMomentumBounce=!0):T=e.maxTranslate(),u.loop&&u.centeredSlides&&(R=!0);else if(T>e.minTranslate())u.freeMode.momentumBounce?(T-e.minTranslate()>O&&(T=e.minTranslate()+O),k=e.minTranslate(),E=!0,w.allowMomentumBounce=!0):T=e.minTranslate(),u.loop&&u.centeredSlides&&(R=!0);else if(u.freeMode.sticky){let P;for(let D=0;D<y.length;D+=1)if(y[D]>-T){P=D;break}Math.abs(y[P]-T)<Math.abs(y[P-1]-T)||e.swipeDirection==="next"?T=y[P]:T=y[P-1],T=-T}if(R&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?S=Math.abs((-T-e.translate)/e.velocity):S=Math.abs((T-e.translate)/e.velocity),u.freeMode.sticky){let P=Math.abs((f?-T:T)-e.translate),D=e.slidesSizesGrid[e.activeIndex];P<D?S=u.speed:P<2*D?S=u.speed*1.5:S=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&E?(e.updateProgress(k),e.setTransition(S),e.setTranslate(T),e.transitionStart(!0,e.swipeDirection),e.animating=!0,h.transitionEnd(()=>{!e||e.destroyed||!w.allowMomentumBounce||(n("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(k),h.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(n("_freeModeNoMomentumRelease"),e.updateProgress(T),e.setTransition(S),e.setTranslate(T),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,h.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(T),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&n("_freeModeNoMomentumRelease");(!u.freeMode.momentum||v>=u.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:s,onTouchMove:o,onTouchEnd:a}})}function Lm(r){let{swiper:e,extendParams:t}=r;t({grid:{rows:1,fill:"column"}});let n,i,s,o=c=>{let{slidesPerView:u}=e.params,{rows:h,fill:f}=e.params.grid;i=n/h,s=Math.floor(c/h),Math.floor(c/h)===c/h?n=c:n=Math.ceil(c/h)*h,u!=="auto"&&f==="row"&&(n=Math.max(n,u*h))},a=(c,u,h,f)=>{let{slidesPerGroup:y,spaceBetween:w}=e.params,{rows:_,fill:v}=e.params.grid,S,C,T;if(v==="row"&&y>1){let E=Math.floor(c/(y*_)),k=c-_*y*E,O=E===0?y:Math.min(Math.ceil((h-E*_*y)/_),y);T=Math.floor(k/O),C=k-T*O+E*y,S=C+T*n/_,u.css({"-webkit-order":S,order:S})}else v==="column"?(C=Math.floor(c/_),T=c-C*_,(C>s||C===s&&T===_-1)&&(T+=1,T>=_&&(T=0,C+=1))):(T=Math.floor(c/i),C=c-T*i);u.css(f("margin-top"),T!==0?w&&`${w}px`:"")},l=(c,u,h)=>{let{spaceBetween:f,centeredSlides:y,roundLengths:w}=e.params,{rows:_}=e.params.grid;if(e.virtualSize=(c+f)*n,e.virtualSize=Math.ceil(e.virtualSize/_)-f,e.$wrapperEl.css({[h("width")]:`${e.virtualSize+f}px`}),y){u.splice(0,u.length);let v=[];for(let S=0;S<u.length;S+=1){let C=u[S];w&&(C=Math.floor(C)),u[S]<e.virtualSize+u[0]&&v.push(C)}u.push(...v)}};e.grid={initSlides:o,updateSlide:a,updateWrapperSize:l}}function Rm(r){let e=this,{$wrapperEl:t,params:n}=e;if(n.loop&&e.loopDestroy(),typeof r=="object"&&"length"in r)for(let i=0;i<r.length;i+=1)r[i]&&t.append(r[i]);else t.append(r);n.loop&&e.loopCreate(),n.observer||e.update()}function Nm(r){let e=this,{params:t,$wrapperEl:n,activeIndex:i}=e;t.loop&&e.loopDestroy();let s=i+1;if(typeof r=="object"&&"length"in r){for(let o=0;o<r.length;o+=1)r[o]&&n.prepend(r[o]);s=i+r.length}else n.prepend(r);t.loop&&e.loopCreate(),t.observer||e.update(),e.slideTo(s,0,!1)}function zm(r,e){let t=this,{$wrapperEl:n,params:i,activeIndex:s}=t,o=s;i.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.slides=n.children(`.${i.slideClass}`));let a=t.slides.length;if(r<=0){t.prependSlide(e);return}if(r>=a){t.appendSlide(e);return}let l=o>r?o+1:o,c=[];for(let u=a-1;u>=r;u-=1){let h=t.slides.eq(u);h.remove(),c.unshift(h)}if(typeof e=="object"&&"length"in e){for(let u=0;u<e.length;u+=1)e[u]&&n.append(e[u]);l=o>r?o+e.length:o}else n.append(e);for(let u=0;u<c.length;u+=1)n.append(c[u]);i.loop&&t.loopCreate(),i.observer||t.update(),i.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1)}function Fm(r){let e=this,{params:t,$wrapperEl:n,activeIndex:i}=e,s=i;t.loop&&(s-=e.loopedSlides,e.loopDestroy(),e.slides=n.children(`.${t.slideClass}`));let o=s,a;if(typeof r=="object"&&"length"in r){for(let l=0;l<r.length;l+=1)a=r[l],e.slides[a]&&e.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=r,e.slides[a]&&e.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);t.loop&&e.loopCreate(),t.observer||e.update(),t.loop?e.slideTo(o+e.loopedSlides,0,!1):e.slideTo(o,0,!1)}function Bm(){let r=this,e=[];for(let t=0;t<r.slides.length;t+=1)e.push(t);r.removeSlide(e)}function Um(r){let{swiper:e}=r;Object.assign(e,{appendSlide:Rm.bind(e),prependSlide:Nm.bind(e),addSlide:zm.bind(e),removeSlide:Fm.bind(e),removeAllSlides:Bm.bind(e)})}function li(r){let{effect:e,swiper:t,on:n,setTranslate:i,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=r;n("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);let h=o?o():{};Object.assign(t.params,h),Object.assign(t.originalParams,h)}),n("setTranslate",()=>{t.params.effect===e&&i()}),n("setTransition",(h,f)=>{t.params.effect===e&&s(f)}),n("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.each(h=>{t.$(h).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let u;n("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(u=!0),requestAnimationFrame(()=>{u&&t.slides&&t.slides.length&&(i(),u=!1)}))})}function zi(r,e){return r.transformEl?e.find(r.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function xr(r){let{swiper:e,duration:t,transformEl:n,allSlides:i}=r,{slides:s,activeIndex:o,$wrapperEl:a}=e;if(e.params.virtualTranslate&&t!==0){let l=!1,c;i?c=n?s.find(n):s:c=n?s.eq(o).find(n):s.eq(o),c.transitionEnd(()=>{if(l||!e||e.destroyed)return;l=!0,e.animating=!1;let u=["webkitTransitionEnd","transitionend"];for(let h=0;h<u.length;h+=1)a.trigger(u[h])})}}function Hm(r){let{swiper:e,extendParams:t,on:n}=r;t({fadeEffect:{crossFade:!1,transformEl:null}}),li({effect:"fade",swiper:e,on:n,setTranslate:()=>{let{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){let c=e.slides.eq(l),h=-c[0].swiperSlideOffset;e.params.virtualTranslate||(h-=e.translate);let f=0;e.isHorizontal()||(f=h,h=0);let y=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c[0].progress),0):1+Math.min(Math.max(c[0].progress,-1),0);zi(a,c).css({opacity:y}).transform(`translate3d(${h}px, ${f}px, 0px)`)}},setTransition:o=>{let{transformEl:a}=e.params.fadeEffect;(a?e.slides.find(a):e.slides).transition(o),xr({swiper:e,duration:o,transformEl:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Vm(r){let{swiper:e,extendParams:t,on:n}=r;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});let i=(l,c,u)=>{let h=u?l.find(".swiper-slide-shadow-left"):l.find(".swiper-slide-shadow-top"),f=u?l.find(".swiper-slide-shadow-right"):l.find(".swiper-slide-shadow-bottom");h.length===0&&(h=Ce(`<div class="swiper-slide-shadow-${u?"left":"top"}"></div>`),l.append(h)),f.length===0&&(f=Ce(`<div class="swiper-slide-shadow-${u?"right":"bottom"}"></div>`),l.append(f)),h.length&&(h[0].style.opacity=Math.max(-c,0)),f.length&&(f[0].style.opacity=Math.max(c,0))};li({effect:"cube",swiper:e,on:n,setTranslate:()=>{let{$el:l,$wrapperEl:c,slides:u,width:h,height:f,rtlTranslate:y,size:w,browser:_}=e,v=e.params.cubeEffect,S=e.isHorizontal(),C=e.virtual&&e.params.virtual.enabled,T=0,E;v.shadow&&(S?(E=c.find(".swiper-cube-shadow"),E.length===0&&(E=Ce('<div class="swiper-cube-shadow"></div>'),c.append(E)),E.css({height:`${h}px`})):(E=l.find(".swiper-cube-shadow"),E.length===0&&(E=Ce('<div class="swiper-cube-shadow"></div>'),l.append(E))));for(let O=0;O<u.length;O+=1){let R=u.eq(O),P=O;C&&(P=parseInt(R.attr("data-swiper-slide-index"),10));let D=P*90,z=Math.floor(D/360);y&&(D=-D,z=Math.floor(-D/360));let I=Math.max(Math.min(R[0].progress,1),-1),F=0,j=0,U=0;P%4===0?(F=-z*4*w,U=0):(P-1)%4===0?(F=0,U=-z*4*w):(P-2)%4===0?(F=w+z*4*w,U=w):(P-3)%4===0&&(F=-w,U=3*w+w*4*z),y&&(F=-F),S||(j=F,F=0);let W=`rotateX(${S?0:-D}deg) rotateY(${S?D:0}deg) translate3d(${F}px, ${j}px, ${U}px)`;I<=1&&I>-1&&(T=P*90+I*90,y&&(T=-P*90-I*90)),R.transform(W),v.slideShadows&&i(R,I,S)}if(c.css({"-webkit-transform-origin":`50% 50% -${w/2}px`,"transform-origin":`50% 50% -${w/2}px`}),v.shadow)if(S)E.transform(`translate3d(0px, ${h/2+v.shadowOffset}px, ${-h/2}px) rotateX(90deg) rotateZ(0deg) scale(${v.shadowScale})`);else{let O=Math.abs(T)-Math.floor(Math.abs(T)/90)*90,R=1.5-(Math.sin(O*2*Math.PI/360)/2+Math.cos(O*2*Math.PI/360)/2),P=v.shadowScale,D=v.shadowScale/R,z=v.shadowOffset;E.transform(`scale3d(${P}, 1, ${D}) translate3d(0px, ${f/2+z}px, ${-f/2/D}px) rotateX(-90deg)`)}let k=_.isSafari||_.isWebView?-w/2:0;c.transform(`translate3d(0px,0,${k}px) rotateX(${e.isHorizontal()?0:T}deg) rotateY(${e.isHorizontal()?-T:0}deg)`),c[0].style.setProperty("--swiper-cube-translate-z",`${k}px`)},setTransition:l=>{let{$el:c,slides:u}=e;u.transition(l).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(l),e.params.cubeEffect.shadow&&!e.isHorizontal()&&c.find(".swiper-cube-shadow").transition(l)},recreateShadows:()=>{let l=e.isHorizontal();e.slides.each(c=>{let u=Math.max(Math.min(c.progress,1),-1);i(Ce(c),u,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function Fi(r,e,t){let n=`swiper-slide-shadow${t?`-${t}`:""}`,i=r.transformEl?e.find(r.transformEl):e,s=i.children(`.${n}`);return s.length||(s=Ce(`<div class="swiper-slide-shadow${t?`-${t}`:""}"></div>`),i.append(s)),s}function Wm(r){let{swiper:e,extendParams:t,on:n}=r;t({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}});let i=(l,c,u)=>{let h=e.isHorizontal()?l.find(".swiper-slide-shadow-left"):l.find(".swiper-slide-shadow-top"),f=e.isHorizontal()?l.find(".swiper-slide-shadow-right"):l.find(".swiper-slide-shadow-bottom");h.length===0&&(h=Fi(u,l,e.isHorizontal()?"left":"top")),f.length===0&&(f=Fi(u,l,e.isHorizontal()?"right":"bottom")),h.length&&(h[0].style.opacity=Math.max(-c,0)),f.length&&(f[0].style.opacity=Math.max(c,0))};li({effect:"flip",swiper:e,on:n,setTranslate:()=>{let{slides:l,rtlTranslate:c}=e,u=e.params.flipEffect;for(let h=0;h<l.length;h+=1){let f=l.eq(h),y=f[0].progress;e.params.flipEffect.limitRotation&&(y=Math.max(Math.min(f[0].progress,1),-1));let w=f[0].swiperSlideOffset,v=-180*y,S=0,C=e.params.cssMode?-w-e.translate:-w,T=0;e.isHorizontal()?c&&(v=-v):(T=C,C=0,S=-v,v=0),f[0].style.zIndex=-Math.abs(Math.round(y))+l.length,u.slideShadows&&i(f,y,u);let E=`translate3d(${C}px, ${T}px, 0px) rotateX(${S}deg) rotateY(${v}deg)`;zi(u,f).transform(E)}},setTransition:l=>{let{transformEl:c}=e.params.flipEffect;(c?e.slides.find(c):e.slides).transition(l).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(l),xr({swiper:e,duration:l,transformEl:c})},recreateShadows:()=>{let l=e.params.flipEffect;e.slides.each(c=>{let u=Ce(c),h=u[0].progress;e.params.flipEffect.limitRotation&&(h=Math.max(Math.min(c.progress,1),-1)),i(u,h,l)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Gm(r){let{swiper:e,extendParams:t,on:n}=r;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),li({effect:"coverflow",swiper:e,on:n,setTranslate:()=>{let{width:o,height:a,slides:l,slidesSizesGrid:c}=e,u=e.params.coverflowEffect,h=e.isHorizontal(),f=e.translate,y=h?-f+o/2:-f+a/2,w=h?u.rotate:-u.rotate,_=u.depth;for(let v=0,S=l.length;v<S;v+=1){let C=l.eq(v),T=c[v],E=C[0].swiperSlideOffset,k=(y-E-T/2)/T,O=typeof u.modifier=="function"?u.modifier(k):k*u.modifier,R=h?w*O:0,P=h?0:w*O,D=-_*Math.abs(O),z=u.stretch;typeof z=="string"&&z.indexOf("%")!==-1&&(z=parseFloat(u.stretch)/100*T);let I=h?0:z*O,F=h?z*O:0,j=1-(1-u.scale)*Math.abs(O);Math.abs(F)<.001&&(F=0),Math.abs(I)<.001&&(I=0),Math.abs(D)<.001&&(D=0),Math.abs(R)<.001&&(R=0),Math.abs(P)<.001&&(P=0),Math.abs(j)<.001&&(j=0);let U=`translate3d(${F}px,${I}px,${D}px)  rotateX(${P}deg) rotateY(${R}deg) scale(${j})`;if(zi(u,C).transform(U),C[0].style.zIndex=-Math.abs(Math.round(O))+1,u.slideShadows){let G=h?C.find(".swiper-slide-shadow-left"):C.find(".swiper-slide-shadow-top"),N=h?C.find(".swiper-slide-shadow-right"):C.find(".swiper-slide-shadow-bottom");G.length===0&&(G=Fi(u,C,h?"left":"top")),N.length===0&&(N=Fi(u,C,h?"right":"bottom")),G.length&&(G[0].style.opacity=O>0?O:0),N.length&&(N[0].style.opacity=-O>0?-O:0)}}},setTransition:o=>{let{transformEl:a}=e.params.coverflowEffect;(a?e.slides.find(a):e.slides).transition(o).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(o)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function $m(r){let{swiper:e,extendParams:t,on:n}=r;t({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});let i=a=>typeof a=="string"?a:`${a}px`;li({effect:"creative",swiper:e,on:n,setTranslate:()=>{let{slides:a,$wrapperEl:l,slidesSizesGrid:c}=e,u=e.params.creativeEffect,{progressMultiplier:h}=u,f=e.params.centeredSlides;if(f){let y=c[0]/2-e.params.slidesOffsetBefore||0;l.transform(`translateX(calc(50% - ${y}px))`)}for(let y=0;y<a.length;y+=1){let w=a.eq(y),_=w[0].progress,v=Math.min(Math.max(w[0].progress,-u.limitProgress),u.limitProgress),S=v;f||(S=Math.min(Math.max(w[0].originalProgress,-u.limitProgress),u.limitProgress));let C=w[0].swiperSlideOffset,T=[e.params.cssMode?-C-e.translate:-C,0,0],E=[0,0,0],k=!1;e.isHorizontal()||(T[1]=T[0],T[0]=0);let O={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};v<0?(O=u.next,k=!0):v>0&&(O=u.prev,k=!0),T.forEach((j,U)=>{T[U]=`calc(${j}px + (${i(O.translate[U])} * ${Math.abs(v*h)}))`}),E.forEach((j,U)=>{E[U]=O.rotate[U]*Math.abs(v*h)}),w[0].style.zIndex=-Math.abs(Math.round(_))+a.length;let R=T.join(", "),P=`rotateX(${E[0]}deg) rotateY(${E[1]}deg) rotateZ(${E[2]}deg)`,D=S<0?`scale(${1+(1-O.scale)*S*h})`:`scale(${1-(1-O.scale)*S*h})`,z=S<0?1+(1-O.opacity)*S*h:1-(1-O.opacity)*S*h,I=`translate3d(${R}) ${P} ${D}`;if(k&&O.shadow||!k){let j=w.children(".swiper-slide-shadow");if(j.length===0&&O.shadow&&(j=Fi(u,w)),j.length){let U=u.shadowPerProgress?v*(1/u.limitProgress):v;j[0].style.opacity=Math.min(Math.max(Math.abs(U),0),1)}}let F=zi(u,w);F.transform(I).css({opacity:z}),O.origin&&F.css("transform-origin",O.origin)}},setTransition:a=>{let{transformEl:l}=e.params.creativeEffect;(l?e.slides.find(l):e.slides).transition(a).find(".swiper-slide-shadow").transition(a),xr({swiper:e,duration:a,transformEl:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function jm(r){let{swiper:e,extendParams:t,on:n}=r;t({cardsEffect:{slideShadows:!0,transformEl:null,rotate:!0}}),li({effect:"cards",swiper:e,on:n,setTranslate:()=>{let{slides:o,activeIndex:a}=e,l=e.params.cardsEffect,{startTranslate:c,isTouched:u}=e.touchEventsData,h=e.translate;for(let f=0;f<o.length;f+=1){let y=o.eq(f),w=y[0].progress,_=Math.min(Math.max(w,-4),4),v=y[0].swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&e.$wrapperEl.transform(`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(v-=o[0].swiperSlideOffset);let S=e.params.cssMode?-v-e.translate:-v,C=0,T=-100*Math.abs(_),E=1,k=-2*_,O=8-Math.abs(_)*.75,R=e.virtual&&e.params.virtual.enabled?e.virtual.from+f:f,P=(R===a||R===a-1)&&_>0&&_<1&&(u||e.params.cssMode)&&h<c,D=(R===a||R===a+1)&&_<0&&_>-1&&(u||e.params.cssMode)&&h>c;if(P||D){let j=(1-Math.abs((Math.abs(_)-.5)/.5))**.5;k+=-28*_*j,E+=-.5*j,O+=96*j,C=`${-25*j*Math.abs(_)}%`}if(_<0?S=`calc(${S}px + (${O*Math.abs(_)}%))`:_>0?S=`calc(${S}px + (-${O*Math.abs(_)}%))`:S=`${S}px`,!e.isHorizontal()){let j=C;C=S,S=j}let z=_<0?`${1+(1-E)*_}`:`${1-(1-E)*_}`,I=`
        translate3d(${S}, ${C}, ${T}px)
        rotateZ(${l.rotate?k:0}deg)
        scale(${z})
      `;if(l.slideShadows){let j=y.find(".swiper-slide-shadow");j.length===0&&(j=Fi(l,y)),j.length&&(j[0].style.opacity=Math.min(Math.max((Math.abs(_)-.5)/.5,0),1))}y[0].style.zIndex=-Math.abs(Math.round(w))+o.length,zi(l,y).transform(I)}},setTransition:o=>{let{transformEl:a}=e.params.cardsEffect;(a?e.slides.find(a):e.slides).transition(o).find(".swiper-slide-shadow").transition(o),xr({swiper:e,duration:o,transformEl:a})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}var ID=[_m,ym,bm,xm,wm,Sm,Mm,Tm,Em,Cm,Am,Pm,Om,km,Dm,Im,Lm,Um,Hm,Vm,Wm,Gm,$m,jm];br.use(ID);function bw(){let e,t,n,i,s,o=()=>{e=new br(".newsSwiper",{breakpoints:{280:{slidesPerView:1},412:{slidesPerView:1},851:{slidesPerView:2}},spaceBetween:30,navigation:{nextEl:".newsNext",prevEl:".newsPrevious"}})},a=()=>{t=new br(".casestudySwiper",{breakpoints:{280:{slidesPerView:1},412:{slidesPerView:2},851:{slidesPerView:3}},spaceBetween:30,navigation:{nextEl:".casestudyNext",prevEl:".casestudyPrevious"},autoplay:{delay:2e3,disableOnInteraction:!1},loop:!0,loopAdditionalSlides:1})},l=()=>{n=new br(".sustainabilitySwiper",{breakpoints:{280:{slidesPerView:1},412:{slidesPerView:2},851:{slidesPerView:3}},spaceBetween:30,navigation:{nextEl:".sustainabilityNext",prevEl:".sustainabilityPrevious"},autoplay:{delay:2e3,disableOnInteraction:!1},loop:!0,loopAdditionalSlides:1})},c=()=>{let u=document.querySelector(".progressbar_in"),h=5e3;n=new br(".professionalSwiper",{breakpoints:{280:{slidesPerView:1},500:{slidesPerView:2},1280:{slidesPerView:3}},spaceBetween:30,on:{slideChangeTransitionStart:function(){u.style.transitionDuration="0s",u.style.transform="scaleX(0)"},slideChangeTransitionEnd:function(){u.style.transitionDuration=h+"ms",u.style.transform="scaleX(1)"}},navigation:{nextEl:".professionalNext",prevEl:".professionalPrevious"},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,loopAdditionalSlides:1,speed:800})};o(),a(),l(),c(),window.addEventListener("load",()=>{412<window.innerWidth?s=!1:s=!0},!1),typeof window.ontouchstart>"u"&&window.addEventListener("resize",()=>{412<window.innerWidth&&s?(e.destroy(!1,!0),t.destroy(!1,!0),n.destroy(!1,!0),i.destroy(!1,!0),s=!1):412>=window.innerWidth&&!s&&(o(),a(),l(),c(),s=!0)},!1)}function qm(){let r=document.getElementById("movie-thumbnail"),e=document.getElementById("movie-modal"),t=document.getElementById("modal-close"),n=!1,i=document.getElementById("youtube-video").contentWindow,s=document.querySelectorAll("a"),o=function(c,u=null){i.postMessage('{"event":"command", "func":"'+c+'", "args":'+u+"}","*")};r.addEventListener("click",()=>{a()}),t.addEventListener("click",()=>{l("pauseVideo")}),s.forEach(c=>{c.addEventListener("click",()=>{l("stopVideo")})});function a(){n||new Promise(c=>{setTimeout(()=>{e.style.visibility="visible",e.style.opacity=1},100),c()}).then(()=>{setTimeout(()=>{o("playVideo")},300)}).then(()=>{setTimeout(()=>{n=!n},500)})}function l(c){n&&new Promise(u=>{setTimeout(()=>{o(c)},100),u()}).then(()=>{setTimeout(()=>{e.style.opacity=0,e.style.visibility="hidden"},300)}).then(()=>{setTimeout(()=>{n=!n},500)})}}function xw(){let r=['<source src="../../../video/business-video/animation-artificial-intelligence-ai-technology.mp4" id="random_video_source">','<source src="../../../video/business-video/artificial-intelligence-brain-animation.mp4" id="random_video_source">','<source src="../../../video/business-video/cloud-data-transfer-cloud-computing-technology.mp4" id="random_video_source">','<source src="../../../video/business-video/code.mp4" id="random_video_source">','<source src="../../../video/business-video/mobile-app-development-blueprint-concept.mp4" id="random_video_source">','<source src="../../../video/business-video/scene.mp4" id="random_video_source">'],e=r[Math.floor(Math.random()*r.length)],t=document.getElementById("random_video");t.innerHTML=e}var zD=new ww.default({plugins:[new Sw.default,new Mw.default,new Tw.default,new Ew.default({animateScroll:!1}),new Cw.default({containers:["#nav-footer","#header_nav"]})],linkSelector:'a[href^="'+window.location.origin+'"]:not([data-no-swup]):not([target="_blank"]), a[href^="/"]:not([data-no-swup]):not([target="_blank"]), a[href^="#"]:not([data-no-swup]):not([target="_blank"])'});Aw();async function Aw(){if(document.querySelector(".swiper")){console.log("swiper");let t=await bw()}if(document.getElementById("youtube-video")){let t=await qm()}if(document.getElementById("random_video")){let t=await xw()}typeof friconix_update=="function"&&friconix_update();let r,e;if(document.querySelector("#webgl")?(r=await new mu,e=await new gu,e.setImage(),ea.style.opacity=1,Qo?(r.callFunctions(),e.callFunctions()):window.setTimeout(()=>{r.callFunctions(),ea.style.opacity=0,ea.style.visibility="invisible",e.callFunctions()},1e3)):(r=null,e=null),document.querySelector("#privacy")&&document.querySelector("#submitButton")&&(document.querySelector("#privacy").addEventListener("click",()=>{mx()}),document.querySelector("#submitButton").addEventListener("click",()=>{px()})),document.getElementById("youtube-video")){let t=await qm()}}zD.on("contentReplaced",Aw);})();
/*!
 * CSSPlugin 3.10.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
/*!
 * GSAP 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
