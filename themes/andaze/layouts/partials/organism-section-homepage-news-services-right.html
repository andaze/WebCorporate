{{ $swiperName := "" }}
{{ if eq (.Scratch.Get "section") "news" }}
    {{ $swiperName = "newsSwiper" }}
{{ else if eq (.Scratch.Get "section") "casestudy" }}
    {{ $swiperName = "casestudySwiper" }}
{{ else if eq (.Scratch.Get "section") "sustainability" }}
    {{ $swiperName = "sustainabilitySwiper" }}
{{ else if eq (.Scratch.Get "section") "youtube" }}
    {{ $swiperName = "youtubeSwiper" }}
{{ end }}

{{ $youtubeMovies := getJSON "https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=UCfjT9TH2TOy7QRp1X_Ibr4A&maxResults=50&order=date&type=video&key=AIzaSyCQdG7SoPSJVX-vhkkzhjSB6luh6a8Kyno" }}


{{ if or (eq (.Scratch.Get "section") "news") (eq (.Scratch.Get "section") "casestudy") (eq (.Scratch.Get "section") "sustainability") }}
    <div class="flex flex-col sm:flex-row">

        <div #swiperRef="" class="swiper {{ $swiperName }} w-full">
            <div class="swiper-wrapper">
                {{ with .Site.GetPage (.Scratch.Get "section") }}
                    {{ range .Pages }}
                        {{ partial "molecule-section-newtopic-slide.html" . }}
                    {{ end }}
                {{ end }}
            </div>
        </div>
        <div class="flex justify-center md:hidden lg:hidden mt-5">
            {{ partial "molecule-section-irnews-buttongroup.html" . }}
        </div>
    </div>

    <div id="movie-modal" class="fixed inset-0 w-screen h-screen bg-black bg-opacity-50 opacty-0 invisible z-50 transition select-none">
        <div class="absolute -translate-x-2/3 -translate-y-2/3 top-2/3 left-2/3 w-[95%] h-[60%] md:w-[80%] md:h-[80%] bg-white">
            <div id="modal-close" class="absolute top-5 right-5 cursor-pointer text-3xl">×</div>
            <div class="w-[95%] h-[50%] md:w-[73%] md:h-[80%] absolute -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
                <iframe id="youtube-video" width="100%" height="100%" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

{{ else if eq (.Scratch.Get "section") "ir" }}
    <div class="mt-2">
        {{ .Scratch.Set "backgroundTheme" "black" }}    
        {{ partial "molecule-section-irnews-pdf-listing.html" . }}
        {{ .Scratch.Delete "backgroundTheme" }}
    </div>
    <div class="flex justify-center md:hidden lg:hidden mt-5">
        {{ partial "molecule-section-irnews-buttongroup.html" . }}
    </div>

{{ else if eq (.Scratch.Get "section") "youtube" }}

    {{/*  固定表示動画  */}}
    <div class="flex flex-col sm:flex-row justify-between gap-[30px] mb-12">

        {{/*  会社案内(英語と日本語)  */}}
        {{ if eq (.Lang) ("en")}}
            {{ .Scratch.Set "video-id" "r1MN5Bxzhbw" }}
            {{ .Scratch.Set "video-thumbnail" "img/thumbnail_en.png" }}
            {{ .Scratch.Set "video-title" "Company guide from the president. - Andaze Ltd." }}     
        {{ else }}
            {{ .Scratch.Set "video-id" "RHR05atIgYM" }}
            {{ .Scratch.Set "video-thumbnail" "img/thumbnail_ja.png" }}
            {{ .Scratch.Set "video-title" "アンダーズ株式会社　代表が説明する会社案内" }}     
        {{ end }}
        
        {{ partial "molecule-youtube-video.html" . }}

        {{ .Scratch.Delete "video-title" }}
        {{ .Scratch.Delete "video-id" }}
        {{ .Scratch.Delete "video-thumbnail" }}

        {{/*  ジェネリックCRMのススメ  */}}
        {{ .Scratch.Set "video-id" "nHCQjXzRPrg" }}
        {{ .Scratch.Set "video-thumbnail" "img/thumbnail_crm.png" }}
        {{ .Scratch.Set "video-title" "ジェネリックCRMのススメ" }}
        
        {{ partial "molecule-youtube-video.html" . }}

        {{ .Scratch.Delete "video-title" }}
        {{ .Scratch.Delete "video-id" }}
        {{ .Scratch.Delete "video-thumbnail" }}

        {{/*  PaaSススメ  */}}
        {{ .Scratch.Set "video-id" "j_JhrVnCVFQ" }}
        {{ .Scratch.Set "video-thumbnail" "img/thumbnail_paas.png" }}
        {{ .Scratch.Set "video-title" "PaaSススメ" }}
        
        {{ partial "molecule-youtube-video.html" . }}

        {{ .Scratch.Delete "video-title" }}
        {{ .Scratch.Delete "video-id" }}
        {{ .Scratch.Delete "video-thumbnail" }}

    </div>

    <div class="flex flex-row mt-5 mb-5 md:mb-12 lg:mb-12 md:hidden">
        {{ partial "atom-newtopic-sliderbutton.html" . }}
    </div>
    <div id="youtubeList" class="flex flex-col sm:flex-row justify-between">
        <div #swiperRef="" class="swiper {{ $swiperName }} w-full">
            <div class="swiper-wrapper">
                {{ range $youtubeMovies.items }}
                    <div class="swiper-slide">
                        <img class="cursor-pointer h-[180px] w-full object-cover m-0 movie-thumbnail" src={{ .snippet.thumbnails.high.url }} id={{ .id.videoId }}>
                        <p class="font-bold pt-5 text-sm">{{ .snippet.title }}</p>
                    </div>
                {{ end }}
            </div>
        </div>     
    </div>
    <div class="flex justify-center md:hidden lg:hidden mt-5">
        {{ partial "molecule-section-irnews-buttongroup.html" . }}
    </div>

{{ else }}
    {{ partial "organism-section-contents.html" . }}
{{ end }}


