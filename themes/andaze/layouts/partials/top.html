<div id="webgl" class="canvas-wrapper"></div>

<div id="webgl"></div>

<!-- vertexShader -->
<script id="js-vertex-shader" type="x-shader/x-vertex">
  attribute vec3 position;
  attribute vec3 color;
  attribute float alpha;
  attribute vec2 rand;
  uniform mat4 modelViewMatrix;
  uniform mat4 projectionMatrix;
  uniform float u_ratio;
  uniform float u_time;
  varying vec3 v_color;
  varying float v_alpla;

  void main() {
      v_color = color;
      v_alpla = alpha;

      vec3 finalPosition = position;

      // position
      float power = 1000.0;
      vec3 vertexDirection = vec3(normalize(position.xy), 0.0);
      
      vec3 diffuse = -vertexDirection * 1000.0 * u_ratio * rand.x;
      vec3 noise = position * 1000.0 * u_ratio * rand.y;
     
      finalPosition += diffuse;    
  
      gl_Position = projectionMatrix * modelViewMatrix * vec4(finalPosition, 1.0);
      gl_PointSize =  3.0;
  }
</script>

<!-- fragmentShader -->
<script id="js-fragment-shader" type="x-shader/x-fragment">
  precision mediump float;

  varying vec3 v_color;
  varying float v_alpla;

  void main() {
      vec2 temp = gl_PointCoord - vec2(0.5);
      float f = dot(temp, temp);
      if (f > 0.25 ) {
          discard;
      }

      gl_FragColor = vec4(v_color, v_alpla);
  }
</script>

