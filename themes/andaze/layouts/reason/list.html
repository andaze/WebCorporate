{{ define "main" }}
    {{ if .Page.Params.headerImage }}
    <div class="mt-12 text-center relative overflow-hidden bg-no-repeat bg-cover h-96 md:h-[34rem] lg:h-[34rem]">
        {{partial "molecule-section-header-image.html" . }}
    </div>
    {{ else }}
        {{ if .Page.Params.headerVideo }}
        <div class="mt-12 text-center relative overflow-hidden bg-no-repeat bg-cover h-96 md:h-[34rem] lg:h-[34rem]">
            {{partial "molecule-section-header-video.html" . }}
        </div>
        {{ end }}
    {{ end }}
    <div class="container mx-auto px-5 lg:px-28 py-10 {{ if .Page.Params.headerVideo }} {{ else }} pt-20 {{ end  }}">
        {{ partial "breadcrumbs.html" . }}
    </div>
    <div class="container mx-auto px-5 lg:px-28 py-5 mb-24 ">
        <div class="">
            <h1 class="text-4xl font-bold pb-12">{{ .Title }}</h1>
            {{ range .Pages }}
                <div class="mb-40">
                    <h2 class="text-3xl font-bold mt-12 pb-6">{{ .Title }}</h2>
                    {{ .Page.Params.text | markdownify }}
                    {{ .Content }}
                 {{ if eq .Page.Params.type ("list")}}

                        {{ .Scratch.Set "section" "services" }}
                        {{ with .Site.GetPage "section" (.Scratch.Get "section") }}
                            <div class="my-12 sm:my-32">
                                {{ partial "organism-section-cards-part.html" . }}
                            </div>
                        {{ end }}
                        {{ .Scratch.Delete "section" }}

                    {{ else if eq .Page.Params.type ("images")}}

                        <div class="grid md:grid-cols-3 sm:grid-cols-2 md:gap-4 mt-10">
                            {{ range .Pages }}
                                <div class="flex justify-center">
                                    {{ .Scratch.Set "class" "w-auto h-20 my-6 md:h-32 object-cover" }}
                                    {{ .Scratch.Set "format" "webp" }}
                                    {{ .Scratch.Set "hint" "smart" }}
                                    {{ if .Page.Params.img }}
                                        {{ .Scratch.Set "src" .Page.Params.img }}
                                    {{ end }}
                                    {{ .Scratch.Set "type" "thumbnail" }}
                                        {{ partial "atom-picture.html" . }}
                                    {{ .Scratch.Delete "class" }}
                                    {{ .Scratch.Delete "format" }}
                                    {{ .Scratch.Delete "hint" }}
                                    {{ .Scratch.Delete "src" }}
                                    {{ .Scratch.Delete "type" }}
                                </div>
                            {{ end }}
                        </div>

                    {{ else }}

                        {{ range .Pages }}

                        {{ $class := ""}}
                        {{ if .Page.Params.rowReverse }}
                            {{ $class = "flex-row-reverse"}}
                        {{ end }}

                        <div class="my-20">
                            <div class="lg:flex justify-between gap-10 {{ $class }}">
                                <div>
                                    <h3 class="text-2xl font-bold pb-2">{{ .Title }}</h3>
                                    {{ .Page.Params.text | markdownify }}
                                </div>
                                {{ .Scratch.Set "class" "w-auto h-52 md:h-80 object-cover mt-10 lg:mt-0" }}
                                {{ .Scratch.Set "format" "webp" }}
                                {{ .Scratch.Set "hint" "smart" }}
                                {{ if .Page.Params.img }}
                                    {{ .Scratch.Set "src" .Page.Params.img }}
                                {{ end }}
                                {{ .Scratch.Set "type" "thumbnail-lg" }}
                                    {{ partial "atom-picture.html" . }}   
                                {{ .Scratch.Delete "class" }}
                                {{ .Scratch.Delete "format" }}
                                {{ .Scratch.Delete "hint" }}
                                {{ .Scratch.Delete "src" }}
                                {{ .Scratch.Delete "type" }}
                            </div>
                        </div>

                        {{ end }}
                    {{ end }}
                </div>
            {{ end }}
        </div>
    </div>
{{ end }}
