(()=>{var t=document.getElementById("accordion-collapse"),f=document.querySelector("#accordion-collapse-heading-request > p"),h=document.getElementById("accordion-collapse-body-request"),k=document.getElementById("request-form-mobile"),s=document.querySelector("#request-form-mobile > button"),g=s.textContent,r=!1,o=!0,n=document.getElementById("black_background"),b;window.innerWidth>=900&&window.innerWidth<1800?window.addEventListener("scroll",()=>{t.style.opacity=0,clearTimeout(b),b=setTimeout(function(){t.style.opacity=1,t.style.visibility="visible",o?o=!o:!o&f.getAttribute("aria-expanded")==="false"&&h.classList.add("hidden")},1500)}):s.addEventListener("click",()=>{r?(new Promise(a=>{setTimeout(()=>{t.style.opacity=0,n.style.opacity=0},10),a()}).then(()=>{setTimeout(()=>{t.style.visibility="hidden",n.style.visibility="hidden"},500)}),r=!1,s.textContent=g):(t.style.opacity=1,t.style.visibility="visible",n.style.opacity=.6,n.style.visibility="visible",r=!0,s.textContent="\u9589\u3058\u308B")});var w=document.querySelectorAll(".movie-thumbnail"),l=document.getElementById("movie-modal"),E=document.getElementById("modal-close"),c=!1,d=document.getElementById("youtube-video"),T=document.querySelectorAll("a");w.forEach(a=>{a.addEventListener("click",p=>{new Promise(i=>{setTimeout(()=>{d.src="https://www.youtube.com/embed/"+p.target.id+"?enablejsapi=1"},10),i()}).then(()=>{setTimeout(()=>{v();let i=d.contentWindow;console.log(i);let u=function(e,m=null){i.postMessage('{"event":"command", "func":"'+e+'", "args":'+m+"}","*")};E.addEventListener("click",()=>{y("stopVideo"),d.src=""}),T.forEach(e=>{e.addEventListener("click",()=>{y("stopVideo"),d.src=""})});function v(){c===!1&&new Promise(e=>{setTimeout(()=>{l.style.visibility="visible",l.style.opacity=1},100),e()}).then(()=>{setTimeout(()=>{u("playVideo")},300)}).then(()=>{setTimeout(()=>{c=!0},500)})}function y(e){c===!0&&new Promise(m=>{setTimeout(()=>{u(e)},100),m()}).then(()=>{setTimeout(()=>{l.style.opacity=0,l.style.visibility="hidden"},300)}).then(()=>{setTimeout(()=>{c=!1},500)})}},100)})})});})();
