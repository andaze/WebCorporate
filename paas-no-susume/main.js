(()=>{var c=t=>new Promise(e=>{setTimeout(e,t)}),i=async(t,e)=>{let o=document.createElement("a");o.download=e,o.href=t,o.style.display="none",document.body.append(o),o.click(),await c(100),o.remove()};async function n(t,{rename:e}={}){if(!t)throw new Error("`urls` required");for(let[o,a]of t.entries()){let d=typeof e=="function"?e({url:a,index:o,urls:t}):"";await c(o*1e3),i(a,d)}}var s=new Event("submit"),l=document.querySelector(".download-form"),r=document.querySelectorAll(".download-button");r.forEach(t=>{t.addEventListener("click",e=>{t.classList.contains("with-form")&&l.dispatchEvent(s);let o=e.target.dataset.files.split(" ");n(o)})});})();
